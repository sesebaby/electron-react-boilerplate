/*! For license information please see bundle.js.LICENSE.txt */
(()=>{"use strict";var e={20:(e,n,t)=>{var r=t(540),a=Symbol.for("react.element"),s=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,n,t){var r,s={},c=null,d=null;for(r in void 0!==t&&(c=""+t),void 0!==n.key&&(c=""+n.key),void 0!==n.ref&&(d=n.ref),n)i.call(n,r)&&!l.hasOwnProperty(r)&&(s[r]=n[r]);if(e&&e.defaultProps)for(r in n=e.defaultProps)void 0===s[r]&&(s[r]=n[r]);return{$$typeof:a,type:e,key:c,ref:d,props:s,_owner:o.current}}n.Fragment=s,n.jsx=c,n.jsxs=c},56:(e,n,t)=>{e.exports=function(e){var n=t.nc;n&&e.setAttribute("nonce",n)}},72:e=>{var n=[];function t(e){for(var t=-1,r=0;r<n.length;r++)if(n[r].identifier===e){t=r;break}return t}function r(e,r){for(var s={},i=[],o=0;o<e.length;o++){var l=e[o],c=r.base?l[0]+r.base:l[0],d=s[c]||0,u="".concat(c," ").concat(d);s[c]=d+1;var p=t(u),h={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==p)n[p].references++,n[p].updater(h);else{var m=a(h,r);r.byIndex=o,n.splice(o,0,{identifier:u,updater:m,references:1})}i.push(u)}return i}function a(e,n){var t=n.domAPI(n);return t.update(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;t.update(e=n)}else t.remove()}}e.exports=function(e,a){var s=r(e=e||[],a=a||{});return function(e){e=e||[];for(var i=0;i<s.length;i++){var o=t(s[i]);n[o].references--}for(var l=r(e,a),c=0;c<s.length;c++){var d=t(s[c]);0===n[d].references&&(n[d].updater(),n.splice(d,1))}s=l}}},113:e=>{e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}},122:(e,n,t)=>{t.d(n,{A:()=>o});var r=t(601),a=t.n(r),s=t(314),i=t.n(s)()(a());i.push([e.id,"/* ===== 库存管理玻璃感样式 ===== */\n\n.inventory-overview {\n  padding: var(--spacing-lg);\n  background: var(--app-background);\n  min-height: 100vh;\n  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n  position: relative;\n}\n\n.inventory-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: var(--spacing-xl);\n  padding: var(--spacing-lg);\n  background: var(--surface-background);\n  backdrop-filter: var(--glass-blur);\n  -webkit-backdrop-filter: var(--glass-blur);\n  border: var(--glass-border);\n  border-radius: var(--border-radius-xl);\n  box-shadow: var(--glass-shadow);\n  position: relative;\n  overflow: hidden;\n}\n\n.inventory-header::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 2px;\n  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.6), transparent);\n}\n\n.inventory-header h2 {\n  color: var(--text-accent);\n  font-size: 1.8rem;\n  font-weight: 700;\n  margin: 0;\n  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n\n.inventory-actions {\n  display: flex;\n  gap: var(--spacing-md);\n}\n\n.action-button {\n  padding: var(--spacing-sm) var(--spacing-md);\n  background: var(--card-background);\n  backdrop-filter: var(--glass-blur);\n  -webkit-backdrop-filter: var(--glass-blur);\n  border: var(--glass-border);\n  border-radius: var(--border-radius-sm);\n  font-size: 0.9rem;\n  font-weight: 600;\n  cursor: pointer;\n  transition: var(--transition-base);\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-xs);\n  color: var(--text-primary);\n  position: relative;\n  overflow: hidden;\n}\n\n.action-button.primary {\n  background: var(--primary-gradient);\n  color: white;\n  border-color: rgba(255, 255, 255, 0.3);\n}\n\n.action-button.primary::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: linear-gradient(135deg, rgba(255, 255, 255, 0.2) 0%, transparent 50%);\n  opacity: 0;\n  transition: var(--transition-base);\n}\n\n.action-button.primary:hover::before {\n  opacity: 1;\n}\n\n.action-button.primary:hover {\n  transform: translateY(-2px);\n  box-shadow: var(--glass-shadow-hover);\n}\n\n.action-button.secondary {\n  background: var(--card-background);\n  color: var(--text-primary);\n}\n\n.action-button.secondary:hover {\n  background: var(--hover-background);\n  transform: translateY(-1px);\n  box-shadow: var(--glass-shadow);\n}\n\n/* 统计卡片 - 玻璃感 */\n.stats-cards {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));\n  gap: var(--spacing-lg);\n  margin-bottom: var(--spacing-2xl);\n}\n\n.stat-card {\n  background: var(--card-background);\n  backdrop-filter: var(--glass-blur);\n  -webkit-backdrop-filter: var(--glass-blur);\n  border: var(--glass-border);\n  border-radius: var(--border-radius-lg);\n  padding: var(--spacing-lg);\n  box-shadow: var(--glass-shadow);\n  transition: var(--transition-base);\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-md);\n  position: relative;\n  overflow: hidden;\n}\n\n.stat-card::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, transparent 50%, rgba(255, 255, 255, 0.05) 100%);\n  opacity: 0;\n  transition: var(--transition-base);\n  pointer-events: none;\n}\n\n.stat-card:hover {\n  background: var(--hover-background);\n  transform: translateY(-4px);\n  box-shadow: var(--glass-shadow-hover);\n}\n\n.stat-card:hover::before {\n  opacity: 1;\n}\n\n.stat-card.warning {\n  border-color: rgba(255, 193, 7, 0.4);\n  background: linear-gradient(135deg, var(--card-background), rgba(255, 193, 7, 0.05));\n}\n\n.stat-card.danger {\n  border-color: rgba(220, 53, 69, 0.4);\n  background: linear-gradient(135deg, var(--card-background), rgba(220, 53, 69, 0.05));\n}\n\n.stat-icon {\n  font-size: 2.5rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 60px;\n  height: 60px;\n  border-radius: var(--border-radius-md);\n  background: var(--surface-background);\n  backdrop-filter: var(--glass-blur);\n  -webkit-backdrop-filter: var(--glass-blur);\n  border: var(--glass-border);\n  color: var(--text-accent);\n  box-shadow: inset 0 2px 8px rgba(255, 255, 255, 0.1);\n  flex-shrink: 0;\n}\n\n.stat-content {\n  flex: 1;\n}\n\n.stat-content h3 {\n  color: var(--text-secondary);\n  font-size: 1rem;\n  font-weight: 600;\n  margin: 0 0 var(--spacing-sm) 0;\n  letter-spacing: 0.5px;\n}\n\n.stat-value {\n  color: var(--text-accent);\n  font-size: 1.8rem;\n  font-weight: 700;\n  margin: 0 0 var(--spacing-xs) 0;\n  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n\n.stat-label {\n  color: var(--text-tertiary);\n  font-size: 0.85rem;\n  font-weight: 500;\n}\n\n/* 库存分区 - 玻璃感 */\n.inventory-section {\n  background: var(--surface-background);\n  backdrop-filter: var(--glass-blur);\n  -webkit-backdrop-filter: var(--glass-blur);\n  border: var(--glass-border);\n  border-radius: var(--border-radius-xl);\n  padding: var(--spacing-xl);\n  margin-bottom: var(--spacing-xl);\n  box-shadow: var(--glass-shadow);\n  transition: var(--transition-base);\n}\n\n.inventory-section h3 {\n  color: var(--text-primary);\n  font-size: 1.3rem;\n  font-weight: 600;\n  margin: 0 0 var(--spacing-lg) 0;\n  padding-bottom: var(--spacing-md);\n  border-bottom: 2px solid rgba(255, 255, 255, 0.1);\n  position: relative;\n}\n\n.inventory-section h3::after {\n  content: '';\n  position: absolute;\n  bottom: -2px;\n  left: 0;\n  width: 60px;\n  height: 2px;\n  background: linear-gradient(90deg, var(--text-accent), transparent);\n}\n\n/* 分类网格 - 玻璃感 */\n.category-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n  gap: var(--spacing-md);\n}\n\n.category-card {\n  background: var(--card-background);\n  backdrop-filter: var(--glass-blur);\n  -webkit-backdrop-filter: var(--glass-blur);\n  border: var(--glass-border);\n  border-radius: var(--border-radius-md);\n  padding: var(--spacing-md);\n  transition: var(--transition-base);\n  position: relative;\n  overflow: hidden;\n}\n\n.category-card::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: linear-gradient(135deg, rgba(255, 255, 255, 0.05) 0%, transparent 50%);\n  opacity: 0;\n  transition: var(--transition-base);\n}\n\n.category-card:hover {\n  background: var(--hover-background);\n  transform: translateY(-2px);\n  box-shadow: var(--glass-shadow);\n}\n\n.category-card:hover::before {\n  opacity: 1;\n}\n\n.category-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: var(--spacing-sm);\n}\n\n.category-name {\n  color: var(--text-primary);\n  font-weight: 600;\n  font-size: 0.9rem;\n}\n\n.category-count {\n  color: var(--text-tertiary);\n  font-size: 0.8rem;\n}\n\n.category-value {\n  color: var(--text-accent);\n  font-size: 1.1rem;\n  font-weight: 600;\n  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n}\n\n/* 库存变动列表 - 玻璃感 */\n.movements-list {\n  display: flex;\n  flex-direction: column;\n  gap: var(--spacing-md);\n}\n\n.movement-item {\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-md);\n  padding: var(--spacing-md);\n  background: var(--card-background);\n  backdrop-filter: var(--glass-blur);\n  -webkit-backdrop-filter: var(--glass-blur);\n  border: var(--glass-border);\n  border-radius: var(--border-radius-md);\n  transition: var(--transition-base);\n  position: relative;\n  overflow: hidden;\n}\n\n.movement-item::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: linear-gradient(135deg, rgba(255, 255, 255, 0.05) 0%, transparent 50%);\n  opacity: 0;\n  transition: var(--transition-base);\n}\n\n.movement-item:hover {\n  background: var(--hover-background);\n  transform: translateX(4px);\n  box-shadow: var(--glass-shadow);\n}\n\n.movement-item:hover::before {\n  opacity: 1;\n}\n\n.movement-icon {\n  font-size: 1.5rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 40px;\n  height: 40px;\n  border-radius: var(--border-radius-sm);\n  background: var(--surface-background);\n  backdrop-filter: var(--glass-blur);\n  -webkit-backdrop-filter: var(--glass-blur);\n  border: var(--glass-border);\n  box-shadow: inset 0 2px 4px rgba(255, 255, 255, 0.1);\n}\n\n.movement-content {\n  flex: 1;\n}\n\n.movement-product {\n  color: var(--text-primary);\n  font-weight: 600;\n  font-size: 0.95rem;\n  margin-bottom: var(--spacing-xs);\n}\n\n.movement-details {\n  color: var(--text-tertiary);\n  font-size: 0.8rem;\n}\n\n.movement-type {\n  color: var(--text-primary);\n  font-weight: 600;\n  font-size: 0.85rem;\n  background: var(--card-background);\n  backdrop-filter: var(--glass-blur);\n  -webkit-backdrop-filter: var(--glass-blur);\n  border: var(--glass-border);\n  padding: var(--spacing-xs) var(--spacing-sm);\n  border-radius: var(--border-radius-sm);\n}\n\n/* 加载和错误状态 - 玻璃感 */\n.loading-container, .error-container {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: var(--spacing-2xl);\n  text-align: center;\n  background: var(--surface-background);\n  backdrop-filter: var(--glass-blur);\n  -webkit-backdrop-filter: var(--glass-blur);\n  border: var(--glass-border);\n  border-radius: var(--border-radius-xl);\n  box-shadow: var(--glass-shadow);\n}\n\n.loading-spinner {\n  width: 40px;\n  height: 40px;\n  border: 4px solid rgba(255, 255, 255, 0.2);\n  border-top: 4px solid var(--text-accent);\n  border-radius: 50%;\n  animation: spin 1s linear infinite;\n  margin-bottom: var(--spacing-md);\n}\n\n.loading-container p, .error-container p {\n  color: var(--text-secondary);\n  font-size: 1.1rem;\n  margin: 0;\n}\n\n.error-icon {\n  font-size: 3rem;\n  margin-bottom: var(--spacing-md);\n  color: var(--text-accent);\n}\n\n.error-container h3 {\n  color: var(--text-primary);\n  font-size: 1.3rem;\n  font-weight: 600;\n  margin: 0 0 var(--spacing-sm) 0;\n}\n\n.retry-button {\n  background: var(--primary-gradient);\n  color: white;\n  border: var(--glass-border);\n  border-radius: var(--border-radius-sm);\n  padding: var(--spacing-sm) var(--spacing-lg);\n  font-size: 0.9rem;\n  font-weight: 600;\n  cursor: pointer;\n  transition: var(--transition-base);\n  box-shadow: var(--glass-shadow);\n  position: relative;\n  overflow: hidden;\n}\n\n.retry-button::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: linear-gradient(135deg, rgba(255, 255, 255, 0.2) 0%, transparent 50%);\n  opacity: 0;\n  transition: var(--transition-base);\n}\n\n.retry-button:hover::before {\n  opacity: 1;\n}\n\n.retry-button:hover {\n  transform: translateY(-2px);\n  box-shadow: var(--glass-shadow-hover);\n}\n\n@keyframes spin {\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(360deg); }\n}\n\n/* ===== 库存列表样式 ===== */\n\n.inventory-list {\n  padding: 24px;\n  background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);\n  min-height: 100vh;\n  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n}\n\n/* 过滤器区域 */\n.filters-section {\n  background: rgba(255, 255, 255, 0.9);\n  -webkit-backdrop-filter: blur(10px);\n          backdrop-filter: blur(10px);\n  border-radius: 16px;\n  padding: 24px;\n  margin-bottom: 24px;\n  border: 1px solid rgba(255, 255, 255, 0.5);\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);\n}\n\n.filters-row {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n  gap: 16px;\n  align-items: end;\n}\n\n.filter-group {\n  display: flex;\n  flex-direction: column;\n  gap: 6px;\n}\n\n.filter-group label {\n  color: #2c3e50;\n  font-weight: 600;\n  font-size: 0.9rem;\n}\n\n.filter-input, .filter-select {\n  padding: 10px 12px;\n  border: 1px solid rgba(255, 255, 255, 0.6);\n  border-radius: 8px;\n  background: rgba(255, 255, 255, 0.8);\n  color: #2c3e50;\n  font-size: 0.9rem;\n  transition: all 0.3s ease;\n}\n\n.filter-input:focus, .filter-select:focus {\n  outline: none;\n  border-color: #667eea;\n  box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);\n}\n\n/* 表格区域 */\n.inventory-table-section {\n  background: rgba(255, 255, 255, 0.9);\n  -webkit-backdrop-filter: blur(10px);\n          backdrop-filter: blur(10px);\n  border-radius: 16px;\n  padding: 24px;\n  border: 1px solid rgba(255, 255, 255, 0.5);\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);\n}\n\n.table-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n}\n\n.table-info {\n  color: #7f8c8d;\n  font-size: 0.9rem;\n}\n\n.inventory-table-container {\n  overflow-x: auto;\n  border-radius: 12px;\n  border: 1px solid rgba(255, 255, 255, 0.6);\n}\n\n.inventory-table {\n  width: 100%;\n  border-collapse: collapse;\n  background: rgba(255, 255, 255, 0.9);\n}\n\n.inventory-table th {\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  color: white;\n  padding: 16px 12px;\n  text-align: left;\n  font-weight: 600;\n  font-size: 0.9rem;\n}\n\n.inventory-table td {\n  padding: 12px;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.6);\n  color: #2c3e50;\n  font-size: 0.9rem;\n}\n\n.inventory-table tr:hover {\n  background: rgba(102, 126, 234, 0.05);\n}\n\n/* 表格单元格样式 */\n.product-cell {\n  min-width: 120px;\n}\n\n.product-info {\n  display: flex;\n  flex-direction: column;\n  gap: 2px;\n}\n\n.product-id {\n  font-weight: 600;\n  color: #2c3e50;\n}\n\n.stock-cell {\n  text-align: right;\n  font-weight: 600;\n}\n\n.value-cell {\n  text-align: right;\n  color: #27ae60;\n  font-weight: 600;\n}\n\n.date-cell {\n  color: #7f8c8d;\n  font-size: 0.8rem;\n}\n\n.actions-cell {\n  display: flex;\n  gap: 8px;\n  justify-content: center;\n}\n\n.action-btn {\n  padding: 6px 8px;\n  border: none;\n  border-radius: 6px;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  font-size: 0.8rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.action-btn.edit {\n  background: #3498db;\n  color: white;\n}\n\n.action-btn.adjust {\n  background: #f39c12;\n  color: white;\n}\n\n.action-btn.delete {\n  background: #e74c3c;\n  color: white;\n}\n\n.action-btn:hover {\n  transform: translateY(-1px);\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);\n}\n\n/* 状态标记 */\n.status-badge {\n  padding: 4px 8px;\n  border-radius: 12px;\n  font-size: 0.8rem;\n  font-weight: 600;\n  text-align: center;\n  min-width: 60px;\n  display: inline-block;\n}\n\n.status-badge.normal-stock {\n  background: #d4edda;\n  color: #155724;\n}\n\n.status-badge.low-stock {\n  background: #fff3cd;\n  color: #856404;\n}\n\n.status-badge.out-of-stock {\n  background: #f8d7da;\n  color: #721c24;\n}\n\n/* 库存状态行样式 */\n.inventory-table tr.low-stock {\n  background: rgba(255, 193, 7, 0.05);\n}\n\n.inventory-table tr.out-of-stock {\n  background: rgba(220, 53, 69, 0.05);\n}\n\n.inventory-table tr.normal-stock {\n  background: rgba(40, 167, 69, 0.02);\n}\n\n/* 响应式设计 */\n@media (max-width: 768px) {\n  .inventory-overview, .inventory-list {\n    padding: 16px;\n  }\n  \n  .inventory-header {\n    flex-direction: column;\n    gap: 16px;\n    align-items: flex-start;\n  }\n  \n  .stats-cards {\n    grid-template-columns: 1fr;\n  }\n  \n  .category-grid {\n    grid-template-columns: 1fr;\n  }\n  \n  .movement-item {\n    flex-direction: column;\n    text-align: center;\n  }\n  \n  .filters-row {\n    grid-template-columns: 1fr;\n  }\n  \n  .inventory-table-container {\n    font-size: 0.8rem;\n  }\n  \n  .inventory-table th,\n  .inventory-table td {\n    padding: 8px 4px;\n  }\n  \n  .actions-cell {\n    flex-direction: column;\n    gap: 4px;\n  }\n}\n\n/* ===== 商品管理页面样式 ===== */\n\n.product-management {\n  padding: var(--spacing-lg);\n  background: transparent;\n  min-height: 100vh;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;\n}\n\n/* 页面头部 */\n.page-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  margin-bottom: var(--spacing-xl);\n  padding: var(--spacing-lg);\n  background: var(--surface-background);\n  backdrop-filter: var(--glass-blur);\n  -webkit-backdrop-filter: var(--glass-blur);\n  border: var(--glass-border);\n  border-radius: var(--border-radius-xl);\n  box-shadow: var(--glass-shadow);\n}\n\n.header-left h2 {\n  color: var(--text-accent);\n  font-size: 2rem;\n  font-weight: 700;\n  margin: 0 0 var(--spacing-sm) 0;\n  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n\n.header-left p {\n  color: var(--text-secondary);\n  font-size: 0.9rem;\n  margin: 0;\n}\n\n.header-actions {\n  display: flex;\n  gap: var(--spacing-md);\n}\n\n/* 玻璃感按钮 */\n.glass-button {\n  display: inline-flex;\n  align-items: center;\n  gap: var(--spacing-sm);\n  padding: var(--spacing-sm) var(--spacing-lg);\n  background: var(--card-background);\n  backdrop-filter: var(--glass-blur);\n  -webkit-backdrop-filter: var(--glass-blur);\n  border: var(--glass-border);\n  border-radius: var(--border-radius-md);\n  color: var(--text-primary);\n  font-weight: 600;\n  font-size: 0.9rem;\n  cursor: pointer;\n  transition: var(--transition-base);\n  text-decoration: none;\n}\n\n.glass-button:hover {\n  background: var(--hover-background);\n  transform: translateY(-1px);\n  box-shadow: var(--glass-shadow);\n}\n\n.glass-button:active {\n  transform: translateY(0);\n}\n\n.glass-button.primary {\n  background: var(--primary-gradient);\n  color: white;\n  border-color: rgba(255, 255, 255, 0.3);\n}\n\n.glass-button.primary:hover {\n  background: linear-gradient(135deg, #5a6fd8 0%, #6b4d99 100%);\n  box-shadow: var(--glass-shadow-hover);\n}\n\n.glass-button.secondary {\n  background: var(--card-background);\n  color: var(--text-primary);\n}\n\n.button-icon {\n  font-size: 1rem;\n}\n\n/* 过滤区域 */\n.filter-section {\n  margin-bottom: var(--spacing-xl);\n  padding: var(--spacing-lg);\n  background: var(--surface-background);\n  backdrop-filter: var(--glass-blur);\n  -webkit-backdrop-filter: var(--glass-blur);\n  border: var(--glass-border);\n  border-radius: var(--border-radius-lg);\n  box-shadow: var(--glass-shadow);\n}\n\n.filter-row {\n  display: grid;\n  grid-template-columns: 2fr 1fr 1fr;\n  gap: var(--spacing-lg);\n  align-items: end;\n}\n\n.filter-group {\n  display: flex;\n  flex-direction: column;\n  gap: var(--spacing-sm);\n}\n\n.filter-group label {\n  color: var(--text-secondary);\n  font-size: 0.85rem;\n  font-weight: 600;\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n}\n\n/* 玻璃感输入框 */\n.glass-input, .glass-select, .glass-textarea {\n  width: 100%;\n  padding: var(--spacing-sm) var(--spacing-md);\n  background: var(--card-background);\n  backdrop-filter: var(--glass-blur);\n  -webkit-backdrop-filter: var(--glass-blur);\n  border: var(--glass-border);\n  border-radius: var(--border-radius-md);\n  color: var(--text-primary);\n  font-size: 0.9rem;\n  transition: var(--transition-base);\n}\n\n.glass-input:focus, .glass-select:focus, .glass-textarea:focus {\n  background: var(--hover-background);\n  border-color: rgba(255, 255, 255, 0.5);\n  box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.1);\n  outline: none;\n}\n\n.glass-input::-moz-placeholder, .glass-textarea::-moz-placeholder {\n  color: var(--text-tertiary);\n}\n\n.glass-input::placeholder, .glass-textarea::placeholder {\n  color: var(--text-tertiary);\n}\n\n.search-input-wrapper {\n  position: relative;\n}\n\n.search-icon {\n  position: absolute;\n  left: var(--spacing-md);\n  top: 50%;\n  transform: translateY(-50%);\n  color: var(--text-tertiary);\n  font-size: 1rem;\n  pointer-events: none;\n}\n\n.search-input-wrapper .glass-input {\n  padding-left: 2.5rem;\n}\n\n/* 内容区域 */\n.content-section {\n  background: var(--surface-background);\n  backdrop-filter: var(--glass-blur);\n  -webkit-backdrop-filter: var(--glass-blur);\n  border: var(--glass-border);\n  border-radius: var(--border-radius-lg);\n  box-shadow: var(--glass-shadow);\n  overflow: hidden;\n}\n\n.section-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: var(--spacing-lg);\n  border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n  background: var(--card-background);\n}\n\n.section-header h3 {\n  color: var(--text-primary);\n  font-size: 1.2rem;\n  font-weight: 600;\n  margin: 0;\n}\n\n.item-count {\n  color: var(--text-secondary);\n  font-size: 0.85rem;\n}\n\n/* 玻璃感表格 */\n.glass-table-container {\n  overflow-x: auto;\n}\n\n.glass-table {\n  width: 100%;\n  border-collapse: collapse;\n  background: transparent;\n}\n\n.glass-table th {\n  background: var(--card-background);\n  padding: var(--spacing-md);\n  text-align: left;\n  font-weight: 600;\n  font-size: 0.85rem;\n  color: var(--text-secondary);\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n  position: sticky;\n  top: 0;\n  backdrop-filter: var(--glass-blur);\n  -webkit-backdrop-filter: var(--glass-blur);\n}\n\n.glass-table td {\n  padding: var(--spacing-md);\n  border-bottom: 1px solid rgba(255, 255, 255, 0.05);\n  color: var(--text-primary);\n  font-size: 0.9rem;\n  vertical-align: top;\n}\n\n.glass-table tr:hover {\n  background: rgba(255, 255, 255, 0.03);\n}\n\n/* 表格单元格样式 */\n.product-info-cell {\n  min-width: 200px;\n}\n\n.product-info {\n  display: flex;\n  flex-direction: column;\n  gap: var(--spacing-xs);\n}\n\n.product-name {\n  font-weight: 600;\n  color: var(--text-primary);\n}\n\n.product-brand {\n  font-size: 0.8rem;\n  color: var(--text-secondary);\n  font-style: italic;\n}\n\n.product-description {\n  font-size: 0.8rem;\n  color: var(--text-tertiary);\n  max-width: 200px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.sku-cell {\n  font-family: 'Monaco', 'Menlo', 'Consolas', monospace;\n}\n\n.sku-code {\n  background: rgba(255, 255, 255, 0.1);\n  padding: var(--spacing-xs) var(--spacing-sm);\n  border-radius: var(--border-radius-sm);\n  font-size: 0.8rem;\n  color: var(--text-accent);\n  border: 1px solid rgba(255, 255, 255, 0.2);\n}\n\n.price-cell {\n  font-weight: 600;\n  color: var(--text-accent);\n  text-align: right;\n}\n\n.stock-range-cell {\n  color: var(--text-secondary);\n  text-align: center;\n}\n\n/* 状态徽章 */\n.status-badge {\n  display: inline-block;\n  padding: var(--spacing-xs) var(--spacing-sm);\n  border-radius: var(--border-radius-md);\n  font-size: 0.75rem;\n  font-weight: 600;\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n  text-align: center;\n  min-width: 60px;\n}\n\n.status-badge.status-active {\n  background: rgba(46, 204, 113, 0.2);\n  color: #2ecc71;\n  border: 1px solid rgba(46, 204, 113, 0.3);\n}\n\n.status-badge.status-inactive {\n  background: rgba(241, 196, 15, 0.2);\n  color: #f1c40f;\n  border: 1px solid rgba(241, 196, 15, 0.3);\n}\n\n.status-badge.status-discontinued {\n  background: rgba(231, 76, 60, 0.2);\n  color: #e74c3c;\n  border: 1px solid rgba(231, 76, 60, 0.3);\n}\n\n/* 操作按钮 */\n.actions-cell {\n  width: 120px;\n}\n\n.action-btn {\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  width: 32px;\n  height: 32px;\n  background: var(--card-background);\n  backdrop-filter: var(--glass-blur);\n  -webkit-backdrop-filter: var(--glass-blur);\n  border: var(--glass-border);\n  border-radius: var(--border-radius-sm);\n  cursor: pointer;\n  transition: var(--transition-base);\n  margin-right: var(--spacing-xs);\n  font-size: 0.9rem;\n}\n\n.action-btn:hover {\n  background: var(--hover-background);\n  transform: translateY(-1px);\n  box-shadow: var(--glass-shadow);\n}\n\n.action-btn.edit:hover {\n  color: #3498db;\n  border-color: rgba(52, 152, 219, 0.5);\n}\n\n.action-btn.delete:hover {\n  color: #e74c3c;\n  border-color: rgba(231, 76, 60, 0.5);\n}\n\n/* 空状态 */\n.empty-state {\n  text-align: center;\n  padding: var(--spacing-2xl);\n  color: var(--text-secondary);\n}\n\n.empty-icon {\n  font-size: 3rem;\n  margin-bottom: var(--spacing-md);\n  opacity: 0.7;\n}\n\n.empty-state h3 {\n  color: var(--text-primary);\n  font-size: 1.2rem;\n  margin: 0 0 var(--spacing-sm) 0;\n}\n\n.empty-state p {\n  margin: 0;\n  font-size: 0.9rem;\n}\n\n/* 模态框 */\n.modal-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.7);\n  backdrop-filter: blur(10px);\n  -webkit-backdrop-filter: blur(10px);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n  padding: var(--spacing-lg);\n}\n\n.modal-content {\n  background: var(--surface-background);\n  backdrop-filter: var(--glass-blur);\n  -webkit-backdrop-filter: var(--glass-blur);\n  border: var(--glass-border);\n  border-radius: var(--border-radius-xl);\n  box-shadow: var(--glass-shadow-hover);\n  width: 100%;\n  max-width: 800px;\n  max-height: 90vh;\n  overflow-y: auto;\n}\n\n.modal-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: var(--spacing-lg);\n  border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n  background: var(--card-background);\n}\n\n.modal-header h3 {\n  color: var(--text-primary);\n  font-size: 1.3rem;\n  font-weight: 600;\n  margin: 0;\n}\n\n.close-btn {\n  background: none;\n  border: none;\n  color: var(--text-secondary);\n  font-size: 1.5rem;\n  cursor: pointer;\n  padding: var(--spacing-xs);\n  border-radius: var(--border-radius-sm);\n  transition: var(--transition-base);\n  width: 32px;\n  height: 32px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.close-btn:hover {\n  background: var(--hover-background);\n  color: var(--text-primary);\n}\n\n/* 表单样式 */\n.product-form {\n  padding: var(--spacing-lg);\n}\n\n.form-grid {\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  gap: var(--spacing-lg);\n  margin-bottom: var(--spacing-xl);\n}\n\n.form-group {\n  display: flex;\n  flex-direction: column;\n  gap: var(--spacing-sm);\n}\n\n.form-group.full-width {\n  grid-column: 1 / -1;\n}\n\n.form-group label {\n  color: var(--text-secondary);\n  font-size: 0.85rem;\n  font-weight: 600;\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n}\n\n.form-actions {\n  display: flex;\n  justify-content: flex-end;\n  gap: var(--spacing-md);\n  padding-top: var(--spacing-lg);\n  border-top: 1px solid rgba(255, 255, 255, 0.1);\n}\n\n/* 商品管理响应式设计 */\n@media (max-width: 1024px) {\n  .filter-row {\n    grid-template-columns: 1fr;\n    gap: var(--spacing-md);\n  }\n  \n  .form-grid {\n    grid-template-columns: 1fr;\n  }\n  \n  .page-header {\n    flex-direction: column;\n    gap: var(--spacing-md);\n    align-items: stretch;\n  }\n}\n\n@media (max-width: 768px) {\n  .product-management {\n    padding: var(--spacing-md);\n  }\n  \n  .glass-table-container {\n    font-size: 0.8rem;\n  }\n  \n  .modal-content {\n    max-width: 95%;\n    margin: var(--spacing-md);\n  }\n  \n  .glass-table th,\n  .glass-table td {\n    padding: var(--spacing-sm);\n  }\n}\n\n/* ===== 库存入库样式 ===== */\n\n.stock-in {\n  padding: var(--spacing-lg);\n  background: var(--app-background);\n  min-height: 100vh;\n  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n}\n\n/* 成功和错误消息 */\n.success-message {\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-sm);\n  padding: var(--spacing-md);\n  margin-bottom: var(--spacing-lg);\n  background: rgba(34, 197, 94, 0.1);\n  border: 1px solid rgba(34, 197, 94, 0.3);\n  border-radius: var(--border-radius-sm);\n  color: rgb(34, 197, 94);\n  backdrop-filter: var(--glass-blur);\n  -webkit-backdrop-filter: var(--glass-blur);\n}\n\n.success-icon {\n  font-size: 1.2rem;\n}\n\n.error-message {\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-sm);\n  padding: var(--spacing-md);\n  margin-bottom: var(--spacing-lg);\n  background: rgba(239, 68, 68, 0.1);\n  border: 1px solid rgba(239, 68, 68, 0.3);\n  border-radius: var(--border-radius-sm);\n  color: rgb(239, 68, 68);\n  backdrop-filter: var(--glass-blur);\n  -webkit-backdrop-filter: var(--glass-blur);\n}\n\n.error-icon {\n  font-size: 1.2rem;\n}\n\n/* 入库表单 */\n.stock-in-form {\n  display: flex;\n  flex-direction: column;\n  gap: var(--spacing-xl);\n}\n\n.form-section {\n  background: var(--surface-background);\n  backdrop-filter: var(--glass-blur);\n  -webkit-backdrop-filter: var(--glass-blur);\n  border: var(--glass-border);\n  border-radius: var(--border-radius-lg);\n  box-shadow: var(--glass-shadow);\n  overflow: hidden;\n}\n\n.form-section .section-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: var(--spacing-lg);\n  background: var(--card-background);\n  border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n}\n\n.form-section .section-header h3 {\n  color: var(--text-primary);\n  font-size: 1.2rem;\n  font-weight: 600;\n  margin: 0;\n}\n\n.form-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n  gap: var(--spacing-lg);\n  padding: var(--spacing-lg);\n}\n\n.form-group {\n  display: flex;\n  flex-direction: column;\n  gap: var(--spacing-xs);\n}\n\n.form-group.full-width {\n  grid-column: 1 / -1;\n}\n\n.form-group label {\n  color: var(--text-secondary);\n  font-size: 0.85rem;\n  font-weight: 600;\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n}\n\n/* 商品列表表格 */\n.items-table-container {\n  overflow-x: auto;\n  margin: var(--spacing-lg);\n  border-radius: var(--border-radius-sm);\n  border: 1px solid rgba(255, 255, 255, 0.1);\n}\n\n.items-table {\n  width: 100%;\n  border-collapse: collapse;\n  background: transparent;\n  min-width: 800px;\n}\n\n.items-table th {\n  background: var(--card-background);\n  padding: var(--spacing-md);\n  text-align: left;\n  font-weight: 600;\n  font-size: 0.85rem;\n  color: var(--text-secondary);\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n  backdrop-filter: var(--glass-blur);\n  -webkit-backdrop-filter: var(--glass-blur);\n}\n\n.items-table td {\n  padding: var(--spacing-sm);\n  border-bottom: 1px solid rgba(255, 255, 255, 0.05);\n  vertical-align: middle;\n}\n\n.items-table tr:hover {\n  background: rgba(255, 255, 255, 0.03);\n}\n\n.items-table .glass-select,\n.items-table .glass-input {\n  width: 100%;\n  min-width: 120px;\n  font-size: 0.85rem;\n}\n\n.amount-cell {\n  text-align: right;\n  font-weight: 600;\n  color: var(--text-accent);\n  font-family: 'Courier New', monospace;\n}\n\n/* 空状态 */\n.empty-items {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: var(--spacing-xxl);\n  text-align: center;\n  color: var(--text-secondary);\n}\n\n.empty-items .empty-icon {\n  font-size: 3rem;\n  margin-bottom: var(--spacing-md);\n  opacity: 0.5;\n}\n\n.empty-items p {\n  margin: 0;\n  font-size: 1rem;\n}\n\n/* 汇总信息 */\n.summary-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n  gap: var(--spacing-lg);\n  padding: var(--spacing-lg);\n}\n\n.summary-item {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: var(--spacing-md);\n  background: rgba(255, 255, 255, 0.05);\n  border-radius: var(--border-radius-sm);\n  border: 1px solid rgba(255, 255, 255, 0.1);\n}\n\n.summary-label {\n  color: var(--text-secondary);\n  font-size: 0.9rem;\n}\n\n.summary-value {\n  color: var(--text-primary);\n  font-weight: 600;\n  font-size: 1rem;\n}\n\n/* 表单操作 */\n.form-actions {\n  display: flex;\n  justify-content: center;\n  padding: var(--spacing-xl);\n  border-top: 1px solid rgba(255, 255, 255, 0.1);\n  background: var(--surface-background);\n  backdrop-filter: var(--glass-blur);\n  -webkit-backdrop-filter: var(--glass-blur);\n  border-radius: var(--border-radius-lg);\n  border: var(--glass-border);\n  box-shadow: var(--glass-shadow);\n}\n\n.glass-button.large {\n  padding: var(--spacing-md) var(--spacing-xl);\n  font-size: 1rem;\n  font-weight: 600;\n  min-width: 200px;\n}\n\n.glass-button:disabled {\n  opacity: 0.6;\n  cursor: not-allowed;\n  pointer-events: none;\n}\n\n/* 响应式设计 */\n@media (max-width: 768px) {\n  .stock-in {\n    padding: var(--spacing-md);\n  }\n  \n  .form-grid {\n    grid-template-columns: 1fr;\n    padding: var(--spacing-md);\n  }\n  \n  .items-table-container {\n    margin: var(--spacing-md);\n  }\n  \n  .items-table {\n    font-size: 0.8rem;\n  }\n  \n  .items-table th,\n  .items-table td {\n    padding: var(--spacing-xs);\n  }\n  \n  .summary-grid {\n    grid-template-columns: 1fr;\n    padding: var(--spacing-md);\n  }\n  \n  .form-actions {\n    padding: var(--spacing-md);\n  }\n  \n  .glass-button.large {\n    width: 100%;\n  }\n}\n\n/* ===== 库存出库样式 ===== */\n\n.stock-out {\n  padding: var(--spacing-lg);\n  background: var(--app-background);\n  min-height: 100vh;\n  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n}\n\n.stock-out-form {\n  display: flex;\n  flex-direction: column;\n  gap: var(--spacing-xl);\n}\n\n/* 库存状态样式 */\n.stock-cell {\n  position: relative;\n  text-align: center;\n}\n\n.stock-value {\n  font-weight: 600;\n  font-family: 'Courier New', monospace;\n}\n\n.stock-value.out-of-stock {\n  color: #ef4444;\n}\n\n.stock-value.insufficient {\n  color: #f59e0b;\n}\n\n.stock-value.low-stock {\n  color: #f59e0b;\n}\n\n.stock-value.normal {\n  color: #10b981;\n}\n\n.stock-status-badge {\n  position: absolute;\n  top: -8px;\n  right: -8px;\n  font-size: 0.7rem;\n  padding: 2px 6px;\n  border-radius: 8px;\n  background: rgba(239, 68, 68, 0.2);\n  color: #ef4444;\n  border: 1px solid rgba(239, 68, 68, 0.3);\n  backdrop-filter: var(--glass-blur);\n  -webkit-backdrop-filter: var(--glass-blur);\n  white-space: nowrap;\n  z-index: 1;\n}\n\n.stock-status-badge.insufficient {\n  background: rgba(245, 158, 11, 0.2);\n  color: #f59e0b;\n  border-color: rgba(245, 158, 11, 0.3);\n}\n\n.stock-status-badge.low-stock {\n  background: rgba(245, 158, 11, 0.2);\n  color: #f59e0b;\n  border-color: rgba(245, 158, 11, 0.3);\n}\n\n/* 表格行状态样式 */\n.items-table tr.stock-status-out-of-stock {\n  background: rgba(239, 68, 68, 0.05);\n  border-left: 3px solid #ef4444;\n}\n\n.items-table tr.stock-status-insufficient {\n  background: rgba(245, 158, 11, 0.05);\n  border-left: 3px solid #f59e0b;\n}\n\n.items-table tr.stock-status-low-stock {\n  background: rgba(245, 158, 11, 0.03);\n}\n\n/* 错误输入框样式 */\n.glass-input.error {\n  border-color: #ef4444;\n  box-shadow: 0 0 0 1px rgba(239, 68, 68, 0.3);\n}\n\n.glass-input.error:focus {\n  border-color: #ef4444;\n  box-shadow: 0 0 0 2px rgba(239, 68, 68, 0.2);\n}\n\n/* 库存信息提示 */\n.stock-info-tooltip {\n  position: relative;\n  display: inline-block;\n  cursor: help;\n}\n\n.stock-info-tooltip:hover::after {\n  content: '当前库存: 总库存数量\\A可用库存: 可出库数量(扣除预留)';\n  position: absolute;\n  bottom: 100%;\n  left: 50%;\n  transform: translateX(-50%);\n  background: var(--surface-background);\n  backdrop-filter: var(--glass-blur);\n  -webkit-backdrop-filter: var(--glass-blur);\n  border: var(--glass-border);\n  border-radius: var(--border-radius-sm);\n  padding: var(--spacing-sm);\n  font-size: 0.8rem;\n  color: var(--text-secondary);\n  white-space: pre;\n  z-index: 1000;\n  box-shadow: var(--glass-shadow);\n  min-width: 200px;\n  text-align: center;\n}\n\n/* 响应式设计 - 出库页面 */\n@media (max-width: 768px) {\n  .stock-out {\n    padding: var(--spacing-md);\n  }\n  \n  .stock-out-form .items-table {\n    min-width: 1000px; /* 出库表格需要更多列 */\n  }\n  \n  .stock-cell {\n    min-width: 80px;\n  }\n  \n  .stock-status-badge {\n    position: static;\n    display: block;\n    margin-top: 4px;\n    font-size: 0.65rem;\n  }\n}\n\n/* ===== 库存调整样式 ===== */\n\n.stock-adjust {\n  padding: var(--spacing-lg);\n  background: var(--app-background);\n  min-height: 100vh;\n  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n}\n\n.stock-adjust-form {\n  display: flex;\n  flex-direction: column;\n  gap: var(--spacing-xl);\n}\n\n/* 调整表格样式 */\n.adjustment-table {\n  position: relative;\n}\n\n.adjustment-table th {\n  background: var(--card-background);\n  backdrop-filter: var(--glass-blur);\n  -webkit-backdrop-filter: var(--glass-blur);\n}\n\n/* 调整类型样式 */\n.adjustment-type-cell {\n  text-align: center;\n}\n\n.adjustment-type-badge {\n  display: inline-flex;\n  align-items: center;\n  gap: 4px;\n  padding: 4px 8px;\n  border-radius: 12px;\n  font-size: 0.75rem;\n  font-weight: 600;\n  backdrop-filter: var(--glass-blur);\n  -webkit-backdrop-filter: var(--glass-blur);\n}\n\n.adjustment-type-badge.increase {\n  background: rgba(34, 197, 94, 0.2);\n  color: #22c55e;\n  border: 1px solid rgba(34, 197, 94, 0.3);\n}\n\n.adjustment-type-badge.decrease {\n  background: rgba(239, 68, 68, 0.2);\n  color: #ef4444;\n  border: 1px solid rgba(239, 68, 68, 0.3);\n}\n\n.adjustment-type-badge.set {\n  background: rgba(59, 130, 246, 0.2);\n  color: #3b82f6;\n  border: 1px solid rgba(59, 130, 246, 0.3);\n}\n\n/* 调整数量样式 */\n.adjustment-quantity-cell {\n  text-align: center;\n}\n\n.adjustment-quantity {\n  font-weight: 600;\n  font-family: 'Courier New', monospace;\n  padding: 4px 8px;\n  border-radius: 6px;\n  display: inline-block;\n  min-width: 60px;\n}\n\n.adjustment-quantity.increase {\n  background: rgba(34, 197, 94, 0.1);\n  color: #22c55e;\n}\n\n.adjustment-quantity.decrease {\n  background: rgba(239, 68, 68, 0.1);\n  color: #ef4444;\n}\n\n.adjustment-quantity.set {\n  background: rgba(59, 130, 246, 0.1);\n  color: #3b82f6;\n}\n\n/* 表格行样式 */\n.items-table tr.adjustment-increase {\n  border-left: 3px solid #22c55e;\n  background: rgba(34, 197, 94, 0.02);\n}\n\n.items-table tr.adjustment-decrease {\n  border-left: 3px solid #ef4444;\n  background: rgba(239, 68, 68, 0.02);\n}\n\n.items-table tr.adjustment-set {\n  border-left: 3px solid #3b82f6;\n  background: rgba(59, 130, 246, 0.02);\n}\n\n/* 金额单元格样式 */\n.amount-cell.increase {\n  color: #22c55e;\n  font-weight: 600;\n}\n\n.amount-cell.decrease {\n  color: #ef4444;\n  font-weight: 600;\n}\n\n.amount-cell.set {\n  color: #3b82f6;\n  font-weight: 600;\n}\n\n/* 库存值样式 */\n.stock-value.current {\n  background: rgba(107, 114, 128, 0.1);\n  color: var(--text-primary);\n  padding: 4px 8px;\n  border-radius: 6px;\n  font-weight: 600;\n  font-family: 'Courier New', monospace;\n}\n\n/* 调整汇总样式 */\n.adjustment-summary {\n  padding: var(--spacing-lg);\n}\n\n.adjustment-summary .summary-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n  gap: var(--spacing-lg);\n  margin-bottom: var(--spacing-lg);\n}\n\n.adjustment-summary .summary-item {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: var(--spacing-md);\n  background: rgba(255, 255, 255, 0.05);\n  border-radius: var(--border-radius-sm);\n  border: 1px solid rgba(255, 255, 255, 0.1);\n}\n\n.adjustment-summary .summary-item.increase {\n  border-left: 4px solid #22c55e;\n  background: rgba(34, 197, 94, 0.05);\n}\n\n.adjustment-summary .summary-item.decrease {\n  border-left: 4px solid #ef4444;\n  background: rgba(239, 68, 68, 0.05);\n}\n\n.adjustment-summary .summary-item .summary-value {\n  font-weight: 700;\n  font-family: 'Courier New', monospace;\n}\n\n.adjustment-summary .summary-item.increase .summary-value {\n  color: #22c55e;\n}\n\n.adjustment-summary .summary-item.decrease .summary-value {\n  color: #ef4444;\n}\n\n/* 调整详情 */\n.adjustment-detail {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n  gap: var(--spacing-md);\n  padding: var(--spacing-md);\n  background: rgba(255, 255, 255, 0.03);\n  border-radius: var(--border-radius-sm);\n  border: 1px solid rgba(255, 255, 255, 0.1);\n}\n\n.detail-item {\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-sm);\n  padding: var(--spacing-sm);\n  border-radius: var(--border-radius-xs);\n  backdrop-filter: var(--glass-blur);\n  -webkit-backdrop-filter: var(--glass-blur);\n}\n\n.detail-item.increase {\n  background: rgba(34, 197, 94, 0.1);\n  border: 1px solid rgba(34, 197, 94, 0.2);\n  color: #22c55e;\n}\n\n.detail-item.decrease {\n  background: rgba(239, 68, 68, 0.1);\n  border: 1px solid rgba(239, 68, 68, 0.2);\n  color: #ef4444;\n}\n\n.detail-item.net {\n  background: rgba(59, 130, 246, 0.1);\n  border: 1px solid rgba(59, 130, 246, 0.2);\n  color: #3b82f6;\n}\n\n.detail-icon {\n  font-size: 1.2rem;\n  flex-shrink: 0;\n}\n\n.detail-text {\n  font-weight: 600;\n  font-size: 0.9rem;\n}\n\n/* 响应式设计 - 调整页面 */\n@media (max-width: 768px) {\n  .stock-adjust {\n    padding: var(--spacing-md);\n  }\n  \n  .adjustment-table {\n    min-width: 1200px; /* 调整表格需要更多列 */\n    font-size: 0.8rem;\n  }\n  \n  .adjustment-type-badge {\n    font-size: 0.65rem;\n    padding: 2px 6px;\n  }\n  \n  .adjustment-quantity {\n    font-size: 0.75rem;\n    padding: 2px 6px;\n    min-width: 50px;\n  }\n  \n  .adjustment-summary .summary-grid {\n    grid-template-columns: 1fr;\n    gap: var(--spacing-md);\n  }\n  \n  .adjustment-detail {\n    grid-template-columns: 1fr;\n    gap: var(--spacing-sm);\n  }\n  \n  .detail-item {\n    padding: var(--spacing-xs);\n  }\n  \n  .detail-text {\n    font-size: 0.8rem;\n  }\n}\n\n/* ===== 交易记录样式 ===== */\n\n.transaction-records {\n  padding: var(--spacing-lg);\n  background: var(--app-background);\n  min-height: 100vh;\n  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n}\n\n/* 统计信息样式 */\n.statistics-section {\n  margin-bottom: var(--spacing-xl);\n}\n\n.statistics-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n  gap: var(--spacing-lg);\n}\n\n.stat-item {\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-md);\n  padding: var(--spacing-lg);\n  background: var(--surface-background);\n  backdrop-filter: var(--glass-blur);\n  -webkit-backdrop-filter: var(--glass-blur);\n  border: var(--glass-border);\n  border-radius: var(--border-radius-lg);\n  box-shadow: var(--glass-shadow);\n  position: relative;\n  overflow: hidden;\n}\n\n.stat-item::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 3px;\n  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.6), transparent);\n}\n\n.stat-item.total::before {\n  background: linear-gradient(90deg, #6366f1, #8b5cf6);\n}\n\n.stat-item.in::before {\n  background: linear-gradient(90deg, #22c55e, #10b981);\n}\n\n.stat-item.out::before {\n  background: linear-gradient(90deg, #ef4444, #dc2626);\n}\n\n.stat-item.adjust::before {\n  background: linear-gradient(90deg, #f59e0b, #d97706);\n}\n\n.stat-icon {\n  font-size: 2.5rem;\n  opacity: 0.8;\n}\n\n.stat-content {\n  flex: 1;\n}\n\n.stat-value {\n  font-size: 2rem;\n  font-weight: 700;\n  color: var(--text-primary);\n  line-height: 1;\n  margin-bottom: var(--spacing-xs);\n}\n\n.stat-label {\n  font-size: 0.9rem;\n  color: var(--text-secondary);\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n  margin-bottom: var(--spacing-xs);\n}\n\n.stat-amount {\n  font-size: 1.1rem;\n  font-weight: 600;\n  color: var(--text-accent);\n  font-family: 'Courier New', monospace;\n}\n\n/* 筛选区域样式 */\n.filter-section {\n  background: var(--surface-background);\n  backdrop-filter: var(--glass-blur);\n  -webkit-backdrop-filter: var(--glass-blur);\n  border: var(--glass-border);\n  border-radius: var(--border-radius-lg);\n  box-shadow: var(--glass-shadow);\n  margin-bottom: var(--spacing-xl);\n  overflow: hidden;\n}\n\n.filter-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: var(--spacing-lg);\n  background: var(--card-background);\n  border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n}\n\n.filter-header h3 {\n  color: var(--text-primary);\n  font-size: 1.2rem;\n  font-weight: 600;\n  margin: 0;\n}\n\n.filter-results {\n  color: var(--text-secondary);\n  font-size: 0.9rem;\n  font-weight: 500;\n}\n\n.filter-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n  gap: var(--spacing-lg);\n  padding: var(--spacing-lg);\n}\n\n.filter-group {\n  display: flex;\n  flex-direction: column;\n  gap: var(--spacing-xs);\n}\n\n.filter-group label {\n  color: var(--text-secondary);\n  font-size: 0.85rem;\n  font-weight: 600;\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n}\n\n/* 记录区域样式 */\n.records-section {\n  background: var(--surface-background);\n  backdrop-filter: var(--glass-blur);\n  -webkit-backdrop-filter: var(--glass-blur);\n  border: var(--glass-border);\n  border-radius: var(--border-radius-lg);\n  box-shadow: var(--glass-shadow);\n  overflow: hidden;\n}\n\n.records-section .section-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: var(--spacing-lg);\n  background: var(--card-background);\n  border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n}\n\n.pagination-info {\n  color: var(--text-secondary);\n  font-size: 0.9rem;\n}\n\n/* 记录表格样式 */\n.records-table-container {\n  overflow-x: auto;\n}\n\n.records-table {\n  width: 100%;\n  border-collapse: collapse;\n  background: transparent;\n  min-width: 1200px;\n}\n\n.records-table th {\n  background: var(--card-background);\n  padding: var(--spacing-md);\n  text-align: left;\n  font-weight: 600;\n  font-size: 0.85rem;\n  color: var(--text-secondary);\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n  backdrop-filter: var(--glass-blur);\n  -webkit-backdrop-filter: var(--glass-blur);\n  position: sticky;\n  top: 0;\n}\n\n.records-table td {\n  padding: var(--spacing-md);\n  border-bottom: 1px solid rgba(255, 255, 255, 0.05);\n  vertical-align: top;\n}\n\n.records-table tr:hover {\n  background: rgba(255, 255, 255, 0.03);\n}\n\n/* 交易类型行样式 */\n.records-table tr.transaction-in {\n  border-left: 3px solid #22c55e;\n  background: rgba(34, 197, 94, 0.02);\n}\n\n.records-table tr.transaction-out {\n  border-left: 3px solid #ef4444;\n  background: rgba(239, 68, 68, 0.02);\n}\n\n.records-table tr.transaction-adjust {\n  border-left: 3px solid #f59e0b;\n  background: rgba(245, 158, 11, 0.02);\n}\n\n/* 交易信息单元格 */\n.transaction-info-cell {\n  min-width: 180px;\n}\n\n.transaction-info {\n  display: flex;\n  flex-direction: column;\n  gap: var(--spacing-xs);\n}\n\n.transaction-header {\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-xs);\n}\n\n.transaction-icon {\n  font-size: 1.2rem;\n}\n\n.transaction-no {\n  font-family: 'Courier New', monospace;\n  font-weight: 600;\n  color: var(--text-primary);\n  font-size: 0.9rem;\n}\n\n.transaction-type {\n  display: flex;\n  align-items: center;\n}\n\n.type-badge {\n  padding: 2px 6px;\n  border-radius: 8px;\n  font-size: 0.7rem;\n  font-weight: 600;\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n}\n\n.type-badge.IN {\n  background: rgba(34, 197, 94, 0.2);\n  color: #22c55e;\n  border: 1px solid rgba(34, 197, 94, 0.3);\n}\n\n.type-badge.OUT {\n  background: rgba(239, 68, 68, 0.2);\n  color: #ef4444;\n  border: 1px solid rgba(239, 68, 68, 0.3);\n}\n\n.type-badge.ADJUST {\n  background: rgba(245, 158, 11, 0.2);\n  color: #f59e0b;\n  border: 1px solid rgba(245, 158, 11, 0.3);\n}\n\n/* 产品单元格 */\n.product-cell {\n  min-width: 160px;\n}\n\n.product-info .product-name {\n  font-weight: 600;\n  color: var(--text-primary);\n}\n\n/* 数量单元格 */\n.quantity-cell {\n  text-align: center;\n  min-width: 120px;\n}\n\n.quantity-value {\n  font-weight: 700;\n  font-family: 'Courier New', monospace;\n  font-size: 1rem;\n  display: block;\n  margin-bottom: var(--spacing-xs);\n}\n\n.quantity-cell.transaction-in .quantity-value {\n  color: #22c55e;\n}\n\n.quantity-cell.transaction-out .quantity-value {\n  color: #ef4444;\n}\n\n.quantity-cell.transaction-adjust .quantity-value {\n  color: #f59e0b;\n}\n\n.unit-price {\n  font-size: 0.75rem;\n  color: var(--text-secondary);\n  font-family: 'Courier New', monospace;\n}\n\n/* 金额单元格 */\n.amount-cell {\n  text-align: right;\n  font-weight: 700;\n  font-family: 'Courier New', monospace;\n  font-size: 1rem;\n  min-width: 100px;\n}\n\n.amount-cell.transaction-in {\n  color: #22c55e;\n}\n\n.amount-cell.transaction-out {\n  color: #ef4444;\n}\n\n.amount-cell.transaction-adjust {\n  color: #f59e0b;\n}\n\n/* 参考信息单元格 */\n.reference-cell {\n  min-width: 150px;\n}\n\n.reference-info {\n  margin-bottom: var(--spacing-xs);\n}\n\n.reference-type {\n  font-size: 0.8rem;\n  color: var(--text-secondary);\n  font-weight: 600;\n}\n\n.reference-id {\n  font-size: 0.75rem;\n  color: var(--text-tertiary);\n  font-family: 'Courier New', monospace;\n}\n\n.transaction-remark {\n  font-size: 0.8rem;\n  color: var(--text-secondary);\n  font-style: italic;\n  padding: 2px 6px;\n  background: rgba(255, 255, 255, 0.05);\n  border-radius: 4px;\n  border-left: 2px solid rgba(255, 255, 255, 0.2);\n}\n\n/* 时间单元格 */\n.datetime-cell {\n  font-family: 'Courier New', monospace;\n  font-size: 0.8rem;\n  color: var(--text-secondary);\n  min-width: 140px;\n}\n\n/* 空状态 */\n.empty-records {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: var(--spacing-xxl);\n  text-align: center;\n  color: var(--text-secondary);\n}\n\n.empty-records .empty-icon {\n  font-size: 4rem;\n  margin-bottom: var(--spacing-lg);\n  opacity: 0.5;\n}\n\n.empty-records h3 {\n  color: var(--text-primary);\n  margin-bottom: var(--spacing-sm);\n}\n\n.empty-records p {\n  margin: 0;\n  font-size: 1rem;\n}\n\n/* 分页样式 */\n.pagination {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: var(--spacing-sm);\n  padding: var(--spacing-lg);\n  border-top: 1px solid rgba(255, 255, 255, 0.1);\n  background: var(--card-background);\n}\n\n.pagination-btn {\n  padding: var(--spacing-xs) var(--spacing-sm);\n  background: var(--card-background);\n  backdrop-filter: var(--glass-blur);\n  -webkit-backdrop-filter: var(--glass-blur);\n  border: var(--glass-border);\n  border-radius: var(--border-radius-xs);\n  color: var(--text-primary);\n  font-size: 0.85rem;\n  cursor: pointer;\n  transition: var(--transition-base);\n}\n\n.pagination-btn:hover:not(:disabled) {\n  background: rgba(255, 255, 255, 0.1);\n  transform: translateY(-1px);\n}\n\n.pagination-btn:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n\n.page-numbers {\n  display: flex;\n  gap: var(--spacing-xs);\n}\n\n.page-number {\n  width: 32px;\n  height: 32px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: var(--card-background);\n  backdrop-filter: var(--glass-blur);\n  -webkit-backdrop-filter: var(--glass-blur);\n  border: var(--glass-border);\n  border-radius: var(--border-radius-xs);\n  color: var(--text-primary);\n  font-size: 0.85rem;\n  font-weight: 600;\n  cursor: pointer;\n  transition: var(--transition-base);\n}\n\n.page-number:hover {\n  background: rgba(255, 255, 255, 0.1);\n  transform: translateY(-1px);\n}\n\n.page-number.active {\n  background: var(--primary-gradient);\n  color: white;\n  border-color: rgba(255, 255, 255, 0.3);\n}\n\n/* 响应式设计 - 交易记录页面 */\n@media (max-width: 768px) {\n  .transaction-records {\n    padding: var(--spacing-md);\n  }\n  \n  .statistics-grid {\n    grid-template-columns: 1fr;\n    gap: var(--spacing-md);\n  }\n  \n  .stat-item {\n    padding: var(--spacing-md);\n  }\n  \n  .stat-icon {\n    font-size: 2rem;\n  }\n  \n  .stat-value {\n    font-size: 1.5rem;\n  }\n  \n  .filter-grid {\n    grid-template-columns: 1fr;\n    gap: var(--spacing-md);\n    padding: var(--spacing-md);\n  }\n  \n  .records-table {\n    font-size: 0.8rem;\n    min-width: 1000px;\n  }\n  \n  .records-table th,\n  .records-table td {\n    padding: var(--spacing-sm);\n  }\n  \n  .pagination {\n    padding: var(--spacing-md);\n    flex-wrap: wrap;\n  }\n  \n  .page-numbers {\n    order: -1;\n    width: 100%;\n    justify-content: center;\n    margin-bottom: var(--spacing-sm);\n  }\n}",""]);const o=i},142:(e,n,t)=>{t.d(n,{A:()=>o});var r=t(601),a=t.n(r),s=t(314),i=t.n(s)()(a());i.push([e.id,"/* ===== Dashboard 玻璃感未来风样式 ===== */\n\n.dashboard-overview {\n  padding: var(--spacing-lg);\n  background: var(--app-background);\n  min-height: 100vh;\n  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n  position: relative;\n}\n\n/* 页面标题区域 - 玻璃感 */\n.dashboard-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: var(--spacing-xl);\n  padding: var(--spacing-lg);\n  background: var(--surface-background);\n  backdrop-filter: var(--glass-blur);\n  -webkit-backdrop-filter: var(--glass-blur);\n  border: var(--glass-border);\n  border-radius: var(--border-radius-xl);\n  box-shadow: var(--glass-shadow);\n  transition: var(--transition-base);\n  position: relative;\n  overflow: hidden;\n}\n\n.dashboard-header::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 2px;\n  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.6), transparent);\n}\n\n.dashboard-header h1 {\n  color: var(--text-accent);\n  margin: 0;\n  font-size: 2.5rem;\n  font-weight: 700;\n  text-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);\n  background: linear-gradient(135deg, var(--text-accent) 0%, rgba(255, 255, 255, 0.8) 100%);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  background-clip: text;\n}\n\n.dashboard-meta {\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-md);\n}\n\n.last-updated {\n  color: var(--text-secondary);\n  font-size: 0.9rem;\n  font-weight: 500;\n}\n\n.refresh-btn {\n  background: var(--card-background);\n  backdrop-filter: var(--glass-blur);\n  -webkit-backdrop-filter: var(--glass-blur);\n  border: var(--glass-border);\n  color: var(--text-primary);\n  padding: var(--spacing-sm) var(--spacing-md);\n  border-radius: var(--border-radius-sm);\n  cursor: pointer;\n  font-size: 0.9rem;\n  font-weight: 600;\n  transition: var(--transition-base);\n  position: relative;\n  overflow: hidden;\n}\n\n.refresh-btn:hover {\n  background: var(--hover-background);\n  transform: translateY(-1px);\n  box-shadow: var(--glass-shadow);\n}\n\n.refresh-btn:disabled {\n  opacity: 0.6;\n  cursor: not-allowed;\n  transform: none;\n}\n\n/* 系统健康状态栏 - 玻璃感 */\n.system-health-bar {\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-md);\n  padding: var(--spacing-md) var(--spacing-lg);\n  margin-bottom: var(--spacing-xl);\n  background: var(--card-background);\n  backdrop-filter: var(--glass-blur);\n  -webkit-backdrop-filter: var(--glass-blur);\n  border: var(--glass-border);\n  border-radius: var(--border-radius-lg);\n  box-shadow: var(--glass-shadow);\n  transition: var(--transition-base);\n}\n\n.health-indicator {\n  width: 12px;\n  height: 12px;\n  border-radius: 50%;\n  flex-shrink: 0;\n  box-shadow: 0 0 8px currentColor;\n}\n\n.health-text {\n  color: var(--text-primary);\n  font-weight: 600;\n  font-size: 0.95rem;\n}\n\n.health-issues {\n  color: var(--text-secondary);\n  font-size: 0.85rem;\n  margin-left: auto;\n}\n\n/* 概览卡片网格 - 统一玻璃感 */\n.overview-cards {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));\n  gap: var(--spacing-lg);\n  margin-bottom: var(--spacing-2xl);\n}\n\n.overview-card {\n  background: var(--card-background);\n  backdrop-filter: var(--glass-blur);\n  -webkit-backdrop-filter: var(--glass-blur);\n  border: var(--glass-border);\n  border-radius: var(--border-radius-lg);\n  box-shadow: var(--glass-shadow);\n  padding: var(--spacing-lg);\n  transition: var(--transition-base);\n  position: relative;\n  overflow: hidden;\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-md);\n}\n\n/* 玻璃感卡片增强效果 */\n.overview-card::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, transparent 50%, rgba(255, 255, 255, 0.05) 100%);\n  opacity: 0;\n  transition: var(--transition-base);\n  pointer-events: none;\n}\n\n.overview-card:hover {\n  background: var(--hover-background);\n  transform: translateY(-4px);\n  box-shadow: var(--glass-shadow-hover);\n}\n\n.overview-card:hover::before {\n  opacity: 1;\n}\n\n/* 特殊状态卡片 */\n.overview-card.warning {\n  border-color: rgba(255, 193, 7, 0.4);\n  background: linear-gradient(135deg, var(--card-background), rgba(255, 193, 7, 0.05));\n}\n\n.overview-card.danger {\n  border-color: rgba(220, 53, 69, 0.4);\n  background: linear-gradient(135deg, var(--card-background), rgba(220, 53, 69, 0.05));\n}\n\n/* 卡片图标 */\n.card-icon {\n  font-size: 3rem;\n  width: 80px;\n  height: 80px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: var(--border-radius-md);\n  background: var(--surface-background);\n  backdrop-filter: var(--glass-blur);\n  -webkit-backdrop-filter: var(--glass-blur);\n  border: var(--glass-border);\n  box-shadow: inset 0 2px 8px rgba(255, 255, 255, 0.1);\n  flex-shrink: 0;\n}\n\n/* 特殊图标样式 */\n.warning-icon {\n  background: linear-gradient(135deg, rgba(255, 193, 7, 0.2), rgba(255, 193, 7, 0.1));\n}\n\n.danger-icon {\n  background: linear-gradient(135deg, rgba(220, 53, 69, 0.2), rgba(220, 53, 69, 0.1));\n}\n\n/* 卡片内容 */\n.card-content {\n  flex: 1;\n}\n\n.card-content h3 {\n  color: var(--text-secondary);\n  font-size: 1rem;\n  font-weight: 600;\n  margin: 0 0 var(--spacing-sm) 0;\n  letter-spacing: 0.5px;\n}\n\n.card-value {\n  color: var(--text-accent);\n  font-size: 2.2rem;\n  font-weight: 700;\n  margin: 0 0 var(--spacing-xs) 0;\n  line-height: 1;\n  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n\n.card-label {\n  color: var(--text-tertiary);\n  font-size: 0.85rem;\n  font-weight: 500;\n  margin: 0;\n}\n\n/* 详细统计区域 - 玻璃感 */\n.quick-stats {\n  background: var(--surface-background);\n  backdrop-filter: var(--glass-blur);\n  -webkit-backdrop-filter: var(--glass-blur);\n  border: var(--glass-border);\n  border-radius: var(--border-radius-xl);\n  box-shadow: var(--glass-shadow);\n  padding: var(--spacing-xl);\n  margin-bottom: var(--spacing-xl);\n  transition: var(--transition-base);\n}\n\n.stats-section {\n  margin-bottom: var(--spacing-2xl);\n}\n\n.stats-section:last-child {\n  margin-bottom: 0;\n}\n\n.stats-section h3 {\n  color: var(--text-primary);\n  font-size: 1.4rem;\n  font-weight: 600;\n  margin: 0 0 var(--spacing-lg) 0;\n  padding-bottom: var(--spacing-md);\n  border-bottom: 2px solid rgba(255, 255, 255, 0.1);\n  position: relative;\n}\n\n.stats-section h3::after {\n  content: '';\n  position: absolute;\n  bottom: -2px;\n  left: 0;\n  width: 60px;\n  height: 2px;\n  background: linear-gradient(90deg, var(--text-accent), transparent);\n}\n\n/* 统计网格 */\n.stats-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n  gap: var(--spacing-lg);\n}\n\n.stat-item {\n  background: var(--card-background);\n  backdrop-filter: var(--glass-blur);\n  -webkit-backdrop-filter: var(--glass-blur);\n  border: var(--glass-border);\n  border-radius: var(--border-radius-md);\n  padding: var(--spacing-md);\n  transition: var(--transition-base);\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.stat-item:hover {\n  background: var(--hover-background);\n  transform: translateY(-2px);\n  box-shadow: var(--glass-shadow);\n}\n\n.stat-label {\n  color: var(--text-secondary);\n  font-size: 0.9rem;\n  font-weight: 500;\n}\n\n.stat-value {\n  color: var(--text-accent);\n  font-size: 1.3rem;\n  font-weight: 700;\n  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n}\n\n/* 加载和错误状态 */\n.loading-container {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: var(--spacing-2xl);\n  text-align: center;\n  background: var(--surface-background);\n  backdrop-filter: var(--glass-blur);\n  -webkit-backdrop-filter: var(--glass-blur);\n  border: var(--glass-border);\n  border-radius: var(--border-radius-xl);\n  box-shadow: var(--glass-shadow);\n}\n\n.loading-spinner {\n  width: 50px;\n  height: 50px;\n  border: 4px solid rgba(255, 255, 255, 0.2);\n  border-top: 4px solid var(--text-accent);\n  border-radius: 50%;\n  animation: spin 1s linear infinite;\n  margin-bottom: var(--spacing-md);\n}\n\n.loading-container p {\n  color: var(--text-secondary);\n  font-size: 1.1rem;\n  margin: 0;\n}\n\n@keyframes spin {\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(360deg); }\n}\n\n/* 响应式设计 */\n@media (max-width: 1200px) {\n  .overview-cards {\n    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n    gap: var(--spacing-md);\n  }\n}\n\n@media (max-width: 768px) {\n  .dashboard-overview {\n    padding: var(--spacing-md);\n  }\n  \n  .dashboard-header {\n    flex-direction: column;\n    gap: var(--spacing-md);\n    text-align: center;\n  }\n  \n  .dashboard-header h1 {\n    font-size: 2rem;\n  }\n  \n  .overview-cards {\n    grid-template-columns: 1fr;\n  }\n  \n  .stats-grid {\n    grid-template-columns: 1fr;\n  }\n  \n  .card-icon {\n    width: 60px;\n    height: 60px;\n    font-size: 2rem;\n  }\n  \n  .card-value {\n    font-size: 1.8rem;\n  }\n}\n\n@media (max-width: 480px) {\n  .dashboard-overview {\n    padding: var(--spacing-sm);\n  }\n  \n  .overview-card {\n    flex-direction: column;\n    text-align: center;\n    gap: var(--spacing-sm);\n  }\n  \n  .quick-stats {\n    padding: var(--spacing-md);\n  }\n}\n\n/* ===== Dashboard Main & Tabs 样式 ===== */\n\n.dashboard-main {\n  width: 100%;\n  height: 100%;\n  background: var(--app-background);\n  display: flex;\n  flex-direction: column;\n}\n\n/* Tab标签导航样式 */\n.dashboard-tabs {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: var(--spacing-md) var(--spacing-lg);\n  background: var(--surface-background);\n  backdrop-filter: var(--glass-blur);\n  -webkit-backdrop-filter: var(--glass-blur);\n  border-bottom: var(--glass-border);\n  box-shadow: var(--glass-shadow);\n  position: relative;\n  z-index: 10;\n}\n\n.tabs-container {\n  display: flex;\n  gap: var(--spacing-sm);\n  align-items: center;\n}\n\n.tab-button {\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-sm);\n  padding: var(--spacing-sm) var(--spacing-lg);\n  background: var(--card-background);\n  backdrop-filter: var(--glass-blur);\n  -webkit-backdrop-filter: var(--glass-blur);\n  border: var(--glass-border);\n  border-radius: var(--border-radius-md);\n  color: var(--text-secondary);\n  cursor: pointer;\n  transition: var(--transition-base);\n  font-size: 0.9rem;\n  font-weight: 500;\n  position: relative;\n  overflow: hidden;\n}\n\n.tab-button::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, transparent 50%);\n  opacity: 0;\n  transition: var(--transition-base);\n}\n\n.tab-button:hover::before {\n  opacity: 1;\n}\n\n.tab-button:hover {\n  background: var(--hover-background);\n  color: var(--text-primary);\n  transform: translateY(-1px);\n  box-shadow: var(--glass-shadow);\n}\n\n.tab-button.active {\n  background: var(--primary-gradient);\n  color: white;\n  font-weight: 600;\n  border-color: rgba(255, 255, 255, 0.3);\n  box-shadow: var(--glass-shadow-hover);\n}\n\n.tab-button.active::before {\n  background: linear-gradient(135deg, rgba(255, 255, 255, 0.2) 0%, transparent 50%);\n  opacity: 1;\n}\n\n.tab-icon {\n  font-size: 1.1rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.tab-label {\n  white-space: nowrap;\n  font-weight: inherit;\n}\n\n/* 系统状态指示器样式 */\n.system-status {\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-sm);\n  padding: var(--spacing-sm) var(--spacing-md);\n  background: var(--card-background);\n  backdrop-filter: var(--glass-blur);\n  -webkit-backdrop-filter: var(--glass-blur);\n  border: var(--glass-border);\n  border-radius: var(--border-radius-md);\n}\n\n.status-indicator {\n  width: 8px;\n  height: 8px;\n  border-radius: 50%;\n  background: #e74c3c;\n  box-shadow: 0 0 8px rgba(231, 76, 60, 0.6);\n  animation: pulse 2s infinite;\n}\n\n.status-indicator.active {\n  background: #2ecc71;\n  box-shadow: 0 0 8px rgba(46, 204, 113, 0.6);\n}\n\n.status-text {\n  color: var(--text-secondary);\n  font-size: 0.85rem;\n  font-weight: 500;\n}\n\n@keyframes pulse {\n  0%, 100% {\n    opacity: 1;\n    transform: scale(1);\n  }\n  50% {\n    opacity: 0.7;\n    transform: scale(1.1);\n  }\n}\n\n/* Dashboard内容区域 */\n.dashboard-content {\n  flex: 1;\n  overflow-y: auto;\n  background: transparent;\n}\n\n/* 加载和错误状态 */\n.dashboard-loading,\n.dashboard-error,\n.dashboard-not-ready {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  min-height: 400px;\n}\n\n.loading-container,\n.error-container,\n.not-ready-container {\n  text-align: center;\n  padding: var(--spacing-2xl);\n  background: var(--surface-background);\n  backdrop-filter: var(--glass-blur);\n  -webkit-backdrop-filter: var(--glass-blur);\n  border: var(--glass-border);\n  border-radius: var(--border-radius-xl);\n  box-shadow: var(--glass-shadow);\n}\n\n.loading-container h2,\n.error-container h2,\n.not-ready-container h2 {\n  color: var(--text-primary);\n  font-size: 1.5rem;\n  margin: var(--spacing-md) 0;\n}\n\n.loading-container p,\n.error-container p,\n.not-ready-container p {\n  color: var(--text-secondary);\n  margin: 0;\n}\n\n.error-icon,\n.not-ready-icon {\n  font-size: 3rem;\n  margin-bottom: var(--spacing-md);\n}\n\n.retry-btn {\n  background: var(--primary-gradient);\n  color: white;\n  border: none;\n  padding: var(--spacing-sm) var(--spacing-lg);\n  border-radius: var(--border-radius-md);\n  font-weight: 600;\n  cursor: pointer;\n  transition: var(--transition-base);\n  margin-top: var(--spacing-md);\n}\n\n.retry-btn:hover {\n  transform: translateY(-2px);\n  box-shadow: var(--glass-shadow-hover);\n}\n\n/* 响应式Tab设计 */\n@media (max-width: 768px) {\n  .dashboard-tabs {\n    flex-direction: column;\n    gap: var(--spacing-md);\n    padding: var(--spacing-md);\n  }\n  \n  .tabs-container {\n    width: 100%;\n    justify-content: center;\n    flex-wrap: wrap;\n  }\n  \n  .tab-button {\n    flex: 1;\n    min-width: 120px;\n    justify-content: center;\n  }\n  \n  .tab-label {\n    display: none;\n  }\n  \n  .tab-icon {\n    font-size: 1.3rem;\n  }\n}\n\n@media (max-width: 480px) {\n  .tabs-container {\n    gap: var(--spacing-xs);\n  }\n  \n  .tab-button {\n    padding: var(--spacing-sm);\n    min-width: 60px;\n  }\n}",""]);const o=i},159:e=>{e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},180:(e,n,t)=>{t.d(n,{A:()=>c});var r=t(601),a=t.n(r),s=t(314),i=t.n(s),o=t(484),l=i()(a());l.i(o.A),l.push([e.id,"/*\n! tailwindcss v3.3.7 | MIT License | https://tailwindcss.com\n*//*\n1. Prevent padding and border from affecting element width. (https://github.com/mozdevs/cssremedy/issues/4)\n2. Allow adding a border to an element by just adding a border-width. (https://github.com/tailwindcss/tailwindcss/pull/116)\n*/\n\n*,\n::before,\n::after {\n  box-sizing: border-box; /* 1 */\n  border-width: 0; /* 2 */\n  border-style: solid; /* 2 */\n  border-color: #e5e7eb; /* 2 */\n}\n\n::before,\n::after {\n  --tw-content: '';\n}\n\n/*\n1. Use a consistent sensible line-height in all browsers.\n2. Prevent adjustments of font size after orientation changes in iOS.\n3. Use a more readable tab size.\n4. Use the user's configured `sans` font-family by default.\n5. Use the user's configured `sans` font-feature-settings by default.\n6. Use the user's configured `sans` font-variation-settings by default.\n*/\n\nhtml {\n  line-height: 1.5; /* 1 */\n  -webkit-text-size-adjust: 100%; /* 2 */\n  -moz-tab-size: 4; /* 3 */\n  -o-tab-size: 4;\n     tab-size: 4; /* 3 */\n  font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, \"Noto Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\"; /* 4 */\n  font-feature-settings: normal; /* 5 */\n  font-variation-settings: normal; /* 6 */\n}\n\n/*\n1. Remove the margin in all browsers.\n2. Inherit line-height from `html` so users can set them as a class directly on the `html` element.\n*/\n\nbody {\n  margin: 0; /* 1 */\n  line-height: inherit; /* 2 */\n}\n\n/*\n1. Add the correct height in Firefox.\n2. Correct the inheritance of border color in Firefox. (https://bugzilla.mozilla.org/show_bug.cgi?id=190655)\n3. Ensure horizontal rules are visible by default.\n*/\n\nhr {\n  height: 0; /* 1 */\n  color: inherit; /* 2 */\n  border-top-width: 1px; /* 3 */\n}\n\n/*\nAdd the correct text decoration in Chrome, Edge, and Safari.\n*/\n\nabbr:where([title]) {\n  -webkit-text-decoration: underline dotted;\n          text-decoration: underline dotted;\n}\n\n/*\nRemove the default font size and weight for headings.\n*/\n\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  font-size: inherit;\n  font-weight: inherit;\n}\n\n/*\nReset links to optimize for opt-in styling instead of opt-out.\n*/\n\na {\n  color: inherit;\n  text-decoration: inherit;\n}\n\n/*\nAdd the correct font weight in Edge and Safari.\n*/\n\nb,\nstrong {\n  font-weight: bolder;\n}\n\n/*\n1. Use the user's configured `mono` font-family by default.\n2. Use the user's configured `mono` font-feature-settings by default.\n3. Use the user's configured `mono` font-variation-settings by default.\n4. Correct the odd `em` font sizing in all browsers.\n*/\n\ncode,\nkbd,\nsamp,\npre {\n  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace; /* 1 */\n  font-feature-settings: normal; /* 2 */\n  font-variation-settings: normal; /* 3 */\n  font-size: 1em; /* 4 */\n}\n\n/*\nAdd the correct font size in all browsers.\n*/\n\nsmall {\n  font-size: 80%;\n}\n\n/*\nPrevent `sub` and `sup` elements from affecting the line height in all browsers.\n*/\n\nsub,\nsup {\n  font-size: 75%;\n  line-height: 0;\n  position: relative;\n  vertical-align: baseline;\n}\n\nsub {\n  bottom: -0.25em;\n}\n\nsup {\n  top: -0.5em;\n}\n\n/*\n1. Remove text indentation from table contents in Chrome and Safari. (https://bugs.chromium.org/p/chromium/issues/detail?id=999088, https://bugs.webkit.org/show_bug.cgi?id=201297)\n2. Correct table border color inheritance in all Chrome and Safari. (https://bugs.chromium.org/p/chromium/issues/detail?id=935729, https://bugs.webkit.org/show_bug.cgi?id=195016)\n3. Remove gaps between table borders by default.\n*/\n\ntable {\n  text-indent: 0; /* 1 */\n  border-color: inherit; /* 2 */\n  border-collapse: collapse; /* 3 */\n}\n\n/*\n1. Change the font styles in all browsers.\n2. Remove the margin in Firefox and Safari.\n3. Remove default padding in all browsers.\n*/\n\nbutton,\ninput,\noptgroup,\nselect,\ntextarea {\n  font-family: inherit; /* 1 */\n  font-feature-settings: inherit; /* 1 */\n  font-variation-settings: inherit; /* 1 */\n  font-size: 100%; /* 1 */\n  font-weight: inherit; /* 1 */\n  line-height: inherit; /* 1 */\n  color: inherit; /* 1 */\n  margin: 0; /* 2 */\n  padding: 0; /* 3 */\n}\n\n/*\nRemove the inheritance of text transform in Edge and Firefox.\n*/\n\nbutton,\nselect {\n  text-transform: none;\n}\n\n/*\n1. Correct the inability to style clickable types in iOS and Safari.\n2. Remove default button styles.\n*/\n\nbutton,\n[type='button'],\n[type='reset'],\n[type='submit'] {\n  -webkit-appearance: button; /* 1 */\n  background-color: transparent; /* 2 */\n  background-image: none; /* 2 */\n}\n\n/*\nUse the modern Firefox focus style for all focusable elements.\n*/\n\n:-moz-focusring {\n  outline: auto;\n}\n\n/*\nRemove the additional `:invalid` styles in Firefox. (https://github.com/mozilla/gecko-dev/blob/2f9eacd9d3d995c937b4251a5557d95d494c9be1/layout/style/res/forms.css#L728-L737)\n*/\n\n:-moz-ui-invalid {\n  box-shadow: none;\n}\n\n/*\nAdd the correct vertical alignment in Chrome and Firefox.\n*/\n\nprogress {\n  vertical-align: baseline;\n}\n\n/*\nCorrect the cursor style of increment and decrement buttons in Safari.\n*/\n\n::-webkit-inner-spin-button,\n::-webkit-outer-spin-button {\n  height: auto;\n}\n\n/*\n1. Correct the odd appearance in Chrome and Safari.\n2. Correct the outline style in Safari.\n*/\n\n[type='search'] {\n  -webkit-appearance: textfield; /* 1 */\n  outline-offset: -2px; /* 2 */\n}\n\n/*\nRemove the inner padding in Chrome and Safari on macOS.\n*/\n\n::-webkit-search-decoration {\n  -webkit-appearance: none;\n}\n\n/*\n1. Correct the inability to style clickable types in iOS and Safari.\n2. Change font properties to `inherit` in Safari.\n*/\n\n::-webkit-file-upload-button {\n  -webkit-appearance: button; /* 1 */\n  font: inherit; /* 2 */\n}\n\n/*\nAdd the correct display in Chrome and Safari.\n*/\n\nsummary {\n  display: list-item;\n}\n\n/*\nRemoves the default spacing and border for appropriate elements.\n*/\n\nblockquote,\ndl,\ndd,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6,\nhr,\nfigure,\np,\npre {\n  margin: 0;\n}\n\nfieldset {\n  margin: 0;\n  padding: 0;\n}\n\nlegend {\n  padding: 0;\n}\n\nol,\nul,\nmenu {\n  list-style: none;\n  margin: 0;\n  padding: 0;\n}\n\n/*\nReset default styling for dialogs.\n*/\ndialog {\n  padding: 0;\n}\n\n/*\nPrevent resizing textareas horizontally by default.\n*/\n\ntextarea {\n  resize: vertical;\n}\n\n/*\n1. Reset the default placeholder opacity in Firefox. (https://github.com/tailwindlabs/tailwindcss/issues/3300)\n2. Set the default placeholder color to the user's configured gray 400 color.\n*/\n\ninput::-moz-placeholder, textarea::-moz-placeholder {\n  opacity: 1; /* 1 */\n  color: #9ca3af; /* 2 */\n}\n\ninput::placeholder,\ntextarea::placeholder {\n  opacity: 1; /* 1 */\n  color: #9ca3af; /* 2 */\n}\n\n/*\nSet the default cursor for buttons.\n*/\n\nbutton,\n[role=\"button\"] {\n  cursor: pointer;\n}\n\n/*\nMake sure disabled buttons don't get the pointer cursor.\n*/\n:disabled {\n  cursor: default;\n}\n\n/*\n1. Make replaced elements `display: block` by default. (https://github.com/mozdevs/cssremedy/issues/14)\n2. Add `vertical-align: middle` to align replaced elements more sensibly by default. (https://github.com/jensimmons/cssremedy/issues/14#issuecomment-634934210)\n   This can trigger a poorly considered lint error in some tools but is included by design.\n*/\n\nimg,\nsvg,\nvideo,\ncanvas,\naudio,\niframe,\nembed,\nobject {\n  display: block; /* 1 */\n  vertical-align: middle; /* 2 */\n}\n\n/*\nConstrain images and videos to the parent width and preserve their intrinsic aspect ratio. (https://github.com/mozdevs/cssremedy/issues/14)\n*/\n\nimg,\nvideo {\n  max-width: 100%;\n  height: auto;\n}\n\n/* Make elements with the HTML hidden attribute stay hidden by default */\n[hidden] {\n  display: none;\n}\n  :root {\n    --background: 220 20% 14%;\n    --foreground: 220 8% 95%;\n    --card: 220 20% 10%;\n    --card-foreground: 220 8% 95%;\n    --popover: 220 20% 10%;\n    --popover-foreground: 220 8% 95%;\n    --primary: 220 8% 95%;\n    --primary-foreground: 220 20% 14%;\n    --secondary: 220 20% 14%;\n    --secondary-foreground: 220 8% 95%;\n    --muted: 220 20% 14%;\n    --muted-foreground: 220 8% 65%;\n    --accent: 220 20% 14%;\n    --accent-foreground: 220 8% 95%;\n    --destructive: 0 84% 60%;\n    --destructive-foreground: 0 0% 98%;\n    --border: 220 13% 18%;\n    --input: 220 13% 18%;\n    --ring: 220 8% 95%;\n    --radius: 0.5rem;\n  }\n  * {\n    border-color: hsl(var(--border));\n  }\n  body {\n    background-color: hsl(var(--background));\n    color: hsl(var(--foreground));\n    margin: 0;\n    padding: 0;\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;\n    min-height: 100vh;\n    overflow-x: hidden;\n  }\n\n*, ::before, ::after {\n  --tw-border-spacing-x: 0;\n  --tw-border-spacing-y: 0;\n  --tw-translate-x: 0;\n  --tw-translate-y: 0;\n  --tw-rotate: 0;\n  --tw-skew-x: 0;\n  --tw-skew-y: 0;\n  --tw-scale-x: 1;\n  --tw-scale-y: 1;\n  --tw-pan-x:  ;\n  --tw-pan-y:  ;\n  --tw-pinch-zoom:  ;\n  --tw-scroll-snap-strictness: proximity;\n  --tw-gradient-from-position:  ;\n  --tw-gradient-via-position:  ;\n  --tw-gradient-to-position:  ;\n  --tw-ordinal:  ;\n  --tw-slashed-zero:  ;\n  --tw-numeric-figure:  ;\n  --tw-numeric-spacing:  ;\n  --tw-numeric-fraction:  ;\n  --tw-ring-inset:  ;\n  --tw-ring-offset-width: 0px;\n  --tw-ring-offset-color: #fff;\n  --tw-ring-color: rgb(59 130 246 / 0.5);\n  --tw-ring-offset-shadow: 0 0 #0000;\n  --tw-ring-shadow: 0 0 #0000;\n  --tw-shadow: 0 0 #0000;\n  --tw-shadow-colored: 0 0 #0000;\n  --tw-blur:  ;\n  --tw-brightness:  ;\n  --tw-contrast:  ;\n  --tw-grayscale:  ;\n  --tw-hue-rotate:  ;\n  --tw-invert:  ;\n  --tw-saturate:  ;\n  --tw-sepia:  ;\n  --tw-drop-shadow:  ;\n  --tw-backdrop-blur:  ;\n  --tw-backdrop-brightness:  ;\n  --tw-backdrop-contrast:  ;\n  --tw-backdrop-grayscale:  ;\n  --tw-backdrop-hue-rotate:  ;\n  --tw-backdrop-invert:  ;\n  --tw-backdrop-opacity:  ;\n  --tw-backdrop-saturate:  ;\n  --tw-backdrop-sepia:  ;\n}\n\n::backdrop {\n  --tw-border-spacing-x: 0;\n  --tw-border-spacing-y: 0;\n  --tw-translate-x: 0;\n  --tw-translate-y: 0;\n  --tw-rotate: 0;\n  --tw-skew-x: 0;\n  --tw-skew-y: 0;\n  --tw-scale-x: 1;\n  --tw-scale-y: 1;\n  --tw-pan-x:  ;\n  --tw-pan-y:  ;\n  --tw-pinch-zoom:  ;\n  --tw-scroll-snap-strictness: proximity;\n  --tw-gradient-from-position:  ;\n  --tw-gradient-via-position:  ;\n  --tw-gradient-to-position:  ;\n  --tw-ordinal:  ;\n  --tw-slashed-zero:  ;\n  --tw-numeric-figure:  ;\n  --tw-numeric-spacing:  ;\n  --tw-numeric-fraction:  ;\n  --tw-ring-inset:  ;\n  --tw-ring-offset-width: 0px;\n  --tw-ring-offset-color: #fff;\n  --tw-ring-color: rgb(59 130 246 / 0.5);\n  --tw-ring-offset-shadow: 0 0 #0000;\n  --tw-ring-shadow: 0 0 #0000;\n  --tw-shadow: 0 0 #0000;\n  --tw-shadow-colored: 0 0 #0000;\n  --tw-blur:  ;\n  --tw-brightness:  ;\n  --tw-contrast:  ;\n  --tw-grayscale:  ;\n  --tw-hue-rotate:  ;\n  --tw-invert:  ;\n  --tw-saturate:  ;\n  --tw-sepia:  ;\n  --tw-drop-shadow:  ;\n  --tw-backdrop-blur:  ;\n  --tw-backdrop-brightness:  ;\n  --tw-backdrop-contrast:  ;\n  --tw-backdrop-grayscale:  ;\n  --tw-backdrop-hue-rotate:  ;\n  --tw-backdrop-invert:  ;\n  --tw-backdrop-opacity:  ;\n  --tw-backdrop-saturate:  ;\n  --tw-backdrop-sepia:  ;\n}\n.sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n.static {\n  position: static;\n}\n.absolute {\n  position: absolute;\n}\n.relative {\n  position: relative;\n}\n.left-2 {\n  left: 0.5rem;\n}\n.left-3 {\n  left: 0.75rem;\n}\n.top-1\\/2 {\n  top: 50%;\n}\n.z-10 {\n  z-index: 10;\n}\n.z-50 {\n  z-index: 50;\n}\n.-mx-1 {\n  margin-left: -0.25rem;\n  margin-right: -0.25rem;\n}\n.mx-auto {\n  margin-left: auto;\n  margin-right: auto;\n}\n.my-1 {\n  margin-top: 0.25rem;\n  margin-bottom: 0.25rem;\n}\n.mb-1 {\n  margin-bottom: 0.25rem;\n}\n.mb-2 {\n  margin-bottom: 0.5rem;\n}\n.mb-4 {\n  margin-bottom: 1rem;\n}\n.mb-6 {\n  margin-bottom: 1.5rem;\n}\n.mb-8 {\n  margin-bottom: 2rem;\n}\n.mr-4 {\n  margin-right: 1rem;\n}\n.mt-1 {\n  margin-top: 0.25rem;\n}\n.mt-2 {\n  margin-top: 0.5rem;\n}\n.mt-4 {\n  margin-top: 1rem;\n}\n.mt-6 {\n  margin-top: 1.5rem;\n}\n.mt-8 {\n  margin-top: 2rem;\n}\n.flex {\n  display: flex;\n}\n.inline-flex {\n  display: inline-flex;\n}\n.table {\n  display: table;\n}\n.grid {\n  display: grid;\n}\n.hidden {\n  display: none;\n}\n.h-10 {\n  height: 2.5rem;\n}\n.h-11 {\n  height: 2.75rem;\n}\n.h-12 {\n  height: 3rem;\n}\n.h-16 {\n  height: 4rem;\n}\n.h-2 {\n  height: 0.5rem;\n}\n.h-2\\.5 {\n  height: 0.625rem;\n}\n.h-3 {\n  height: 0.75rem;\n}\n.h-3\\.5 {\n  height: 0.875rem;\n}\n.h-4 {\n  height: 1rem;\n}\n.h-8 {\n  height: 2rem;\n}\n.h-9 {\n  height: 2.25rem;\n}\n.h-\\[1px\\] {\n  height: 1px;\n}\n.h-\\[var\\(--radix-select-trigger-height\\)\\] {\n  height: var(--radix-select-trigger-height);\n}\n.h-full {\n  height: 100%;\n}\n.h-px {\n  height: 1px;\n}\n.h-screen {\n  height: 100vh;\n}\n.max-h-96 {\n  max-height: 24rem;\n}\n.max-h-full {\n  max-height: 100%;\n}\n.min-h-0 {\n  min-height: 0px;\n}\n.min-h-screen {\n  min-height: 100vh;\n}\n.w-10 {\n  width: 2.5rem;\n}\n.w-16 {\n  width: 4rem;\n}\n.w-2 {\n  width: 0.5rem;\n}\n.w-2\\.5 {\n  width: 0.625rem;\n}\n.w-3 {\n  width: 0.75rem;\n}\n.w-3\\.5 {\n  width: 0.875rem;\n}\n.w-4 {\n  width: 1rem;\n}\n.w-8 {\n  width: 2rem;\n}\n.w-9 {\n  width: 2.25rem;\n}\n.w-\\[1px\\] {\n  width: 1px;\n}\n.w-full {\n  width: 100%;\n}\n.min-w-0 {\n  min-width: 0px;\n}\n.min-w-\\[100px\\] {\n  min-width: 100px;\n}\n.min-w-\\[1200px\\] {\n  min-width: 1200px;\n}\n.min-w-\\[120px\\] {\n  min-width: 120px;\n}\n.min-w-\\[140px\\] {\n  min-width: 140px;\n}\n.min-w-\\[300px\\] {\n  min-width: 300px;\n}\n.min-w-\\[80px\\] {\n  min-width: 80px;\n}\n.min-w-\\[8rem\\] {\n  min-width: 8rem;\n}\n.min-w-\\[var\\(--radix-select-trigger-width\\)\\] {\n  min-width: var(--radix-select-trigger-width);\n}\n.min-w-full {\n  min-width: 100%;\n}\n.max-w-6xl {\n  max-width: 72rem;\n}\n.max-w-full {\n  max-width: 100%;\n}\n.max-w-md {\n  max-width: 28rem;\n}\n.flex-1 {\n  flex: 1 1 0%;\n}\n.flex-shrink-0 {\n  flex-shrink: 0;\n}\n.shrink-0 {\n  flex-shrink: 0;\n}\n.caption-bottom {\n  caption-side: bottom;\n}\n.-translate-y-1\\/2 {\n  --tw-translate-y: -50%;\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n.transform {\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n@keyframes pulse {\n\n  50% {\n    opacity: .5;\n  }\n}\n.animate-pulse {\n  animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;\n}\n@keyframes spin {\n\n  to {\n    transform: rotate(360deg);\n  }\n}\n.animate-spin {\n  animation: spin 1s linear infinite;\n}\n.cursor-default {\n  cursor: default;\n}\n.touch-none {\n  touch-action: none;\n}\n.select-none {\n  -webkit-user-select: none;\n     -moz-user-select: none;\n          user-select: none;\n}\n.grid-cols-1 {\n  grid-template-columns: repeat(1, minmax(0, 1fr));\n}\n.grid-cols-2 {\n  grid-template-columns: repeat(2, minmax(0, 1fr));\n}\n.flex-row {\n  flex-direction: row;\n}\n.flex-col {\n  flex-direction: column;\n}\n.flex-wrap {\n  flex-wrap: wrap;\n}\n.items-start {\n  align-items: flex-start;\n}\n.items-center {\n  align-items: center;\n}\n.justify-center {\n  justify-content: center;\n}\n.justify-between {\n  justify-content: space-between;\n}\n.gap-1 {\n  gap: 0.25rem;\n}\n.gap-2 {\n  gap: 0.5rem;\n}\n.gap-6 {\n  gap: 1.5rem;\n}\n.space-x-2 > :not([hidden]) ~ :not([hidden]) {\n  --tw-space-x-reverse: 0;\n  margin-right: calc(0.5rem * var(--tw-space-x-reverse));\n  margin-left: calc(0.5rem * calc(1 - var(--tw-space-x-reverse)));\n}\n.space-y-1 > :not([hidden]) ~ :not([hidden]) {\n  --tw-space-y-reverse: 0;\n  margin-top: calc(0.25rem * calc(1 - var(--tw-space-y-reverse)));\n  margin-bottom: calc(0.25rem * var(--tw-space-y-reverse));\n}\n.space-y-1\\.5 > :not([hidden]) ~ :not([hidden]) {\n  --tw-space-y-reverse: 0;\n  margin-top: calc(0.375rem * calc(1 - var(--tw-space-y-reverse)));\n  margin-bottom: calc(0.375rem * var(--tw-space-y-reverse));\n}\n.space-y-3 > :not([hidden]) ~ :not([hidden]) {\n  --tw-space-y-reverse: 0;\n  margin-top: calc(0.75rem * calc(1 - var(--tw-space-y-reverse)));\n  margin-bottom: calc(0.75rem * var(--tw-space-y-reverse));\n}\n.overflow-hidden {\n  overflow: hidden;\n}\n.truncate {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.whitespace-nowrap {\n  white-space: nowrap;\n}\n.rounded {\n  border-radius: 0.25rem;\n}\n.rounded-2xl {\n  border-radius: 1rem;\n}\n.rounded-\\[inherit\\] {\n  border-radius: inherit;\n}\n.rounded-full {\n  border-radius: 9999px;\n}\n.rounded-lg {\n  border-radius: var(--radius);\n}\n.rounded-md {\n  border-radius: calc(var(--radius) - 2px);\n}\n.rounded-sm {\n  border-radius: calc(var(--radius) - 4px);\n}\n.border {\n  border-width: 1px;\n}\n.border-4 {\n  border-width: 4px;\n}\n.border-b {\n  border-bottom-width: 1px;\n}\n.border-b-2 {\n  border-bottom-width: 2px;\n}\n.border-l {\n  border-left-width: 1px;\n}\n.border-t {\n  border-top-width: 1px;\n}\n.border-blue-500 {\n  --tw-border-opacity: 1;\n  border-color: rgb(59 130 246 / var(--tw-border-opacity));\n}\n.border-blue-500\\/30 {\n  border-color: rgb(59 130 246 / 0.3);\n}\n.border-green-500\\/30 {\n  border-color: rgb(34 197 94 / 0.3);\n}\n.border-red-500\\/30 {\n  border-color: rgb(239 68 68 / 0.3);\n}\n.border-transparent {\n  border-color: transparent;\n}\n.border-white\\/20 {\n  border-color: rgb(255 255 255 / 0.2);\n}\n.border-white\\/30 {\n  border-color: rgb(255 255 255 / 0.3);\n}\n.border-white\\/40 {\n  border-color: rgb(255 255 255 / 0.4);\n}\n.border-white\\/5 {\n  border-color: rgb(255 255 255 / 0.05);\n}\n.border-white\\/50 {\n  border-color: rgb(255 255 255 / 0.5);\n}\n.border-l-transparent {\n  border-left-color: transparent;\n}\n.border-t-transparent {\n  border-top-color: transparent;\n}\n.bg-blue-500 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(59 130 246 / var(--tw-bg-opacity));\n}\n.bg-blue-500\\/20 {\n  background-color: rgb(59 130 246 / 0.2);\n}\n.bg-green-400 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(74 222 128 / var(--tw-bg-opacity));\n}\n.bg-green-500 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(34 197 94 / var(--tw-bg-opacity));\n}\n.bg-green-500\\/20 {\n  background-color: rgb(34 197 94 / 0.2);\n}\n.bg-muted\\/50 {\n  background-color: hsl(var(--muted) / 0.5);\n}\n.bg-orange-500\\/20 {\n  background-color: rgb(249 115 22 / 0.2);\n}\n.bg-red-500 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(239 68 68 / var(--tw-bg-opacity));\n}\n.bg-red-500\\/20 {\n  background-color: rgb(239 68 68 / 0.2);\n}\n.bg-transparent {\n  background-color: transparent;\n}\n.bg-white\\/10 {\n  background-color: rgb(255 255 255 / 0.1);\n}\n.bg-white\\/20 {\n  background-color: rgb(255 255 255 / 0.2);\n}\n.bg-white\\/25 {\n  background-color: rgb(255 255 255 / 0.25);\n}\n.bg-white\\/30 {\n  background-color: rgb(255 255 255 / 0.3);\n}\n.bg-white\\/40 {\n  background-color: rgb(255 255 255 / 0.4);\n}\n.bg-white\\/5 {\n  background-color: rgb(255 255 255 / 0.05);\n}\n.bg-yellow-500 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(234 179 8 / var(--tw-bg-opacity));\n}\n.bg-yellow-500\\/20 {\n  background-color: rgb(234 179 8 / 0.2);\n}\n.bg-gradient-to-r {\n  background-image: linear-gradient(to right, var(--tw-gradient-stops));\n}\n.from-blue-500 {\n  --tw-gradient-from: #3b82f6 var(--tw-gradient-from-position);\n  --tw-gradient-to: rgb(59 130 246 / 0) var(--tw-gradient-to-position);\n  --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to);\n}\n.from-green-500 {\n  --tw-gradient-from: #22c55e var(--tw-gradient-from-position);\n  --tw-gradient-to: rgb(34 197 94 / 0) var(--tw-gradient-to-position);\n  --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to);\n}\n.from-red-500 {\n  --tw-gradient-from: #ef4444 var(--tw-gradient-from-position);\n  --tw-gradient-to: rgb(239 68 68 / 0) var(--tw-gradient-to-position);\n  --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to);\n}\n.to-blue-500 {\n  --tw-gradient-to: #3b82f6 var(--tw-gradient-to-position);\n}\n.to-purple-600 {\n  --tw-gradient-to: #9333ea var(--tw-gradient-to-position);\n}\n.to-red-600 {\n  --tw-gradient-to: #dc2626 var(--tw-gradient-to-position);\n}\n.p-0 {\n  padding: 0px;\n}\n.p-1 {\n  padding: 0.25rem;\n}\n.p-2 {\n  padding: 0.5rem;\n}\n.p-3 {\n  padding: 0.75rem;\n}\n.p-4 {\n  padding: 1rem;\n}\n.p-6 {\n  padding: 1.5rem;\n}\n.p-8 {\n  padding: 2rem;\n}\n.p-\\[1px\\] {\n  padding: 1px;\n}\n.px-2 {\n  padding-left: 0.5rem;\n  padding-right: 0.5rem;\n}\n.px-2\\.5 {\n  padding-left: 0.625rem;\n  padding-right: 0.625rem;\n}\n.px-3 {\n  padding-left: 0.75rem;\n  padding-right: 0.75rem;\n}\n.px-4 {\n  padding-left: 1rem;\n  padding-right: 1rem;\n}\n.px-6 {\n  padding-left: 1.5rem;\n  padding-right: 1.5rem;\n}\n.px-8 {\n  padding-left: 2rem;\n  padding-right: 2rem;\n}\n.py-0 {\n  padding-top: 0px;\n  padding-bottom: 0px;\n}\n.py-0\\.5 {\n  padding-top: 0.125rem;\n  padding-bottom: 0.125rem;\n}\n.py-1 {\n  padding-top: 0.25rem;\n  padding-bottom: 0.25rem;\n}\n.py-1\\.5 {\n  padding-top: 0.375rem;\n  padding-bottom: 0.375rem;\n}\n.py-16 {\n  padding-top: 4rem;\n  padding-bottom: 4rem;\n}\n.py-2 {\n  padding-top: 0.5rem;\n  padding-bottom: 0.5rem;\n}\n.py-3 {\n  padding-top: 0.75rem;\n  padding-bottom: 0.75rem;\n}\n.py-4 {\n  padding-top: 1rem;\n  padding-bottom: 1rem;\n}\n.py-6 {\n  padding-top: 1.5rem;\n  padding-bottom: 1.5rem;\n}\n.pb-0 {\n  padding-bottom: 0px;\n}\n.pb-2 {\n  padding-bottom: 0.5rem;\n}\n.pl-10 {\n  padding-left: 2.5rem;\n}\n.pl-8 {\n  padding-left: 2rem;\n}\n.pr-2 {\n  padding-right: 0.5rem;\n}\n.pt-0 {\n  padding-top: 0px;\n}\n.text-left {\n  text-align: left;\n}\n.text-center {\n  text-align: center;\n}\n.text-right {\n  text-align: right;\n}\n.align-middle {\n  vertical-align: middle;\n}\n.text-2xl {\n  font-size: 1.5rem;\n  line-height: 2rem;\n}\n.text-3xl {\n  font-size: 1.875rem;\n  line-height: 2.25rem;\n}\n.text-4xl {\n  font-size: 2.25rem;\n  line-height: 2.5rem;\n}\n.text-base {\n  font-size: 1rem;\n  line-height: 1.5rem;\n}\n.text-lg {\n  font-size: 1.125rem;\n  line-height: 1.75rem;\n}\n.text-sm {\n  font-size: 0.875rem;\n  line-height: 1.25rem;\n}\n.text-xl {\n  font-size: 1.25rem;\n  line-height: 1.75rem;\n}\n.text-xs {\n  font-size: 0.75rem;\n  line-height: 1rem;\n}\n.font-bold {\n  font-weight: 700;\n}\n.font-medium {\n  font-weight: 500;\n}\n.font-semibold {\n  font-weight: 600;\n}\n.uppercase {\n  text-transform: uppercase;\n}\n.italic {\n  font-style: italic;\n}\n.leading-none {\n  line-height: 1;\n}\n.leading-relaxed {\n  line-height: 1.625;\n}\n.tracking-tight {\n  letter-spacing: -0.025em;\n}\n.tracking-wide {\n  letter-spacing: 0.025em;\n}\n.text-blue-100 {\n  --tw-text-opacity: 1;\n  color: rgb(219 234 254 / var(--tw-text-opacity));\n}\n.text-blue-300 {\n  --tw-text-opacity: 1;\n  color: rgb(147 197 253 / var(--tw-text-opacity));\n}\n.text-green-100 {\n  --tw-text-opacity: 1;\n  color: rgb(220 252 231 / var(--tw-text-opacity));\n}\n.text-green-300 {\n  --tw-text-opacity: 1;\n  color: rgb(134 239 172 / var(--tw-text-opacity));\n}\n.text-green-400 {\n  --tw-text-opacity: 1;\n  color: rgb(74 222 128 / var(--tw-text-opacity));\n}\n.text-muted-foreground {\n  color: hsl(var(--muted-foreground));\n}\n.text-orange-400 {\n  --tw-text-opacity: 1;\n  color: rgb(251 146 60 / var(--tw-text-opacity));\n}\n.text-purple-300 {\n  --tw-text-opacity: 1;\n  color: rgb(216 180 254 / var(--tw-text-opacity));\n}\n.text-red-100 {\n  --tw-text-opacity: 1;\n  color: rgb(254 226 226 / var(--tw-text-opacity));\n}\n.text-red-300 {\n  --tw-text-opacity: 1;\n  color: rgb(252 165 165 / var(--tw-text-opacity));\n}\n.text-red-400 {\n  --tw-text-opacity: 1;\n  color: rgb(248 113 113 / var(--tw-text-opacity));\n}\n.text-white {\n  --tw-text-opacity: 1;\n  color: rgb(255 255 255 / var(--tw-text-opacity));\n}\n.text-white\\/50 {\n  color: rgb(255 255 255 / 0.5);\n}\n.text-white\\/60 {\n  color: rgb(255 255 255 / 0.6);\n}\n.text-white\\/70 {\n  color: rgb(255 255 255 / 0.7);\n}\n.text-white\\/80 {\n  color: rgb(255 255 255 / 0.8);\n}\n.text-white\\/90 {\n  color: rgb(255 255 255 / 0.9);\n}\n.text-white\\/95 {\n  color: rgb(255 255 255 / 0.95);\n}\n.text-yellow-100 {\n  --tw-text-opacity: 1;\n  color: rgb(254 249 195 / var(--tw-text-opacity));\n}\n.text-yellow-300 {\n  --tw-text-opacity: 1;\n  color: rgb(253 224 71 / var(--tw-text-opacity));\n}\n.text-yellow-400 {\n  --tw-text-opacity: 1;\n  color: rgb(250 204 21 / var(--tw-text-opacity));\n}\n.underline-offset-4 {\n  text-underline-offset: 4px;\n}\n.opacity-50 {\n  opacity: 0.5;\n}\n.shadow-lg {\n  --tw-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);\n  --tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n.shadow-md {\n  --tw-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);\n  --tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n.shadow-black\\/20 {\n  --tw-shadow-color: rgb(0 0 0 / 0.2);\n  --tw-shadow: var(--tw-shadow-colored);\n}\n.outline-none {\n  outline: 2px solid transparent;\n  outline-offset: 2px;\n}\n.outline {\n  outline-style: solid;\n}\n.filter {\n  filter: var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow);\n}\n.backdrop-blur-md {\n  --tw-backdrop-blur: blur(12px);\n  -webkit-backdrop-filter: var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);\n          backdrop-filter: var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);\n}\n.backdrop-blur-sm {\n  --tw-backdrop-blur: blur(4px);\n  -webkit-backdrop-filter: var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);\n          backdrop-filter: var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);\n}\n.transition-all {\n  transition-property: all;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration: 150ms;\n}\n.transition-colors {\n  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration: 150ms;\n}\n.duration-300 {\n  transition-duration: 300ms;\n}\n.glass-card {\n    background: rgba(255, 255, 255, 0.1);\n    -webkit-backdrop-filter: blur(12px);\n            backdrop-filter: blur(12px);\n    border: 1px solid rgba(255, 255, 255, 0.2);\n    border-radius: 16px;\n    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);\n  }\n.glass-card-hover {\n    transition: all 0.3s ease;\n  }\n.glass-card-hover:hover {\n    background: rgba(255, 255, 255, 0.15);\n    box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);\n    transform: translateY(-2px);\n  }\n.glass-input {\n    background: rgba(255, 255, 255, 0.1);\n    -webkit-backdrop-filter: blur(8px);\n            backdrop-filter: blur(8px);\n    border: 1px solid rgba(255, 255, 255, 0.2);\n    color: white;\n  }\n.glass-input::-moz-placeholder {\n    color: rgba(255, 255, 255, 0.5);\n  }\n.glass-input::placeholder {\n    color: rgba(255, 255, 255, 0.5);\n  }\n.glass-input:focus {\n    outline: none;\n    ring: 2px;\n    ring-color: rgba(255, 255, 255, 0.3);\n    ring-offset: 2px;\n  }\n.text-gradient {\n    background: linear-gradient(135deg, #ffffff 0%, #f0f0f0 100%);\n    -webkit-background-clip: text;\n    -webkit-text-fill-color: transparent;\n    background-clip: text;\n    text-shadow: 0 4px 20px rgba(255, 255, 255, 0.3);\n  }\n\n/* 引入主题系统 */\n\n/* Custom glassmorphism styles matching current design */\n.app-bg {\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  min-height: 100vh;\n  position: relative;\n}\n\n.app-bg::before {\n  content: '';\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: \n    radial-gradient(circle at 20% 50%, rgba(120, 119, 198, 0.3) 0%, transparent 50%),\n    radial-gradient(circle at 80% 20%, rgba(255, 119, 198, 0.3) 0%, transparent 50%),\n    radial-gradient(circle at 40% 80%, rgba(120, 219, 255, 0.3) 0%, transparent 50%);\n  pointer-events: none;\n  z-index: 1;\n}\n\n@keyframes fadeInUp {\n  from {\n    opacity: 0;\n    transform: translateY(30px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n/* ===== App加载动画样式 ===== */\n.app-loading,\n.app-error {\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  font-family: 'Arial', 'Microsoft YaHei', sans-serif;\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 9999;\n}\n\n.loading-container,\n.error-container {\n  background: rgba(255, 255, 255, 0.1);\n  -webkit-backdrop-filter: blur(20px);\n          backdrop-filter: blur(20px);\n  border-radius: 24px;\n  padding: 48px;\n  text-align: center;\n  max-width: 420px;\n  border: 1px solid rgba(255, 255, 255, 0.2);\n  box-shadow: 0 25px 80px rgba(0, 0, 0, 0.15);\n}\n\n/* 加载动画 */\n.loading-animation {\n  position: relative;\n  margin-bottom: 32px;\n}\n\n.loading-spinner {\n  width: 60px;\n  height: 60px;\n  border: 4px solid rgba(255, 255, 255, 0.3);\n  border-top: 4px solid white;\n  border-radius: 50%;\n  animation: spin 1s linear infinite;\n  margin: 0 auto 20px;\n}\n\n.loading-dots {\n  display: flex;\n  justify-content: center;\n  gap: 8px;\n}\n\n.loading-dots span {\n  width: 8px;\n  height: 8px;\n  background: white;\n  border-radius: 50%;\n  animation: bounce 1.4s ease-in-out infinite both;\n}\n\n.loading-dots span:nth-child(1) { animation-delay: -0.32s; }\n.loading-dots span:nth-child(2) { animation-delay: -0.16s; }\n.loading-dots span:nth-child(3) { animation-delay: 0s; }\n\n.loading-title {\n  color: white;\n  font-size: 2rem;\n  font-weight: 700;\n  margin-bottom: 8px;\n  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);\n}\n\n.loading-text {\n  color: rgba(255, 255, 255, 0.9);\n  font-size: 1.1rem;\n  margin-bottom: 24px;\n}\n\n.loading-progress {\n  width: 100%;\n  height: 4px;\n  background: rgba(255, 255, 255, 0.2);\n  border-radius: 2px;\n  overflow: hidden;\n  margin-bottom: 24px;\n}\n\n.progress-bar {\n  height: 100%;\n  background: linear-gradient(90deg, #4facfe, #00f2fe);\n  border-radius: 2px;\n  animation: progress 2s ease-in-out infinite;\n}\n\n.loading-tips {\n  text-align: left;\n  background: rgba(255, 255, 255, 0.1);\n  border-radius: 12px;\n  padding: 16px;\n  border: 1px solid rgba(255, 255, 255, 0.2);\n}\n\n.loading-tips p {\n  color: rgba(255, 255, 255, 0.9);\n  font-size: 0.9rem;\n  margin-bottom: 6px;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.loading-tips p:last-child {\n  margin-bottom: 0;\n}\n\n/* 错误状态样式 */\n.error-icon {\n  font-size: 4rem;\n  margin-bottom: 20px;\n}\n\n.error-title {\n  color: white;\n  font-size: 2rem;\n  font-weight: 700;\n  margin-bottom: 12px;\n}\n\n.error-message {\n  color: rgba(255, 255, 255, 0.9);\n  font-size: 1rem;\n  margin-bottom: 24px;\n  background: rgba(255, 77, 79, 0.2);\n  padding: 12px 16px;\n  border-radius: 8px;\n  border: 1px solid rgba(255, 77, 79, 0.3);\n}\n\n.error-retry {\n  background: linear-gradient(45deg, #ff6b6b, #ee5a52);\n  color: white;\n  border: none;\n  padding: 12px 24px;\n  border-radius: 8px;\n  font-size: 1rem;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  box-shadow: 0 4px 15px rgba(255, 107, 107, 0.4);\n}\n\n.error-retry:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 8px 25px rgba(255, 107, 107, 0.5);\n}\n\n/* 主App容器 */\n.app {\n  width: 100%;\n  height: 100vh;\n  overflow: hidden;\n}\n\n/* 新增动画定义 */\n@keyframes spin {\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(360deg); }\n}\n\n@keyframes bounce {\n  0%, 80%, 100% {\n    transform: scale(0);\n  }\n  40% {\n    transform: scale(1);\n  }\n}\n\n@keyframes progress {\n  0% {\n    width: 0%;\n    opacity: 1;\n  }\n  50% {\n    width: 70%;\n    opacity: 1;\n  }\n  100% {\n    width: 100%;\n    opacity: 0;\n  }\n}\n\n.placeholder\\:text-white\\/50::-moz-placeholder {\n  color: rgb(255 255 255 / 0.5);\n}\n\n.placeholder\\:text-white\\/50::placeholder {\n  color: rgb(255 255 255 / 0.5);\n}\n\n.hover\\:scale-105:hover {\n  --tw-scale-x: 1.05;\n  --tw-scale-y: 1.05;\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n\n.hover\\:bg-blue-600:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(37 99 235 / var(--tw-bg-opacity));\n}\n\n.hover\\:bg-red-500\\/30:hover {\n  background-color: rgb(239 68 68 / 0.3);\n}\n\n.hover\\:bg-white\\/10:hover {\n  background-color: rgb(255 255 255 / 0.1);\n}\n\n.hover\\:bg-white\\/20:hover {\n  background-color: rgb(255 255 255 / 0.2);\n}\n\n.hover\\:bg-white\\/30:hover {\n  background-color: rgb(255 255 255 / 0.3);\n}\n\n.hover\\:bg-white\\/5:hover {\n  background-color: rgb(255 255 255 / 0.05);\n}\n\n.hover\\:bg-white\\/60:hover {\n  background-color: rgb(255 255 255 / 0.6);\n}\n\n.hover\\:underline:hover {\n  text-decoration-line: underline;\n}\n\n.hover\\:shadow-lg:hover {\n  --tw-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);\n  --tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n\n.focus\\:bg-white\\/10:focus {\n  background-color: rgb(255 255 255 / 0.1);\n}\n\n.focus\\:text-white:focus {\n  --tw-text-opacity: 1;\n  color: rgb(255 255 255 / var(--tw-text-opacity));\n}\n\n.focus\\:outline-none:focus {\n  outline: 2px solid transparent;\n  outline-offset: 2px;\n}\n\n.focus\\:ring-2:focus {\n  --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);\n  --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);\n  box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);\n}\n\n.focus\\:ring-ring:focus {\n  --tw-ring-color: hsl(var(--ring));\n}\n\n.focus\\:ring-white\\/30:focus {\n  --tw-ring-color: rgb(255 255 255 / 0.3);\n}\n\n.focus\\:ring-offset-2:focus {\n  --tw-ring-offset-width: 2px;\n}\n\n.focus-visible\\:outline-none:focus-visible {\n  outline: 2px solid transparent;\n  outline-offset: 2px;\n}\n\n.focus-visible\\:ring-2:focus-visible {\n  --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);\n  --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);\n  box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);\n}\n\n.focus-visible\\:ring-ring:focus-visible {\n  --tw-ring-color: hsl(var(--ring));\n}\n\n.focus-visible\\:ring-white\\/30:focus-visible {\n  --tw-ring-color: rgb(255 255 255 / 0.3);\n}\n\n.focus-visible\\:ring-offset-2:focus-visible {\n  --tw-ring-offset-width: 2px;\n}\n\n.disabled\\:pointer-events-none:disabled {\n  pointer-events: none;\n}\n\n.disabled\\:cursor-not-allowed:disabled {\n  cursor: not-allowed;\n}\n\n.disabled\\:opacity-50:disabled {\n  opacity: 0.5;\n}\n\n.data-\\[disabled\\]\\:pointer-events-none[data-disabled] {\n  pointer-events: none;\n}\n\n.data-\\[side\\=bottom\\]\\:translate-y-1[data-side=bottom] {\n  --tw-translate-y: 0.25rem;\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n\n.data-\\[side\\=left\\]\\:-translate-x-1[data-side=left] {\n  --tw-translate-x: -0.25rem;\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n\n.data-\\[side\\=right\\]\\:translate-x-1[data-side=right] {\n  --tw-translate-x: 0.25rem;\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n\n.data-\\[side\\=top\\]\\:-translate-y-1[data-side=top] {\n  --tw-translate-y: -0.25rem;\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n\n.data-\\[state\\=selected\\]\\:bg-muted[data-state=selected] {\n  background-color: hsl(var(--muted));\n}\n\n.data-\\[disabled\\]\\:opacity-50[data-disabled] {\n  opacity: 0.5;\n}\n\n@media (min-width: 768px) {\n\n  .md\\:h-3 {\n    height: 0.75rem;\n  }\n\n  .md\\:h-6 {\n    height: 1.5rem;\n  }\n\n  .md\\:w-3 {\n    width: 0.75rem;\n  }\n\n  .md\\:w-6 {\n    width: 1.5rem;\n  }\n\n  .md\\:w-\\[120px\\] {\n    width: 120px;\n  }\n\n  .md\\:w-\\[140px\\] {\n    width: 140px;\n  }\n\n  .md\\:w-auto {\n    width: auto;\n  }\n\n  .md\\:grid-cols-2 {\n    grid-template-columns: repeat(2, minmax(0, 1fr));\n  }\n\n  .md\\:flex-row {\n    flex-direction: row;\n  }\n\n  .md\\:items-center {\n    align-items: center;\n  }\n\n  .md\\:justify-end {\n    justify-content: flex-end;\n  }\n\n  .md\\:gap-3 {\n    gap: 0.75rem;\n  }\n\n  .md\\:gap-4 {\n    gap: 1rem;\n  }\n\n  .md\\:p-3 {\n    padding: 0.75rem;\n  }\n\n  .md\\:p-4 {\n    padding: 1rem;\n  }\n\n  .md\\:px-4 {\n    padding-left: 1rem;\n    padding-right: 1rem;\n  }\n\n  .md\\:py-3 {\n    padding-top: 0.75rem;\n    padding-bottom: 0.75rem;\n  }\n\n  .md\\:pb-4 {\n    padding-bottom: 1rem;\n  }\n\n  .md\\:text-left {\n    text-align: left;\n  }\n\n  .md\\:text-2xl {\n    font-size: 1.5rem;\n    line-height: 2rem;\n  }\n\n  .md\\:text-base {\n    font-size: 1rem;\n    line-height: 1.5rem;\n  }\n\n  .md\\:text-sm {\n    font-size: 0.875rem;\n    line-height: 1.25rem;\n  }\n}\n\n@media (min-width: 1024px) {\n\n  .lg\\:w-\\[160px\\] {\n    width: 160px;\n  }\n\n  .lg\\:w-\\[180px\\] {\n    width: 180px;\n  }\n\n  .lg\\:grid-cols-4 {\n    grid-template-columns: repeat(4, minmax(0, 1fr));\n  }\n\n  .lg\\:gap-6 {\n    gap: 1.5rem;\n  }\n\n  .lg\\:p-6 {\n    padding: 1.5rem;\n  }\n}\n\n.\\[\\&\\:has\\(\\[role\\=checkbox\\]\\)\\]\\:pr-0:has([role=checkbox]) {\n  padding-right: 0px;\n}\n\n.\\[\\&\\>tr\\]\\:last\\:border-b-0:last-child>tr {\n  border-bottom-width: 0px;\n}\n\n.\\[\\&_tr\\:last-child\\]\\:border-0 tr:last-child {\n  border-width: 0px;\n}\n\n.\\[\\&_tr\\]\\:border-b tr {\n  border-bottom-width: 1px;\n}",""]);const c=l},250:(e,n,t)=>{t.d(n,{A:()=>o});var r=t(601),a=t.n(r),s=t(314),i=t.n(s)()(a());i.push([e.id,'/* ===== 主题切换器样式 ===== */\n\n.theme-switcher {\n  position: relative;\n  z-index: 1000;\n}\n\n.theme-toggle-button {\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-sm);\n  padding: var(--spacing-sm) var(--spacing-md);\n  background: var(--card-background);\n  -webkit-backdrop-filter: var(--glass-blur);\n  backdrop-filter: var(--glass-blur);\n  border: var(--glass-border);\n  border-radius: var(--border-radius-sm);\n  color: var(--text-primary);\n  font-size: 0.9rem;\n  font-weight: 500;\n  cursor: pointer;\n  transition: var(--transition-base);\n  white-space: nowrap;\n  min-width: 120px;\n}\n\n.theme-toggle-button:hover {\n  background: var(--hover-background);\n  transform: translateY(-1px);\n  box-shadow: var(--glass-shadow);\n}\n\n.theme-icon {\n  font-size: 1.1rem;\n}\n\n.theme-name {\n  flex: 1;\n  text-align: left;\n}\n\n.dropdown-arrow {\n  font-size: 0.7rem;\n  transition: var(--transition-base);\n  opacity: 0.7;\n}\n\n.dropdown-arrow.open {\n  transform: rotate(180deg);\n}\n\n/* 主题下拉菜单 */\n.theme-dropdown {\n  top: calc(100% + var(--spacing-sm));\n  right: 0;\n  width: 320px;\n  animation: dropdownSlideIn 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n}\n\n@keyframes dropdownSlideIn {\n  from {\n    opacity: 0;\n    transform: translateY(-10px) scale(0.95);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0) scale(1);\n  }\n}\n\n.theme-dropdown-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: var(--spacing-md);\n  border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n}\n\n/* 主题选择器标题样式 - 通用设置 */\n.theme-dropdown-header h3 {\n  font-size: 1.1rem;\n  font-weight: 600;\n  margin: 0;\n  color: var(--popup-text-primary, rgba(255, 255, 255, 0.95)) !important;\n  text-shadow: var(--popup-text-shadow, 0 1px 2px rgba(0, 0, 0, 0.1));\n}\n\n/* ===== 玻璃未来风主题 - 改用白色系文字 ===== */\n[data-theme="glass-future"] .theme-dropdown-header h3 {\n  color: oklch(1 0 0) !important;\n  text-shadow: 0 2px 8px oklch(0.257 0.09 281.288 / 0.8) !important;\n}\n\n[data-theme="glass-future"] .theme-dropdown {\n  background: oklch(0.511 0.262 276.966 / 0.9);\n  -webkit-backdrop-filter: blur(35px);\n  backdrop-filter: blur(35px);\n  border: 1px solid oklch(0.87 0.065 274.039 / 0.6);\n  box-shadow: 0 25px 80px oklch(0.257 0.09 281.288 / 0.4);\n}\n\n[data-theme="glass-future"] .theme-dropdown-header {\n  background: oklch(0.457 0.24 277.023 / 0.95);\n  border-bottom: 1px solid oklch(0.87 0.065 274.039 / 0.5);\n}\n\n/* 玻璃未来风主题 - 主题选项卡片样式 */\n[data-theme="glass-future"] .theme-option {\n  background: oklch(0.585 0.233 277.117 / 0.3) !important;\n  border: 1px solid oklch(0.87 0.065 274.039 / 0.5) !important;\n  color: oklch(1 0 0) !important;\n}\n\n[data-theme="glass-future"] .theme-option h4 {\n  color: oklch(1 0 0) !important;\n  text-shadow: 0 2px 6px oklch(0.257 0.09 281.288 / 0.8);\n}\n\n[data-theme="glass-future"] .theme-option p {\n  color: oklch(0.984 0.003 247.858) !important;\n  text-shadow: 0 2px 6px oklch(0.257 0.09 281.288 / 0.6);\n}\n\n[data-theme="glass-future"] .theme-option:hover {\n  background: oklch(0.511 0.262 276.966 / 0.4) !important;\n  border: 1px solid oklch(0.785 0.115 274.713 / 0.6) !important;\n}\n\n[data-theme="glass-future"] .theme-option.active {\n  background: oklch(0.457 0.24 277.023 / 0.5) !important;\n  border: 1px solid oklch(0.673 0.182 276.935 / 0.7) !important;\n}\n\n/* 玻璃未来风主题 - 关闭按钮样式 */\n[data-theme="glass-future"] .close-button {\n  color: oklch(0.984 0.003 247.858) !important;\n  background: oklch(0.585 0.233 277.117 / 0.4);\n  border: 1px solid oklch(0.87 0.065 274.039 / 0.6);\n  text-shadow: 0 2px 6px oklch(0.257 0.09 281.288 / 0.8);\n}\n\n/* ===== 深色科技风主题 - 基于 Slate 色块系列 ===== */\n[data-theme="dark-tech"] .theme-dropdown-header h3 {\n  color: oklch(0.968 0.007 247.896) !important;\n  text-shadow: 0 1px 3px oklch(0.129 0.042 264.695 / 0.8) !important;\n}\n\n[data-theme="dark-tech"] .theme-dropdown {\n  background: oklch(0.279 0.041 260.031 / 0.85);\n  border: 1px solid oklch(0.446 0.043 257.281 / 0.3);\n  box-shadow: 0 25px 80px oklch(0.129 0.042 264.695 / 0.4);\n}\n\n[data-theme="dark-tech"] .theme-dropdown-header {\n  background: oklch(0.372 0.044 257.287 / 0.9);\n  border-bottom: 1px solid oklch(0.446 0.043 257.281 / 0.3);\n}\n\n[data-theme="dark-tech"] .theme-option {\n  background: oklch(0.372 0.044 257.287 / 0.15) !important;\n  border: 1px solid oklch(0.446 0.043 257.281 / 0.3) !important;\n  color: oklch(0.968 0.007 247.896) !important;\n}\n\n[data-theme="dark-tech"] .theme-option h4 {\n  color: oklch(0.968 0.007 247.896) !important;\n  text-shadow: 0 1px 2px oklch(0.129 0.042 264.695 / 0.8);\n}\n\n[data-theme="dark-tech"] .theme-option p {\n  color: oklch(0.929 0.013 255.508) !important;\n  text-shadow: 0 1px 2px oklch(0.129 0.042 264.695 / 0.6);\n}\n\n[data-theme="dark-tech"] .theme-option:hover {\n  background: oklch(0.446 0.043 257.281 / 0.25) !important;\n  border: 1px solid oklch(0.554 0.046 257.417 / 0.4) !important;\n}\n\n[data-theme="dark-tech"] .theme-option.active {\n  background: oklch(0.554 0.046 257.417 / 0.3) !important;\n  border: 1px solid oklch(0.704 0.04 256.788 / 0.5) !important;\n}\n\n[data-theme="dark-tech"] .close-button {\n  color: oklch(0.929 0.013 255.508) !important;\n  background: oklch(0.372 0.044 257.287 / 0.3);\n  border: 1px solid oklch(0.446 0.043 257.281 / 0.4);\n  text-shadow: 0 1px 2px oklch(0.129 0.042 264.695 / 0.8);\n}\n\n/* ===== 温暖商务风主题 - 基于 Amber 色块系列 ===== */\n[data-theme="warm-business"] .theme-dropdown-header h3 {\n  color: oklch(0.414 0.112 45.904) !important;\n  text-shadow: 0 1px 3px oklch(0.987 0.022 95.277 / 0.9) !important;\n}\n\n[data-theme="warm-business"] .theme-dropdown {\n  background: oklch(0.987 0.022 95.277 / 0.85);\n  border: 1px solid oklch(0.924 0.12 95.746 / 0.4);\n  box-shadow: 0 25px 80px oklch(0.279 0.077 45.635 / 0.2);\n}\n\n[data-theme="warm-business"] .theme-dropdown-header {\n  background: oklch(0.987 0.022 95.277 / 0.95);\n  border-bottom: 1px solid oklch(0.924 0.12 95.746 / 0.4);\n}\n\n[data-theme="warm-business"] .theme-option {\n  background: oklch(0.962 0.059 95.617 / 0.15) !important;\n  border: 1px solid oklch(0.924 0.12 95.746 / 0.3) !important;\n  color: oklch(0.414 0.112 45.904) !important;\n}\n\n[data-theme="warm-business"] .theme-option h4 {\n  color: oklch(0.414 0.112 45.904) !important;\n  text-shadow: 0 1px 2px oklch(0.987 0.022 95.277 / 0.8);\n}\n\n[data-theme="warm-business"] .theme-option p {\n  color: oklch(0.473 0.137 46.201) !important;\n  text-shadow: 0 1px 2px oklch(0.987 0.022 95.277 / 0.6);\n}\n\n[data-theme="warm-business"] .theme-option:hover {\n  background: oklch(0.924 0.12 95.746 / 0.25) !important;\n  border: 1px solid oklch(0.879 0.169 91.605 / 0.4) !important;\n}\n\n[data-theme="warm-business"] .theme-option.active {\n  background: oklch(0.879 0.169 91.605 / 0.3) !important;\n  border: 1px solid oklch(0.828 0.189 84.429 / 0.5) !important;\n}\n\n[data-theme="warm-business"] .close-button {\n  color: oklch(0.473 0.137 46.201) !important;\n  background: oklch(0.962 0.059 95.617 / 0.3);\n  border: 1px solid oklch(0.924 0.12 95.746 / 0.4);\n  text-shadow: 0 1px 2px oklch(0.987 0.022 95.277 / 0.8);\n}\n\n.close-button {\n  padding: var(--spacing-xs);\n  min-width: auto;\n  width: 24px;\n  height: 24px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 50%;\n  font-size: 0.8rem;\n}\n\n/* 主题列表 */\n.theme-list {\n  padding: var(--spacing-sm);\n}\n\n.theme-option {\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-md);\n  padding: var(--spacing-md);\n  border-radius: var(--border-radius-md);\n  cursor: pointer;\n  transition: var(--transition-base);\n  position: relative;\n  background: transparent;\n  border: 1px solid transparent;\n}\n\n.theme-option:hover {\n  background: var(--card-background);\n  border-color: rgba(255, 255, 255, 0.2);\n}\n\n.theme-option.active {\n  background: var(--hover-background);\n  border-color: rgba(255, 255, 255, 0.3);\n}\n\n.theme-option.active::before {\n  content: \'\';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, transparent 50%);\n  border-radius: var(--border-radius-md);\n  pointer-events: none;\n}\n\n/* 主题预览 */\n.theme-preview {\n  width: 40px;\n  height: 40px;\n  border-radius: var(--border-radius-sm);\n  overflow: hidden;\n  border: 2px solid rgba(255, 255, 255, 0.2);\n  flex-shrink: 0;\n}\n\n.preview-gradient {\n  width: 100%;\n  height: 100%;\n  position: relative;\n}\n\n.preview-gradient::after {\n  content: \'\';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: linear-gradient(135deg, rgba(255, 255, 255, 0.2) 0%, transparent 50%, rgba(255, 255, 255, 0.1) 100%);\n}\n\n/* 主题信息 */\n.theme-info {\n  flex: 1;\n}\n\n.theme-title {\n  color: var(--text-primary);\n  font-size: 1rem;\n  font-weight: 600;\n  margin: 0 0 var(--spacing-xs) 0;\n}\n\n.theme-description {\n  color: var(--text-secondary);\n  font-size: 0.85rem;\n  margin: 0;\n  line-height: 1.4;\n}\n\n/* 激活指示器 */\n.active-indicator {\n  color: var(--text-accent);\n  font-size: 1.2rem;\n  font-weight: bold;\n  flex-shrink: 0;\n  opacity: 0;\n  transform: scale(0.8);\n  transition: var(--transition-base);\n}\n\n.theme-option.active .active-indicator {\n  opacity: 1;\n  transform: scale(1);\n}\n\n/* 底部提示 */\n.theme-footer {\n  padding: var(--spacing-md);\n  border-top: 1px solid rgba(255, 255, 255, 0.1);\n  background: rgba(255, 255, 255, 0.05);\n}\n\n.theme-tip {\n  color: var(--text-tertiary);\n  font-size: 0.8rem;\n  margin: 0;\n  text-align: center;\n  font-style: italic;\n}\n\n/* 覆盖层使用统一的popup-overlay样式 */\n\n/* 响应式适配 */\n@media (max-width: 768px) {\n  .theme-dropdown {\n    width: 280px;\n    left: 0;\n    right: 0;\n    margin: 0 auto;\n  }\n  \n  .theme-toggle-button {\n    min-width: 100px;\n    padding: var(--spacing-xs) var(--spacing-sm);\n  }\n  \n  .theme-name {\n    display: none;\n  }\n}\n\n@media (max-width: 480px) {\n  .theme-dropdown {\n    width: calc(100vw - 32px);\n    left: 16px;\n    right: 16px;\n    margin: 0;\n  }\n}',""]);const o=i},268:(e,n,t)=>{t.d(n,{A:()=>o});var r=t(601),a=t.n(r),s=t(314),i=t.n(s)()(a());i.push([e.id,"/* ===== Layout System - 主题化玻璃感布局 ===== */\n\n/* 布局特定变量 */\n:root {\n  /* 布局尺寸 */\n  --sidebar-width: 280px;\n  --sidebar-collapsed-width: 60px;\n  --topbar-height: 72px;\n  \n  /* 层级 */\n  --z-sidebar: 1000;\n  --z-topbar: 1001;\n  --z-dropdown: 1002;\n  --z-modal: 1003;\n}\n\n/* ===== 主布局容器 ===== */\n.app-layout {\n  display: flex;\n  height: 100vh;\n  overflow: hidden;\n  background: var(--app-background);\n  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n  position: relative;\n}\n\n/* ===== 侧边导航栏 ===== */\n.sidebar {\n  width: var(--sidebar-width);\n  background: var(--surface-background);\n  backdrop-filter: var(--glass-blur);\n  -webkit-backdrop-filter: var(--glass-blur);\n  border-right: var(--glass-border);\n  display: flex;\n  flex-direction: column;\n  transition: var(--transition-base);\n  position: relative;\n  z-index: var(--z-sidebar);\n  box-shadow: var(--glass-shadow);\n}\n\n.sidebar.collapsed {\n  width: var(--sidebar-collapsed-width);\n}\n\n/* 侧边栏头部 */\n.sidebar-header {\n  padding: var(--spacing-lg);\n  border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n  position: relative;\n  background: var(--card-background);\n  backdrop-filter: var(--glass-blur);\n  -webkit-backdrop-filter: var(--glass-blur);\n}\n\n.logo {\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-md);\n  transition: var(--transition-base);\n}\n\n.logo-icon {\n  font-size: 2rem;\n  width: 40px;\n  height: 40px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: var(--primary-gradient);\n  border-radius: var(--border-radius-sm);\n  flex-shrink: 0;\n  box-shadow: var(--glass-shadow);\n  position: relative;\n  overflow: hidden;\n}\n\n.logo-icon::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: linear-gradient(135deg, rgba(255, 255, 255, 0.2) 0%, transparent 50%);\n}\n\n.logo-text {\n  color: var(--text-accent);\n  font-size: 1.3rem;\n  font-weight: 700;\n  white-space: nowrap;\n  opacity: 1;\n  transition: var(--transition-base);\n  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n\n.sidebar.collapsed .logo-text {\n  opacity: 0;\n  transform: translateX(-10px);\n}\n\n/* 侧边栏导航菜单 */\n.sidebar-nav {\n  flex: 1;\n  padding: var(--spacing-sm) var(--spacing-md);\n  overflow-y: auto;\n  scrollbar-width: thin;\n  scrollbar-color: rgba(255, 255, 255, 0.3) transparent;\n}\n\n.sidebar-nav::-webkit-scrollbar {\n  width: 4px;\n}\n\n.sidebar-nav::-webkit-scrollbar-track {\n  background: transparent;\n}\n\n.sidebar-nav::-webkit-scrollbar-thumb {\n  background: rgba(255, 255, 255, 0.3);\n  border-radius: 2px;\n}\n\n.nav-list {\n  list-style: none;\n  padding: 0;\n  margin: 0;\n  width: 100%;\n}\n\n.nav-item {\n  margin-bottom: var(--spacing-sm);\n  width: 100%;\n}\n\n.nav-link {\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-md);\n  padding: var(--spacing-md) var(--spacing-lg);\n  color: var(--text-secondary);\n  text-decoration: none;\n  border-radius: var(--border-radius-md);\n  transition: var(--transition-base);\n  position: relative;\n  overflow: hidden;\n  background: var(--card-background);\n  backdrop-filter: var(--glass-blur);\n  -webkit-backdrop-filter: var(--glass-blur);\n  border: 1px solid rgba(255, 255, 255, 0.1);\n  box-shadow: var(--glass-shadow);\n  width: 100%;\n  cursor: pointer;\n  font-size: 0.95rem;\n  font-weight: 500;\n}\n\n.nav-link::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: var(--card-background);\n  backdrop-filter: var(--glass-blur);\n  -webkit-backdrop-filter: var(--glass-blur);\n  opacity: 0;\n  transition: var(--transition-base);\n  z-index: -1;\n}\n\n.nav-link:hover::before,\n.nav-link.active::before {\n  opacity: 1;\n}\n\n.nav-link:hover {\n  color: var(--text-primary);\n  transform: translateX(2px);\n  border-color: rgba(255, 255, 255, 0.25);\n  background: var(--hover-background);\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);\n}\n\n.nav-link.active {\n  color: var(--text-accent);\n  background: var(--active-background);\n  border-color: rgba(255, 255, 255, 0.4);\n  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);\n  transform: translateX(1px);\n}\n\n\n\n.nav-icon {\n  font-size: 1.2rem;\n  width: 20px;\n  text-align: center;\n  flex-shrink: 0;\n}\n\n.nav-label {\n  flex: 1;\n  white-space: nowrap;\n  opacity: 1;\n  transition: var(--transition-base);\n  font-weight: 500;\n}\n\n.sidebar.collapsed .nav-label {\n  opacity: 0;\n  transform: translateX(-10px);\n}\n\n.nav-badge {\n  background: var(--accent-color);\n  color: white;\n  font-size: 0.7rem;\n  padding: 2px 6px;\n  border-radius: 10px;\n  min-width: 16px;\n  text-align: center;\n  font-weight: 600;\n}\n\n.nav-arrow {\n  font-size: 0.8rem;\n  transition: var(--transition-base);\n  transform: rotate(-90deg);\n  margin-left: auto;\n  opacity: 0.7;\n}\n\n.nav-arrow.expanded {\n  transform: rotate(0deg);\n  opacity: 1;\n}\n\n\n\n/* 子菜单 */\n.nav-submenu {\n  list-style: none;\n  padding: 0;\n  margin: var(--spacing-sm) 0 0 0;\n  max-height: 0;\n  overflow: hidden;\n  transition: var(--transition-base);\n  background: var(--card-background);\n  backdrop-filter: var(--glass-blur);\n  -webkit-backdrop-filter: var(--glass-blur);\n  border-radius: var(--border-radius-sm);\n  border: 1px solid rgba(255, 255, 255, 0.1);\n  width: 100%;\n}\n\n.nav-item.expanded .nav-submenu {\n  max-height: 500px;\n  padding: var(--spacing-sm);\n}\n\n.nav-submenu .nav-link {\n  padding: var(--spacing-sm) var(--spacing-md);\n  font-size: 0.9rem;\n  margin-bottom: var(--spacing-xs);\n}\n\n.nav-submenu .nav-link:last-child {\n  margin-bottom: 0;\n}\n\n/* 子菜单链接样式 */\n.nav-sublink {\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-sm);\n  padding: var(--spacing-sm) var(--spacing-md);\n  color: var(--text-secondary);\n  text-decoration: none;\n  border-radius: var(--border-radius-sm);\n  transition: var(--transition-base);\n  position: relative;\n  overflow: hidden;\n  background: transparent;\n  border: 1px solid transparent;\n  font-size: 0.85rem;\n  margin-bottom: var(--spacing-xs);\n  width: 100%;\n  cursor: pointer;\n  font-weight: 400;\n  margin-left: var(--spacing-md);\n}\n\n.nav-subicon {\n  font-size: 1rem;\n  width: 16px;\n  text-align: center;\n  flex-shrink: 0;\n  opacity: 0.8;\n}\n\n.nav-sublabel {\n  flex: 1;\n  white-space: nowrap;\n  opacity: 0.9;\n}\n\n.nav-subbadge {\n  background: var(--accent-color);\n  color: white;\n  font-size: 0.6rem;\n  padding: 1px 4px;\n  border-radius: 8px;\n  min-width: 12px;\n  text-align: center;\n  font-weight: 600;\n}\n\n.nav-sublink:last-child {\n  margin-bottom: 0;\n}\n\n.nav-sublink::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: var(--card-background);\n  backdrop-filter: var(--glass-blur);\n  -webkit-backdrop-filter: var(--glass-blur);\n  opacity: 0;\n  transition: var(--transition-base);\n  z-index: -1;\n}\n\n.nav-sublink:hover::before,\n.nav-sublink.active::before {\n  opacity: 1;\n}\n\n.nav-sublink:hover {\n  color: var(--text-primary);\n  transform: translateX(2px);\n  border-color: rgba(255, 255, 255, 0.15);\n  background: var(--hover-background);\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);\n}\n\n.nav-sublink.active {\n  color: var(--text-accent);\n  background: var(--active-background);\n  border-color: rgba(255, 255, 255, 0.25);\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.12);\n  transform: translateX(1px);\n}\n\n.nav-sublink.active .nav-subicon {\n  opacity: 1;\n}\n\n.nav-sublink.active .nav-sublabel {\n  opacity: 1;\n  font-weight: 500;\n}\n\n.nav-subicon {\n  font-size: 1rem;\n  width: 16px;\n  text-align: center;\n  flex-shrink: 0;\n}\n\n.nav-sublabel {\n  flex: 1;\n  white-space: nowrap;\n  opacity: 1;\n  transition: var(--transition-base);\n  font-weight: 500;\n}\n\n.nav-subbadge {\n  background: var(--accent-color);\n  color: white;\n  font-size: 0.7rem;\n  padding: 2px 6px;\n  border-radius: 10px;\n  min-width: 16px;\n  text-align: center;\n  font-weight: 600;\n}\n\n/* 侧边栏底部 */\n.sidebar-footer {\n  padding: var(--spacing-md);\n  border-top: 1px solid rgba(255, 255, 255, 0.1);\n  background: var(--card-background);\n  backdrop-filter: var(--glass-blur);\n  -webkit-backdrop-filter: var(--glass-blur);\n}\n\n.toggle-button {\n  width: 100%;\n  padding: var(--spacing-md);\n  background: var(--card-background);\n  backdrop-filter: var(--glass-blur);\n  -webkit-backdrop-filter: var(--glass-blur);\n  border: var(--glass-border);\n  border-radius: var(--border-radius-md);\n  color: var(--text-primary);\n  cursor: pointer;\n  transition: var(--transition-base);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: var(--spacing-sm);\n  font-weight: 500;\n}\n\n.toggle-button:hover {\n  background: var(--hover-background);\n  transform: translateY(-1px);\n  box-shadow: var(--glass-shadow);\n}\n\n.toggle-text {\n  opacity: 1;\n  transition: var(--transition-base);\n}\n\n.sidebar.collapsed .toggle-text {\n  opacity: 0;\n}\n\n/* ===== 主内容区域 ===== */\n.main-layout {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  transition: var(--transition-base);\n  position: relative;\n}\n\n.main-layout.sidebar-collapsed {\n  margin-left: 0;\n}\n\n/* ===== 顶部导航栏 ===== */\n.topbar {\n  height: var(--topbar-height);\n  background: var(--surface-background);\n  backdrop-filter: var(--glass-blur);\n  -webkit-backdrop-filter: var(--glass-blur);\n  border-bottom: var(--glass-border);\n  display: flex;\n  align-items: center;\n  padding: 0 var(--spacing-lg);\n  position: relative;\n  z-index: var(--z-topbar);\n  box-shadow: var(--glass-shadow);\n}\n\n.topbar-left {\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-md);\n}\n\n.sidebar-toggle {\n  padding: var(--spacing-sm);\n  background: var(--card-background);\n  backdrop-filter: var(--glass-blur);\n  -webkit-backdrop-filter: var(--glass-blur);\n  border: var(--glass-border);\n  border-radius: var(--border-radius-sm);\n  color: var(--text-primary);\n  cursor: pointer;\n  transition: var(--transition-base);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 40px;\n  height: 40px;\n}\n\n.sidebar-toggle:hover {\n  background: var(--hover-background);\n  transform: scale(1.05);\n}\n\n.breadcrumbs {\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-sm);\n  color: var(--text-secondary);\n  font-size: 0.9rem;\n}\n\n.breadcrumb-item {\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-sm);\n}\n\n.breadcrumb-separator {\n  color: var(--text-tertiary);\n  font-size: 0.8rem;\n}\n\n.breadcrumb-current {\n  color: var(--text-primary);\n  font-weight: 600;\n}\n\n.topbar-center {\n  flex: 1;\n  display: flex;\n  justify-content: center;\n  padding: 0 var(--spacing-lg);\n}\n\n.search-container {\n  position: relative;\n  max-width: 400px;\n  width: 100%;\n}\n\n.search-input {\n  width: 100%;\n  padding: var(--spacing-sm) var(--spacing-md) var(--spacing-sm) 40px;\n  background: var(--card-background);\n  backdrop-filter: var(--glass-blur);\n  -webkit-backdrop-filter: var(--glass-blur);\n  border: var(--glass-border);\n  border-radius: var(--border-radius-md);\n  color: var(--text-primary);\n  font-size: 0.9rem;\n  transition: var(--transition-base);\n}\n\n.search-input:focus {\n  background: var(--hover-background);\n  border-color: rgba(255, 255, 255, 0.5);\n  box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.1);\n  outline: none;\n}\n\n.search-input::-moz-placeholder {\n  color: var(--text-tertiary);\n}\n\n.search-input::placeholder {\n  color: var(--text-tertiary);\n}\n\n.search-icon {\n  position: absolute;\n  left: var(--spacing-md);\n  top: 50%;\n  transform: translateY(-50%);\n  color: var(--text-tertiary);\n  font-size: 1rem;\n  pointer-events: none;\n}\n\n.topbar-right {\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-md);\n}\n\n.topbar-action {\n  padding: var(--spacing-sm);\n  background: var(--card-background);\n  backdrop-filter: var(--glass-blur);\n  -webkit-backdrop-filter: var(--glass-blur);\n  border: var(--glass-border);\n  border-radius: var(--border-radius-sm);\n  color: var(--text-primary);\n  cursor: pointer;\n  transition: var(--transition-base);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 40px;\n  height: 40px;\n  position: relative;\n}\n\n.topbar-action:hover {\n  background: var(--hover-background);\n  transform: translateY(-1px);\n  box-shadow: var(--glass-shadow);\n}\n\n.notification-badge {\n  position: absolute;\n  top: -2px;\n  right: -2px;\n  width: 16px;\n  height: 16px;\n  background: #ff4757;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 0.7rem;\n  font-weight: 600;\n  color: white;\n  border: 2px solid var(--card-background);\n}\n\n.user-menu {\n  position: relative;\n}\n\n.user-avatar {\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  background: var(--primary-gradient);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: white;\n  font-weight: 600;\n  cursor: pointer;\n  transition: var(--transition-base);\n  border: 2px solid rgba(255, 255, 255, 0.3);\n}\n\n.user-avatar:hover {\n  transform: scale(1.05);\n  box-shadow: var(--glass-shadow);\n}\n\n/* ===== 主内容容器 ===== */\n.main-content {\n  flex: 1;\n  overflow-y: auto;\n  padding: 0;\n  position: relative;\n  background: transparent;\n}\n\n/* 滚动条样式 */\n.main-content::-webkit-scrollbar {\n  width: 8px;\n}\n\n.main-content::-webkit-scrollbar-track {\n  background: rgba(255, 255, 255, 0.1);\n}\n\n.main-content::-webkit-scrollbar-thumb {\n  background: rgba(255, 255, 255, 0.3);\n  border-radius: 4px;\n}\n\n.main-content::-webkit-scrollbar-thumb:hover {\n  background: rgba(255, 255, 255, 0.4);\n}\n\n/* ===== 响应式设计 ===== */\n@media (max-width: 1024px) {\n  .topbar-center {\n    padding: 0 var(--spacing-md);\n  }\n  \n  .search-container {\n    max-width: 300px;\n  }\n  \n  .breadcrumbs {\n    display: none;\n  }\n}\n\n@media (max-width: 768px) {\n  .sidebar {\n    position: fixed;\n    left: 0;\n    top: 0;\n    height: 100vh;\n    z-index: var(--z-sidebar);\n    transform: translateX(-100%);\n    transition: transform var(--transition-base);\n  }\n  \n  .sidebar.mobile-open {\n    transform: translateX(0);\n  }\n  \n  .main-layout {\n    width: 100%;\n  }\n  \n  .topbar-center {\n    display: none;\n  }\n  \n  .topbar-right {\n    gap: var(--spacing-sm);\n  }\n}\n\n@media (max-width: 480px) {\n  .topbar {\n    padding: 0 var(--spacing-md);\n  }\n  \n  .sidebar-header {\n    padding: var(--spacing-md);\n  }\n  \n  .sidebar-nav {\n    padding: var(--spacing-sm);\n  }\n}\n\n/* ===== TopBar 特定样式 ===== */\n\n.mobile-menu-btn {\n  padding: var(--spacing-sm);\n  background: var(--card-background);\n  backdrop-filter: var(--glass-blur);\n  -webkit-backdrop-filter: var(--glass-blur);\n  border: var(--glass-border);\n  border-radius: var(--border-radius-sm);\n  color: var(--text-primary);\n  cursor: pointer;\n  transition: var(--transition-base);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 40px;\n  height: 40px;\n  font-size: 1.2rem;\n}\n\n.mobile-menu-btn:hover {\n  background: var(--hover-background);\n  transform: scale(1.05);\n}\n\n.breadcrumb-title-wrapper {\n  display: flex;\n  flex-direction: column;\n  gap: var(--spacing-xs);\n  margin-left: var(--spacing-md);\n}\n\n.breadcrumb {\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-sm);\n}\n\n.breadcrumb-item {\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-xs);\n  color: var(--text-secondary);\n  font-size: 0.85rem;\n  font-weight: 500;\n}\n\n.breadcrumb-separator {\n  color: var(--text-tertiary);\n  font-size: 0.8rem;\n  margin: 0 var(--spacing-xs);\n}\n\n.breadcrumb-item .current {\n  color: var(--text-accent);\n  font-weight: 600;\n}\n\n.page-title {\n  color: var(--text-accent);\n  font-size: 1.3rem;\n  font-weight: 700;\n  margin: 0;\n  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n\n.search-form {\n  width: 100%;\n  max-width: 400px;\n}\n\n.search-input-wrapper {\n  position: relative;\n  width: 100%;\n}\n\n.search-clear {\n  position: absolute;\n  right: var(--spacing-sm);\n  top: 50%;\n  transform: translateY(-50%);\n  background: none;\n  border: none;\n  color: var(--text-tertiary);\n  cursor: pointer;\n  padding: var(--spacing-xs);\n  border-radius: var(--border-radius-sm);\n  transition: var(--transition-base);\n}\n\n.search-clear:hover {\n  color: var(--text-primary);\n  background: var(--hover-background);\n}\n\n.quick-actions {\n  display: flex;\n  gap: var(--spacing-sm);\n  align-items: center;\n}\n\n.quick-action-btn {\n  padding: var(--spacing-sm);\n  background: var(--card-background);\n  backdrop-filter: var(--glass-blur);\n  -webkit-backdrop-filter: var(--glass-blur);\n  border: var(--glass-border);\n  border-radius: var(--border-radius-sm);\n  color: var(--text-primary);\n  cursor: pointer;\n  transition: var(--transition-base);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 36px;\n  height: 36px;\n  font-size: 1rem;\n}\n\n.quick-action-btn:hover {\n  background: var(--hover-background);\n  transform: translateY(-1px);\n  box-shadow: var(--glass-shadow);\n}\n\n.notification-wrapper {\n  position: relative;\n}\n\n.notification-btn {\n  padding: var(--spacing-sm);\n  background: var(--card-background);\n  backdrop-filter: var(--glass-blur);\n  -webkit-backdrop-filter: var(--glass-blur);\n  border: var(--glass-border);\n  border-radius: var(--border-radius-sm);\n  color: var(--text-primary);\n  cursor: pointer;\n  transition: var(--transition-base);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 40px;\n  height: 40px;\n  position: relative;\n}\n\n.notification-btn:hover {\n  background: var(--hover-background);\n  transform: translateY(-1px);\n  box-shadow: var(--glass-shadow);\n}\n\n.notification-dropdown {\n  top: 100%;\n  right: 0;\n  width: 320px;\n  margin-top: var(--spacing-sm);\n}\n\n.notification-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.notification-header h3 {\n  color: rgba(255, 255, 255, 1);\n  font-size: 1rem;\n  font-weight: 600;\n  margin: 0;\n  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\n}\n\n.close-btn {\n  background: none;\n  border: none;\n  color: rgba(255, 255, 255, 0.8);\n  cursor: pointer;\n  padding: var(--spacing-xs);\n  border-radius: var(--border-radius-sm);\n  transition: var(--transition-base);\n  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\n  font-weight: 600;\n}\n\n.close-btn:hover {\n  color: rgba(255, 255, 255, 1);\n  background: rgba(255, 255, 255, 0.2);\n  transform: scale(1.1);\n}\n\n.notification-list {\n  max-height: 300px;\n  overflow-y: auto;\n}\n\n.notification-item {\n  padding: var(--spacing-md);\n  border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n  transition: var(--transition-base);\n  background: transparent;\n}\n\n.notification-item:hover {\n  background: var(--hover-background);\n}\n\n.notification-item:last-child {\n  border-bottom: none;\n}\n\n.notification-content p {\n  color: rgba(255, 255, 255, 0.95);\n  font-size: 0.9rem;\n  margin: 0 0 var(--spacing-xs) 0;\n  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);\n  font-weight: 500;\n}\n\n.notification-time {\n  color: rgba(255, 255, 255, 0.8);\n  font-size: 0.8rem;\n  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);\n  font-weight: 500;\n}\n\n.notification-footer {\n  padding: var(--spacing-md);\n  border-top: 1px solid rgba(255, 255, 255, 0.3);\n  text-align: center;\n}\n\n.view-all-btn {\n  background: none;\n  border: none;\n  color: rgba(255, 255, 255, 1);\n  cursor: pointer;\n  font-size: 0.9rem;\n  font-weight: 600;\n  padding: var(--spacing-xs) var(--spacing-sm);\n  border-radius: var(--border-radius-sm);\n  transition: var(--transition-base);\n  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\n}\n\n.view-all-btn:hover {\n  background: var(--hover-background);\n}\n\n.user-menu-wrapper {\n  position: relative;\n}\n\n.user-menu-btn {\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-sm);\n  padding: var(--spacing-sm) var(--spacing-md);\n  background: var(--card-background);\n  backdrop-filter: var(--glass-blur);\n  -webkit-backdrop-filter: var(--glass-blur);\n  border: var(--glass-border);\n  border-radius: var(--border-radius-md);\n  color: var(--text-primary);\n  cursor: pointer;\n  transition: var(--transition-base);\n}\n\n.user-menu-btn:hover {\n  background: var(--hover-background);\n  transform: translateY(-1px);\n  box-shadow: var(--glass-shadow);\n}\n\n.user-name {\n  font-size: 0.9rem;\n  font-weight: 600;\n  white-space: nowrap;\n}\n\n.dropdown-arrow {\n  font-size: 0.8rem;\n  opacity: 0.7;\n  transition: var(--transition-base);\n}\n\n.user-dropdown {\n  top: 100%;\n  right: 0;\n  width: 280px;\n  margin-top: var(--spacing-sm);\n}\n\n.user-info {\n  padding: var(--spacing-lg);\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-md);\n  background: var(--card-background);\n}\n\n.avatar-large {\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n  background: var(--primary-gradient);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: white;\n  font-weight: 600;\n  font-size: 1.2rem;\n  border: 3px solid rgba(255, 255, 255, 0.3);\n}\n\n.user-details .name {\n  color: var(--text-primary);\n  font-size: 1rem;\n  font-weight: 600;\n  margin-bottom: var(--spacing-xs);\n}\n\n.user-details .role {\n  color: var(--text-secondary);\n  font-size: 0.85rem;\n  margin-bottom: var(--spacing-xs);\n}\n\n.user-details .email {\n  color: var(--text-tertiary);\n  font-size: 0.8rem;\n}\n\n.user-menu-divider {\n  height: 1px;\n  background: rgba(255, 255, 255, 0.1);\n}\n\n.user-menu-list {\n  list-style: none;\n  padding: var(--spacing-sm) 0;\n  margin: 0;\n}\n\n.user-menu-item {\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-md);\n  padding: var(--spacing-md) var(--spacing-lg);\n  background: none;\n  border: none;\n  color: var(--text-primary);\n  cursor: pointer;\n  transition: var(--transition-base);\n  width: 100%;\n  font-size: 0.9rem;\n}\n\n.user-menu-item:hover {\n  background: var(--hover-background);\n}\n\n.user-menu-item.logout {\n  color: #ff4757;\n}\n\n.user-menu-item.logout:hover {\n  background: rgba(255, 71, 87, 0.1);\n}\n\n.menu-icon {\n  font-size: 1rem;\n  width: 20px;\n  text-align: center;\n}\n\n.menu-divider {\n  height: 1px;\n  background: rgba(255, 255, 255, 0.1);\n  margin: var(--spacing-sm) 0;\n}\n\n.system-status {\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-sm);\n  padding: var(--spacing-sm) var(--spacing-md);\n  background: var(--card-background);\n  backdrop-filter: var(--glass-blur);\n  -webkit-backdrop-filter: var(--glass-blur);\n  border: var(--glass-border);\n  border-radius: var(--border-radius-md);\n}\n\n.status-indicator {\n  width: 8px;\n  height: 8px;\n  border-radius: 50%;\n  background: #2ecc71;\n  box-shadow: 0 0 8px rgba(46, 204, 113, 0.6);\n}\n\n.status-indicator.online {\n  background: #2ecc71;\n  box-shadow: 0 0 8px rgba(46, 204, 113, 0.6);\n}\n\n.status-indicator.offline {\n  background: #e74c3c;\n  box-shadow: 0 0 8px rgba(231, 76, 60, 0.6);\n}\n\n.status-text {\n  color: var(--text-secondary);\n  font-size: 0.8rem;\n  font-weight: 500;\n}",""]);const o=i},278:(e,n,t)=>{t.d(n,{A:()=>o});var r=t(601),a=t.n(r),s=t(314),i=t.n(s)()(a());i.push([e.id,"/* ===== 采购管理玻璃感样式 ===== */\n\n.supplier-management,\n.purchase-order-management,\n.purchase-receipt-management {\n  padding: var(--spacing-lg);\n  background: var(--app-background);\n  min-height: 100vh;\n  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n  position: relative;\n}\n\n/* 页面头部样式 */\n.page-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: var(--spacing-xl);\n  padding: var(--spacing-lg);\n  background: var(--surface-background);\n  backdrop-filter: var(--glass-blur);\n  -webkit-backdrop-filter: var(--glass-blur);\n  border: var(--glass-border);\n  border-radius: var(--border-radius-xl);\n  box-shadow: var(--glass-shadow);\n  position: relative;\n  overflow: hidden;\n}\n\n.page-header::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 2px;\n  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.6), transparent);\n}\n\n.page-header h2 {\n  color: var(--text-accent);\n  font-size: 1.8rem;\n  font-weight: 700;\n  margin: 0;\n  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n\n.page-header p {\n  color: var(--text-secondary);\n  margin: var(--spacing-xs) 0 0 0;\n  font-size: 0.9rem;\n}\n\n.header-left {\n  flex: 1;\n}\n\n.header-actions {\n  display: flex;\n  gap: var(--spacing-md);\n}\n\n/* 错误消息样式 */\n.error-message {\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-sm);\n  padding: var(--spacing-md);\n  margin-bottom: var(--spacing-lg);\n  background: rgba(239, 68, 68, 0.1);\n  border: 1px solid rgba(239, 68, 68, 0.3);\n  border-radius: var(--border-radius-sm);\n  color: rgb(239, 68, 68);\n  backdrop-filter: var(--glass-blur);\n  -webkit-backdrop-filter: var(--glass-blur);\n  position: relative;\n}\n\n.error-icon {\n  font-size: 1.2rem;\n}\n\n.close-error {\n  margin-left: auto;\n  background: none;\n  border: none;\n  color: rgb(239, 68, 68);\n  cursor: pointer;\n  padding: 4px;\n  border-radius: 4px;\n  transition: var(--transition-base);\n}\n\n.close-error:hover {\n  background: rgba(239, 68, 68, 0.2);\n}\n\n/* 统计信息样式 */\n.statistics-section {\n  margin-bottom: var(--spacing-xl);\n}\n\n.statistics-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n  gap: var(--spacing-lg);\n}\n\n.stat-item {\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-md);\n  padding: var(--spacing-lg);\n  background: var(--surface-background);\n  backdrop-filter: var(--glass-blur);\n  -webkit-backdrop-filter: var(--glass-blur);\n  border: var(--glass-border);\n  border-radius: var(--border-radius-lg);\n  box-shadow: var(--glass-shadow);\n  position: relative;\n  overflow: hidden;\n}\n\n.stat-item::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 3px;\n  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.6), transparent);\n}\n\n.stat-item.total::before {\n  background: linear-gradient(90deg, #6366f1, #8b5cf6);\n}\n\n.stat-item.active::before {\n  background: linear-gradient(90deg, #22c55e, #10b981);\n}\n\n.stat-item.credit::before {\n  background: linear-gradient(90deg, #f59e0b, #d97706);\n}\n\n.stat-item.rating::before {\n  background: linear-gradient(90deg, #ef4444, #dc2626);\n}\n\n.stat-icon {\n  font-size: 2.5rem;\n  opacity: 0.8;\n}\n\n.stat-content {\n  flex: 1;\n}\n\n.stat-value {\n  font-size: 2rem;\n  font-weight: 700;\n  color: var(--text-primary);\n  line-height: 1;\n  margin-bottom: var(--spacing-xs);\n}\n\n.stat-label {\n  font-size: 0.9rem;\n  color: var(--text-secondary);\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n}\n\n/* 筛选区域样式 */\n.filter-section {\n  background: var(--surface-background);\n  backdrop-filter: var(--glass-blur);\n  -webkit-backdrop-filter: var(--glass-blur);\n  border: var(--glass-border);\n  border-radius: var(--border-radius-lg);\n  box-shadow: var(--glass-shadow);\n  margin-bottom: var(--spacing-xl);\n  overflow: hidden;\n}\n\n.filter-row {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n  gap: var(--spacing-lg);\n  padding: var(--spacing-lg);\n}\n\n.filter-group {\n  display: flex;\n  flex-direction: column;\n  gap: var(--spacing-xs);\n}\n\n.filter-group label {\n  color: var(--text-secondary);\n  font-size: 0.85rem;\n  font-weight: 600;\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n}\n\n.search-input-wrapper {\n  position: relative;\n}\n\n.search-icon {\n  position: absolute;\n  left: var(--spacing-sm);\n  top: 50%;\n  transform: translateY(-50%);\n  color: var(--text-tertiary);\n  font-size: 1rem;\n  pointer-events: none;\n}\n\n.search-input-wrapper .glass-input {\n  padding-left: 2.5rem;\n}\n\n/* 内容区域样式 */\n.content-section {\n  background: var(--surface-background);\n  backdrop-filter: var(--glass-blur);\n  -webkit-backdrop-filter: var(--glass-blur);\n  border: var(--glass-border);\n  border-radius: var(--border-radius-lg);\n  box-shadow: var(--glass-shadow);\n  overflow: hidden;\n}\n\n.section-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: var(--spacing-lg);\n  border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n  background: var(--card-background);\n}\n\n.section-header h3 {\n  color: var(--text-primary);\n  font-size: 1.2rem;\n  font-weight: 600;\n  margin: 0;\n}\n\n.item-count {\n  color: var(--text-secondary);\n  font-size: 0.85rem;\n}\n\n/* 玻璃感表格样式 */\n.glass-table-container {\n  overflow-x: auto;\n}\n\n.glass-table {\n  width: 100%;\n  border-collapse: collapse;\n  background: transparent;\n}\n\n.glass-table th {\n  background: var(--card-background);\n  padding: var(--spacing-md);\n  text-align: left;\n  font-weight: 600;\n  font-size: 0.85rem;\n  color: var(--text-secondary);\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n  position: sticky;\n  top: 0;\n  backdrop-filter: var(--glass-blur);\n  -webkit-backdrop-filter: var(--glass-blur);\n}\n\n.glass-table td {\n  padding: var(--spacing-md);\n  border-bottom: 1px solid rgba(255, 255, 255, 0.05);\n  color: var(--text-primary);\n  font-size: 0.9rem;\n  vertical-align: top;\n}\n\n.glass-table tr:hover {\n  background: rgba(255, 255, 255, 0.03);\n}\n\n/* 供应商信息单元格 */\n.supplier-info-cell {\n  min-width: 200px;\n}\n\n.supplier-info {\n  display: flex;\n  flex-direction: column;\n  gap: var(--spacing-xs);\n}\n\n.supplier-name {\n  font-weight: 600;\n  color: var(--text-primary);\n}\n\n.supplier-contact {\n  font-size: 0.8rem;\n  color: var(--text-secondary);\n}\n\n.supplier-address {\n  font-size: 0.75rem;\n  color: var(--text-tertiary);\n  max-width: 200px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n/* 编码单元格 */\n.code-cell {\n  min-width: 100px;\n}\n\n.supplier-code {\n  font-family: 'Courier New', monospace;\n  background: rgba(255, 255, 255, 0.1);\n  padding: 2px 6px;\n  border-radius: 4px;\n  font-size: 0.8rem;\n}\n\n/* 联系方式单元格 */\n.contact-cell {\n  min-width: 160px;\n}\n\n.contact-info {\n  display: flex;\n  flex-direction: column;\n  gap: var(--spacing-xs);\n}\n\n.contact-item {\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-xs);\n}\n\n.contact-icon {\n  font-size: 0.8rem;\n  opacity: 0.7;\n}\n\n.contact-value {\n  font-size: 0.8rem;\n  color: var(--text-secondary);\n}\n\n/* 信用额度单元格 */\n.credit-cell {\n  min-width: 120px;\n  text-align: right;\n}\n\n.credit-info {\n  display: flex;\n  flex-direction: column;\n  gap: var(--spacing-xs);\n  align-items: flex-end;\n}\n\n.credit-amount {\n  font-weight: 600;\n  color: var(--text-accent);\n  font-family: 'Courier New', monospace;\n}\n\n.payment-terms {\n  font-size: 0.75rem;\n  color: var(--text-tertiary);\n  font-style: italic;\n}\n\n/* 评级徽章 */\n.rating-badge {\n  padding: 4px 8px;\n  border-radius: 8px;\n  font-size: 0.75rem;\n  font-weight: 600;\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n}\n\n.rating-badge.rating-a {\n  background: rgba(34, 197, 94, 0.2);\n  color: #22c55e;\n  border: 1px solid rgba(34, 197, 94, 0.3);\n}\n\n.rating-badge.rating-b {\n  background: rgba(59, 130, 246, 0.2);\n  color: #3b82f6;\n  border: 1px solid rgba(59, 130, 246, 0.3);\n}\n\n.rating-badge.rating-c {\n  background: rgba(245, 158, 11, 0.2);\n  color: #f59e0b;\n  border: 1px solid rgba(245, 158, 11, 0.3);\n}\n\n.rating-badge.rating-d {\n  background: rgba(239, 68, 68, 0.2);\n  color: #ef4444;\n  border: 1px solid rgba(239, 68, 68, 0.3);\n}\n\n/* 状态徽章 */\n.status-badge {\n  padding: 4px 8px;\n  border-radius: 8px;\n  font-size: 0.75rem;\n  font-weight: 600;\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n}\n\n.status-badge.status-active {\n  background: rgba(34, 197, 94, 0.2);\n  color: #22c55e;\n  border: 1px solid rgba(34, 197, 94, 0.3);\n}\n\n.status-badge.status-inactive {\n  background: rgba(107, 114, 128, 0.2);\n  color: #6b7280;\n  border: 1px solid rgba(107, 114, 128, 0.3);\n}\n\n/* 操作按钮 */\n.actions-cell {\n  min-width: 100px;\n}\n\n.action-btn {\n  background: var(--card-background);\n  backdrop-filter: var(--glass-blur);\n  -webkit-backdrop-filter: var(--glass-blur);\n  border: var(--glass-border);\n  border-radius: var(--border-radius-xs);\n  padding: var(--spacing-xs);\n  margin: 0 2px;\n  cursor: pointer;\n  transition: var(--transition-base);\n  font-size: 1rem;\n}\n\n.action-btn:hover {\n  background: rgba(255, 255, 255, 0.1);\n  transform: translateY(-1px);\n}\n\n.action-btn.edit:hover {\n  background: rgba(59, 130, 246, 0.2);\n}\n\n.action-btn.delete:hover {\n  background: rgba(239, 68, 68, 0.2);\n}\n\n/* 空状态 */\n.empty-state {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: var(--spacing-xxl);\n  text-align: center;\n  color: var(--text-secondary);\n}\n\n.empty-state .empty-icon {\n  font-size: 3rem;\n  margin-bottom: var(--spacing-md);\n  opacity: 0.5;\n}\n\n.empty-state h3 {\n  color: var(--text-primary);\n  margin-bottom: var(--spacing-sm);\n}\n\n.empty-state p {\n  margin: 0;\n  font-size: 1rem;\n}\n\n/* 模态框样式 */\n.modal-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  backdrop-filter: blur(8px);\n  -webkit-backdrop-filter: blur(8px);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n  padding: var(--spacing-md);\n}\n\n.modal-content {\n  background: var(--surface-background);\n  backdrop-filter: var(--glass-blur);\n  -webkit-backdrop-filter: var(--glass-blur);\n  border: var(--glass-border);\n  border-radius: var(--border-radius-lg);\n  box-shadow: var(--glass-shadow-hover);\n  width: 100%;\n  max-width: 800px;\n  max-height: 90vh;\n  overflow-y: auto;\n}\n\n.modal-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: var(--spacing-lg);\n  border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n  background: var(--card-background);\n}\n\n.modal-header h3 {\n  color: var(--text-primary);\n  font-size: 1.3rem;\n  font-weight: 600;\n  margin: 0;\n}\n\n.close-btn {\n  background: rgba(255, 255, 255, 0.1);\n  border: none;\n  border-radius: 50%;\n  width: 32px;\n  height: 32px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: var(--text-secondary);\n  cursor: pointer;\n  transition: var(--transition-base);\n}\n\n.close-btn:hover {\n  background: rgba(255, 255, 255, 0.2);\n  color: var(--text-primary);\n}\n\n/* 表单样式 */\n.supplier-form {\n  padding: var(--spacing-lg);\n}\n\n.form-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n  gap: var(--spacing-lg);\n  margin-bottom: var(--spacing-xl);\n}\n\n.form-group {\n  display: flex;\n  flex-direction: column;\n  gap: var(--spacing-xs);\n}\n\n.form-group.full-width {\n  grid-column: 1 / -1;\n}\n\n.form-group label {\n  color: var(--text-secondary);\n  font-size: 0.85rem;\n  font-weight: 600;\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n}\n\n.glass-input,\n.glass-select,\n.glass-textarea {\n  background: rgba(255, 255, 255, 0.1);\n  backdrop-filter: var(--glass-blur);\n  -webkit-backdrop-filter: var(--glass-blur);\n  border: 1px solid rgba(255, 255, 255, 0.2);\n  border-radius: var(--border-radius-sm);\n  padding: var(--spacing-sm);\n  color: var(--text-primary);\n  font-size: 0.9rem;\n  transition: var(--transition-base);\n}\n\n.glass-input:focus,\n.glass-select:focus,\n.glass-textarea:focus {\n  outline: none;\n  border-color: rgba(255, 255, 255, 0.4);\n  background: rgba(255, 255, 255, 0.15);\n  box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.1);\n}\n\n.glass-input::-moz-placeholder, .glass-textarea::-moz-placeholder {\n  color: var(--text-tertiary);\n}\n\n.glass-input::placeholder,\n.glass-textarea::placeholder {\n  color: var(--text-tertiary);\n}\n\n.glass-textarea {\n  resize: vertical;\n  min-height: 80px;\n}\n\n/* 表单操作按钮 */\n.form-actions {\n  display: flex;\n  justify-content: flex-end;\n  gap: var(--spacing-md);\n  padding-top: var(--spacing-lg);\n  border-top: 1px solid rgba(255, 255, 255, 0.1);\n}\n\n.glass-button {\n  padding: var(--spacing-sm) var(--spacing-md);\n  background: var(--card-background);\n  backdrop-filter: var(--glass-blur);\n  -webkit-backdrop-filter: var(--glass-blur);\n  border: var(--glass-border);\n  border-radius: var(--border-radius-sm);\n  font-size: 0.9rem;\n  font-weight: 600;\n  cursor: pointer;\n  transition: var(--transition-base);\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-xs);\n  color: var(--text-primary);\n  position: relative;\n  overflow: hidden;\n}\n\n.glass-button.primary {\n  background: var(--primary-gradient);\n  color: white;\n  border-color: rgba(255, 255, 255, 0.3);\n}\n\n.glass-button.primary::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: linear-gradient(135deg, rgba(255, 255, 255, 0.2) 0%, transparent 50%);\n  opacity: 0;\n  transition: var(--transition-base);\n}\n\n.glass-button.primary:hover::before {\n  opacity: 1;\n}\n\n.glass-button.primary:hover {\n  transform: translateY(-2px);\n  box-shadow: var(--glass-shadow-hover);\n}\n\n.glass-button.secondary {\n  background: var(--card-background);\n  color: var(--text-primary);\n}\n\n.glass-button.secondary:hover {\n  background: rgba(255, 255, 255, 0.1);\n  transform: translateY(-1px);\n}\n\n.button-icon {\n  font-size: 1rem;\n}\n\n/* 响应式设计 */\n@media (max-width: 768px) {\n  .supplier-management,\n  .purchase-order-management,\n  .purchase-receipt-management {\n    padding: var(--spacing-md);\n  }\n  \n  .page-header {\n    flex-direction: column;\n    align-items: stretch;\n    gap: var(--spacing-md);\n  }\n  \n  .header-actions {\n    justify-content: center;\n  }\n  \n  .statistics-grid {\n    grid-template-columns: 1fr;\n    gap: var(--spacing-md);\n  }\n  \n  .stat-item {\n    padding: var(--spacing-md);\n  }\n  \n  .stat-icon {\n    font-size: 2rem;\n  }\n  \n  .stat-value {\n    font-size: 1.5rem;\n  }\n  \n  .filter-row {\n    grid-template-columns: 1fr;\n    gap: var(--spacing-md);\n    padding: var(--spacing-md);\n  }\n  \n  .glass-table-container {\n    font-size: 0.8rem;\n  }\n  \n  .modal-content {\n    max-width: 95%;\n    margin: var(--spacing-md);\n  }\n  \n  .form-grid {\n    grid-template-columns: 1fr;\n    gap: var(--spacing-md);\n  }\n  \n  .glass-table th,\n  .glass-table td {\n    padding: var(--spacing-sm);\n  }\n  \n  .supplier-info-cell,\n  .contact-cell,\n  .credit-cell {\n    min-width: unset;\n  }\n}",""]);const o=i},287:(e,n)=>{var t=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.iterator,m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,g={};function v(e,n,t){this.props=e,this.context=n,this.refs=g,this.updater=t||m}function b(){}function x(e,n,t){this.props=e,this.context=n,this.refs=g,this.updater=t||m}v.prototype.isReactComponent={},v.prototype.setState=function(e,n){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,n,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=v.prototype;var y=x.prototype=new b;y.constructor=x,f(y,v.prototype),y.isPureReactComponent=!0;var w=Array.isArray,k=Object.prototype.hasOwnProperty,j={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function S(e,n,r){var a,s={},i=null,o=null;if(null!=n)for(a in void 0!==n.ref&&(o=n.ref),void 0!==n.key&&(i=""+n.key),n)k.call(n,a)&&!N.hasOwnProperty(a)&&(s[a]=n[a]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===s[a]&&(s[a]=l[a]);return{$$typeof:t,type:e,key:i,ref:o,props:s,_owner:j.current}}function I(e){return"object"==typeof e&&null!==e&&e.$$typeof===t}var C=/\/+/g;function _(e,n){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var n={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return n[e]})}(""+e.key):n.toString(36)}function A(e,n,a,s,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case t:case r:l=!0}}if(l)return i=i(l=e),e=""===s?"."+_(l,0):s,w(i)?(a="",null!=e&&(a=e.replace(C,"$&/")+"/"),A(i,n,a,"",function(e){return e})):null!=i&&(I(i)&&(i=function(e,n){return{$$typeof:t,type:e.type,key:n,ref:e.ref,props:e.props,_owner:e._owner}}(i,a+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(C,"$&/")+"/")+e)),n.push(i)),1;if(l=0,s=""===s?".":s+":",w(e))for(var c=0;c<e.length;c++){var d=s+_(o=e[c],c);l+=A(o,n,a,d,i)}else if(d=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"==typeof d)for(e=d.call(e),c=0;!(o=e.next()).done;)l+=A(o=o.value,n,a,d=s+_(o,c++),i);else if("object"===o)throw n=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return l}function E(e,n,t){if(null==e)return e;var r=[],a=0;return A(e,r,"","",function(e){return n.call(t,e,a++)}),r}function O(e){if(-1===e._status){var n=e._result;(n=n()).then(function(n){0!==e._status&&-1!==e._status||(e._status=1,e._result=n)},function(n){0!==e._status&&-1!==e._status||(e._status=2,e._result=n)}),-1===e._status&&(e._status=0,e._result=n)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},P={transition:null},T={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:P,ReactCurrentOwner:j};function z(){throw Error("act(...) is not supported in production builds of React.")}n.Children={map:E,forEach:function(e,n,t){E(e,function(){n.apply(this,arguments)},t)},count:function(e){var n=0;return E(e,function(){n++}),n},toArray:function(e){return E(e,function(e){return e})||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},n.Component=v,n.Fragment=a,n.Profiler=i,n.PureComponent=x,n.StrictMode=s,n.Suspense=d,n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T,n.act=z,n.cloneElement=function(e,n,r){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=f({},e.props),s=e.key,i=e.ref,o=e._owner;if(null!=n){if(void 0!==n.ref&&(i=n.ref,o=j.current),void 0!==n.key&&(s=""+n.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in n)k.call(n,c)&&!N.hasOwnProperty(c)&&(a[c]=void 0===n[c]&&void 0!==l?l[c]:n[c])}var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];a.children=l}return{$$typeof:t,type:e.type,key:s,ref:i,props:a,_owner:o}},n.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},n.createElement=S,n.createFactory=function(e){var n=S.bind(null,e);return n.type=e,n},n.createRef=function(){return{current:null}},n.forwardRef=function(e){return{$$typeof:c,render:e}},n.isValidElement=I,n.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:O}},n.memo=function(e,n){return{$$typeof:u,type:e,compare:void 0===n?null:n}},n.startTransition=function(e){var n=P.transition;P.transition={};try{e()}finally{P.transition=n}},n.unstable_act=z,n.useCallback=function(e,n){return D.current.useCallback(e,n)},n.useContext=function(e){return D.current.useContext(e)},n.useDebugValue=function(){},n.useDeferredValue=function(e){return D.current.useDeferredValue(e)},n.useEffect=function(e,n){return D.current.useEffect(e,n)},n.useId=function(){return D.current.useId()},n.useImperativeHandle=function(e,n,t){return D.current.useImperativeHandle(e,n,t)},n.useInsertionEffect=function(e,n){return D.current.useInsertionEffect(e,n)},n.useLayoutEffect=function(e,n){return D.current.useLayoutEffect(e,n)},n.useMemo=function(e,n){return D.current.useMemo(e,n)},n.useReducer=function(e,n,t){return D.current.useReducer(e,n,t)},n.useRef=function(e){return D.current.useRef(e)},n.useState=function(e){return D.current.useState(e)},n.useSyncExternalStore=function(e,n,t){return D.current.useSyncExternalStore(e,n,t)},n.useTransition=function(){return D.current.useTransition()},n.version="18.3.1"},314:e=>{e.exports=function(e){var n=[];return n.toString=function(){return this.map(function(n){var t="",r=void 0!==n[5];return n[4]&&(t+="@supports (".concat(n[4],") {")),n[2]&&(t+="@media ".concat(n[2]," {")),r&&(t+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),t+=e(n),r&&(t+="}"),n[2]&&(t+="}"),n[4]&&(t+="}"),t}).join("")},n.i=function(e,t,r,a,s){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var o=0;o<this.length;o++){var l=this[o][0];null!=l&&(i[l]=!0)}for(var c=0;c<e.length;c++){var d=[].concat(e[c]);r&&i[d[0]]||(void 0!==s&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=s),t&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=t):d[2]=t),a&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=a):d[4]="".concat(a)),n.push(d))}},n}},338:(e,n,t)=>{var r=t(961);n.createRoot=r.createRoot,n.hydrateRoot=r.hydrateRoot},463:(e,n)=>{function t(e,n){var t=e.length;e.push(n);e:for(;0<t;){var r=t-1>>>1,a=e[r];if(!(0<s(a,n)))break e;e[r]=n,e[t]=a,t=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var n=e[0],t=e.pop();if(t!==n){e[0]=t;e:for(var r=0,a=e.length,i=a>>>1;r<i;){var o=2*(r+1)-1,l=e[o],c=o+1,d=e[c];if(0>s(l,t))c<a&&0>s(d,l)?(e[r]=d,e[c]=t,r=c):(e[r]=l,e[o]=t,r=o);else{if(!(c<a&&0>s(d,t)))break e;e[r]=d,e[c]=t,r=c}}}return n}function s(e,n){var t=e.sortIndex-n.sortIndex;return 0!==t?t:e.id-n.id}if("object"==typeof performance&&"function"==typeof performance.now){var i=performance;n.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();n.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,p=null,h=3,m=!1,f=!1,g=!1,v="function"==typeof setTimeout?setTimeout:null,b="function"==typeof clearTimeout?clearTimeout:null,x="undefined"!=typeof setImmediate?setImmediate:null;function y(e){for(var n=r(d);null!==n;){if(null===n.callback)a(d);else{if(!(n.startTime<=e))break;a(d),n.sortIndex=n.expirationTime,t(c,n)}n=r(d)}}function w(e){if(g=!1,y(e),!f)if(null!==r(c))f=!0,P(k);else{var n=r(d);null!==n&&T(w,n.startTime-e)}}function k(e,t){f=!1,g&&(g=!1,b(I),I=-1),m=!0;var s=h;try{for(y(t),p=r(c);null!==p&&(!(p.expirationTime>t)||e&&!A());){var i=p.callback;if("function"==typeof i){p.callback=null,h=p.priorityLevel;var o=i(p.expirationTime<=t);t=n.unstable_now(),"function"==typeof o?p.callback=o:p===r(c)&&a(c),y(t)}else a(c);p=r(c)}if(null!==p)var l=!0;else{var u=r(d);null!==u&&T(w,u.startTime-t),l=!1}return l}finally{p=null,h=s,m=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var j,N=!1,S=null,I=-1,C=5,_=-1;function A(){return!(n.unstable_now()-_<C)}function E(){if(null!==S){var e=n.unstable_now();_=e;var t=!0;try{t=S(!0,e)}finally{t?j():(N=!1,S=null)}}else N=!1}if("function"==typeof x)j=function(){x(E)};else if("undefined"!=typeof MessageChannel){var O=new MessageChannel,D=O.port2;O.port1.onmessage=E,j=function(){D.postMessage(null)}}else j=function(){v(E,0)};function P(e){S=e,N||(N=!0,j())}function T(e,t){I=v(function(){e(n.unstable_now())},t)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(e){e.callback=null},n.unstable_continueExecution=function(){f||m||(f=!0,P(k))},n.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},n.unstable_getCurrentPriorityLevel=function(){return h},n.unstable_getFirstCallbackNode=function(){return r(c)},n.unstable_next=function(e){switch(h){case 1:case 2:case 3:var n=3;break;default:n=h}var t=h;h=n;try{return e()}finally{h=t}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(e,n){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var t=h;h=e;try{return n()}finally{h=t}},n.unstable_scheduleCallback=function(e,a,s){var i=n.unstable_now();switch(s="object"==typeof s&&null!==s&&"number"==typeof(s=s.delay)&&0<s?i+s:i,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:a,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>i?(e.sortIndex=s,t(d,e),null===r(c)&&e===r(d)&&(g?(b(I),I=-1):g=!0,T(w,s-i))):(e.sortIndex=o,t(c,e),f||m||(f=!0,P(k))),e},n.unstable_shouldYield=A,n.unstable_wrapCallback=function(e){var n=h;return function(){var t=h;h=n;try{return e.apply(this,arguments)}finally{h=t}}}},484:(e,n,t)=>{t.d(n,{A:()=>o});var r=t(601),a=t.n(r),s=t(314),i=t.n(s)()(a());i.push([e.id,"/* ===== 主题系统架构 ===== */\n\n/* CSS 变量定义 - 基于Tailwind CSS颜色系统重构 */\n:root {\n  /* 主题切换变量 */\n  --theme-name: 'glass-future';\n\n  /* ===== 玻璃未来风主题 - 基于 Indigo 色块系列 ===== */\n  /* 应用背景 - indigo-500 到 indigo-600 渐变 */\n  --app-background: linear-gradient(135deg, oklch(0.585 0.233 277.117) 0%, oklch(0.511 0.262 276.966) 100%);\n\n  /* 表面和卡片背景 - indigo-100 系列，半透明 */\n  --surface-background: oklch(0.93 0.034 272.788 / 0.15);\n  --card-background: oklch(0.93 0.034 272.788 / 0.1);\n  --hover-background: oklch(0.87 0.065 274.039 / 0.2);\n  --active-background: oklch(0.785 0.115 274.713 / 0.25);\n\n  /* 弹出窗体背景系统 - indigo-50 系列 */\n  --popup-background: oklch(0.962 0.018 272.314 / 0.85);\n  --popup-header-background: oklch(0.962 0.018 272.314 / 0.95);\n  --popup-content-background: oklch(0.962 0.018 272.314 / 0.8);\n\n  /* 玻璃感效果 */\n  --glass-blur: blur(20px);\n  --glass-border: 1px solid oklch(0.87 0.065 274.039 / 0.4);\n  --glass-shadow: 0 8px 32px oklch(0.257 0.09 281.288 / 0.15);\n  --glass-shadow-hover: 0 12px 40px oklch(0.257 0.09 281.288 / 0.2);\n  --glass-shadow-active: 0 16px 48px oklch(0.257 0.09 281.288 / 0.25);\n\n  /* 文字颜色系统 - indigo-900/800 深色文字，适合浅色背景 */\n  --text-primary: oklch(84.45% 0.0111 286.039);\n  --text-secondary: oklch(73.282% 0.00578 286.049);\n  --text-tertiary: oklch(49.841% 0.00643 297.377);\n  --text-accent: oklch(37.566% 0.00172 285.952);\n\n  /* 弹出窗体文字颜色 - 深色文字确保可读性 */\n  --popup-text-primary: oklch(0.359 0.144 278.697);\n  --popup-text-secondary: oklch(0.398 0.195 277.366);\n  --popup-text-tertiary: oklch(0.457 0.24 277.023);\n  --popup-text-shadow: 0 1px 3px oklch(0.962 0.018 272.314 / 0.8);\n  \n  /* 交互状态 */\n  --transition-base: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  --transition-fast: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);\n  --transition-slow: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);\n  \n  /* 尺寸系统 */\n  --border-radius-sm: 8px;\n  --border-radius-md: 12px;\n  --border-radius-lg: 16px;\n  --border-radius-xl: 20px;\n  \n  /* 间距系统 */\n  --spacing-xs: 4px;\n  --spacing-sm: 8px;\n  --spacing-md: 16px;\n  --spacing-lg: 24px;\n  --spacing-xl: 32px;\n  --spacing-2xl: 48px;\n}\n\n/* ===== 玻璃未来风主题 - 基于 Indigo 色块系列重构 ===== */\n[data-theme=\"glass-future\"] {\n  --theme-name: 'glass-future';\n\n  /* 应用背景 - indigo-500 到 indigo-600 渐变 */\n  --app-background: linear-gradient(135deg, oklch(0.585 0.233 277.117) 0%, oklch(0.511 0.262 276.966) 100%);\n\n  /* 表面和卡片背景 - indigo-100 系列，增强透明度 */\n  --surface-background: oklch(0.93 0.034 272.788 / 0.12);\n  --card-background: oklch(0.93 0.034 272.788 / 0.08);\n  --hover-background: oklch(0.87 0.065 274.039 / 0.18);\n  --active-background: oklch(0.785 0.115 274.713 / 0.22);\n\n  /* 弹出窗体背景系统 - 调整为更深的indigo色调，确保白色文字可读性 */\n  --popup-background: oklch(0.511 0.262 276.966 / 0.9);\n  --popup-header-background: oklch(0.457 0.24 277.023 / 0.95);\n  --popup-content-background: oklch(0.585 0.233 277.117 / 0.85);\n  --popup-blur: blur(35px);\n  --popup-border: 1px solid oklch(0.87 0.065 274.039 / 0.6);\n  --popup-shadow: 0 25px 80px oklch(0.257 0.09 281.288 / 0.4);\n  --popup-shadow-hover: 0 30px 100px oklch(0.257 0.09 281.288 / 0.45);\n\n  /* 弹出窗体文字颜色 - 改用白色系，增强文字阴影确保可读性 */\n  --popup-text-primary: oklch(100% 0.00011 271.152 / 0.945);\n  --popup-text-secondary: oklch(92.369% 0.00263 230.33);\n  --popup-text-tertiary: oklch(0.968 0.007 247.896);\n  --popup-text-shadow: 0 2px 8px oklch(0.257 0.09 281.288 / 0.8);\n\n  /* 主题文字颜色 - 基于白色系，增强视觉效果 */\n  --text-primary: oklch(1 0 0);\n  --text-secondary: oklch(0.984 0.003 247.858);\n  --text-tertiary: oklch(0.968 0.007 247.896);\n  --text-accent: oklch(0.929 0.013 255.508);\n\n  /* 玻璃感效果增强 */\n  --glass-border: 1px solid oklch(0.87 0.065 274.039 / 0.3);\n  --glass-shadow: 0 8px 32px oklch(0.257 0.09 281.288 / 0.15);\n\n  /* 弹出窗体交互状态颜色 */\n  --popup-divider-color: rgba(0, 0, 0, 0.1);\n  --popup-item-hover-bg: rgba(74, 144, 226, 0.1);\n  --popup-item-active-bg: rgba(74, 144, 226, 0.15);\n  --popup-item-active-hover-bg: rgba(74, 144, 226, 0.2);\n  --popup-item-danger-hover-bg: rgba(239, 68, 68, 0.1);\n  --accent-color: #4a90e2;\n  --danger-color: #ef4444;\n\n  /* 更强烈的模糊效果 */\n  --glass-blur: blur(25px);\n  --glass-border: 1px solid rgba(255, 255, 255, 0.25);\n  --glass-shadow: 0 10px 40px rgba(0, 0, 0, 0.12);\n  \n  /* 动态光效 */\n  --glass-glow: 0 0 20px rgba(255, 255, 255, 0.1);\n  --glass-glow-hover: 0 0 30px rgba(255, 255, 255, 0.15);\n}\n\n/* ===== 深色科技风主题 - 基于 Slate 色块系列重构 ===== */\n[data-theme=\"dark-tech\"] {\n  --theme-name: 'dark-tech';\n\n  /* 应用背景 - slate-900 到 slate-800 渐变 */\n  --app-background: linear-gradient(135deg, oklch(0.208 0.042 265.755) 0%, oklch(0.279 0.041 260.031) 100%);\n\n  /* 表面和卡片背景 - slate-800/700 系列，深色透明 */\n  --surface-background: oklch(0.279 0.041 260.031 / 0.05);\n  --card-background: oklch(0.279 0.041 260.031 / 0.03);\n  --hover-background: oklch(0.372 0.044 257.287 / 0.08);\n  --active-background: oklch(0.446 0.043 257.281 / 0.12);\n\n  /* 主题文字颜色 - slate-100/200 浅色文字，适合深色背景 */\n  --text-primary: oklch(0.968 0.007 247.896);\n  --text-secondary: oklch(0.929 0.013 255.508);\n  --text-tertiary: oklch(0.869 0.022 252.894);\n  --text-accent: oklch(0.984 0.003 247.858);\n\n  /* 弹出窗体背景系统 - slate-700/800 深色系列 */\n  --popup-background: oklch(0.279 0.041 260.031 / 0.85);\n  --popup-header-background: oklch(0.372 0.044 257.287 / 0.9);\n  --popup-content-background: oklch(0.208 0.042 265.755 / 0.8);\n\n  /* 弹出窗体文字颜色 - slate-100/200 浅色文字，确保对比度 */\n  --popup-text-primary: oklch(0.968 0.007 247.896);\n  --popup-text-secondary: oklch(0.929 0.013 255.508);\n  --popup-text-tertiary: oklch(0.869 0.022 252.894);\n  --popup-text-shadow: 0 1px 3px oklch(0.129 0.042 264.695 / 0.8);\n\n  /* 深色主题交互状态颜色 - slate系列 */\n  --popup-divider-color: oklch(0.446 0.043 257.281 / 0.15);\n  --popup-item-hover-bg: oklch(0.446 0.043 257.281 / 0.2);\n  --popup-item-active-bg: oklch(0.554 0.046 257.417 / 0.3);\n  --popup-item-active-hover-bg: oklch(0.554 0.046 257.417 / 0.4);\n  --popup-item-danger-hover-bg: oklch(0.637 0.237 25.331 / 0.2);\n  --accent-color: oklch(0.704 0.04 256.788);\n  --danger-color: oklch(0.637 0.237 25.331);\n\n  /* 玻璃感效果调整 */\n  --glass-border: 1px solid oklch(0.446 0.043 257.281 / 0.3);\n  --glass-shadow: 0 8px 32px oklch(0.129 0.042 264.695 / 0.3);\n}\n\n/* ===== 温暖商务风主题 - 基于 Amber 色块系列重构 ===== */\n[data-theme=\"warm-business\"] {\n  --theme-name: 'warm-business';\n\n  /* 应用背景 - amber-400 到 amber-500 渐变 */\n  --app-background: linear-gradient(135deg, oklch(0.828 0.189 84.429) 0%, oklch(0.769 0.188 70.08) 100%);\n\n  /* 表面和卡片背景 - amber-50 系列，温暖透明 */\n  --surface-background: oklch(0.987 0.022 95.277 / 0.6);\n  --card-background: oklch(0.987 0.022 95.277 / 0.4);\n  --hover-background: oklch(0.962 0.059 95.617 / 0.5);\n  --active-background: oklch(0.924 0.12 95.746 / 0.6);\n\n  /* 主题文字颜色 - amber-900/800 深色文字，适合浅色背景 */\n  --text-primary: oklch(0.414 0.112 45.904);\n  --text-secondary: oklch(0.473 0.137 46.201);\n  --text-tertiary: oklch(0.555 0.163 48.998);\n  --text-accent: oklch(0.279 0.077 45.635);\n\n  /* 弹出窗体背景系统 - amber-50 系列，高可读性 */\n  --popup-background: oklch(0.987 0.022 95.277 / 0.85);\n  --popup-header-background: oklch(0.987 0.022 95.277 / 0.95);\n  --popup-content-background: oklch(0.987 0.022 95.277 / 0.8);\n\n  /* 弹出窗体文字颜色 - amber-900/800 深色文字，确保对比度 */\n  --popup-text-primary: oklch(0.414 0.112 45.904);\n  --popup-text-secondary: oklch(0.473 0.137 46.201);\n  --popup-text-tertiary: oklch(0.555 0.163 48.998);\n  --popup-text-shadow: 0 1px 3px oklch(0.987 0.022 95.277 / 0.9);\n\n  /* 温暖主题交互状态颜色 - amber系列 */\n  --popup-divider-color: oklch(0.414 0.112 45.904 / 0.1);\n  --popup-item-hover-bg: oklch(0.924 0.12 95.746 / 0.3);\n  --popup-item-active-bg: oklch(0.879 0.169 91.605 / 0.4);\n  --popup-item-active-hover-bg: oklch(0.828 0.189 84.429 / 0.5);\n  --popup-item-danger-hover-bg: oklch(0.637 0.237 25.331 / 0.15);\n  --accent-color: oklch(0.769 0.188 70.08);\n  --danger-color: oklch(0.637 0.237 25.331);\n\n  /* 玻璃感效果调整 */\n  --glass-border: 1px solid oklch(0.924 0.12 95.746 / 0.4);\n  --glass-shadow: 0 8px 32px oklch(0.279 0.077 45.635 / 0.15);\n}\n\n/* ===== 弹出窗体专用样式类 ===== */\n.popup-dropdown {\n  background: var(--popup-background);\n  -webkit-backdrop-filter: var(--popup-blur);\n  backdrop-filter: var(--popup-blur);\n  border: var(--popup-border);\n  border-radius: var(--border-radius-lg);\n  box-shadow: var(--popup-shadow);\n  transition: var(--transition-base);\n  position: absolute;\n  z-index: var(--z-dropdown);\n  overflow: hidden;\n}\n\n.popup-dropdown:hover {\n  box-shadow: var(--popup-shadow-hover);\n}\n\n.popup-header {\n  background: var(--popup-header-background);\n  border-bottom: 1px solid rgba(255, 255, 255, 0.4);\n  padding: var(--spacing-md);\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.popup-header h3 {\n  margin: 0;\n  font-size: 16px;\n  font-weight: 700;\n  color: var(--popup-text-primary);\n  text-shadow: var(--popup-text-shadow);\n}\n\n.popup-content {\n  background: var(--popup-content-background);\n  padding: var(--spacing-md);\n  max-height: 400px;\n  overflow-y: auto;\n}\n\n/* 弹出窗体内文字样式增强 */\n.popup-dropdown p,\n.popup-dropdown span,\n.popup-dropdown div,\n.popup-dropdown li {\n  color: var(--popup-text-primary) !important;\n  text-shadow: var(--popup-text-shadow);\n  font-weight: 500;\n}\n\n.popup-dropdown .secondary-text {\n  color: var(--popup-text-secondary) !important;\n  text-shadow: var(--popup-text-shadow);\n}\n\n.popup-dropdown .tertiary-text {\n  color: var(--popup-text-tertiary) !important;\n  text-shadow: var(--popup-text-shadow);\n}\n\n/* 弹出窗体按钮样式增强 */\n.popup-dropdown button {\n  color: var(--popup-text-primary) !important;\n  text-shadow: var(--popup-text-shadow);\n  font-weight: 600;\n}\n\n.popup-dropdown .close-button {\n  background: rgba(255, 255, 255, 0.3);\n  border: 1px solid rgba(255, 255, 255, 0.4);\n  color: var(--popup-text-primary) !important;\n  text-shadow: var(--popup-text-shadow);\n}\n\n/* ===== 弹出窗体选项列表优化 ===== */\n\n/* 通知列表项样式 */\n.notification-item {\n  padding: var(--spacing-md);\n  border-bottom: 1px solid var(--popup-divider-color);\n  transition: var(--transition-base);\n  cursor: pointer;\n  position: relative;\n}\n\n.notification-item:last-child {\n  border-bottom: none;\n}\n\n.notification-item:hover {\n  background: var(--popup-item-hover-bg);\n  transform: translateX(2px);\n}\n\n.notification-item.unread {\n  background: var(--popup-item-active-bg);\n  border-left: 3px solid var(--accent-color);\n}\n\n/* 用户菜单项样式 */\n.user-menu-item {\n  width: 100%;\n  padding: var(--spacing-sm) var(--spacing-md);\n  border: none;\n  background: transparent;\n  text-align: left;\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-sm);\n  transition: var(--transition-base);\n  cursor: pointer;\n  border-bottom: 1px solid var(--popup-divider-color);\n}\n\n.user-menu-item:last-child {\n  border-bottom: none;\n}\n\n.user-menu-item:hover {\n  background: var(--popup-item-hover-bg);\n  transform: translateX(2px);\n}\n\n.user-menu-item.logout:hover {\n  background: var(--popup-item-danger-hover-bg);\n  color: var(--danger-color) !important;\n}\n\n.user-menu-item .menu-icon {\n  font-size: 16px;\n  width: 20px;\n  text-align: center;\n}\n\n/* 主题选择器选项样式 */\n.theme-option {\n  padding: var(--spacing-md);\n  border-bottom: 1px solid var(--popup-divider-color);\n  transition: var(--transition-base);\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-md);\n  position: relative;\n}\n\n.theme-option:last-child {\n  border-bottom: none;\n}\n\n.theme-option:hover {\n  background: var(--popup-item-hover-bg);\n  transform: translateX(2px);\n}\n\n.theme-option.active {\n  background: var(--popup-item-active-bg);\n  border-left: 3px solid var(--accent-color);\n}\n\n.theme-option.active:hover {\n  background: var(--popup-item-active-hover-bg);\n}\n\n/* 菜单分隔线样式 */\n.menu-divider {\n  height: 1px;\n  background: var(--popup-divider-color);\n  margin: var(--spacing-xs) 0;\n  border: none;\n}\n\n.user-menu-divider {\n  height: 1px;\n  background: var(--popup-divider-color);\n  margin: var(--spacing-sm) 0;\n}\n\n.popup-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.1);\n  -webkit-backdrop-filter: blur(2px);\n  backdrop-filter: blur(2px);\n  z-index: calc(var(--z-dropdown) - 1);\n  animation: overlayFadeIn 0.3s ease;\n}\n\n@keyframes overlayFadeIn {\n  from { opacity: 0; }\n  to { opacity: 1; }\n}\n\n/* ===== 基础玻璃感组件类 ===== */\n.glass-surface {\n  background: var(--surface-background);\n  -webkit-backdrop-filter: var(--glass-blur);\n  backdrop-filter: var(--glass-blur);\n  border: var(--glass-border);\n  border-radius: var(--border-radius-lg);\n  box-shadow: var(--glass-shadow);\n  transition: var(--transition-base);\n}\n\n.glass-card {\n  background: var(--card-background);\n  backdrop-filter: var(--glass-blur);\n  -webkit-backdrop-filter: var(--glass-blur);\n  border: var(--glass-border);\n  border-radius: var(--border-radius-md);\n  box-shadow: var(--glass-shadow);\n  transition: var(--transition-base);\n  position: relative;\n  overflow: hidden;\n}\n\n.glass-card::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 1px;\n  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);\n  opacity: 0;\n  transition: var(--transition-base);\n}\n\n.glass-card:hover {\n  background: var(--hover-background);\n  box-shadow: var(--glass-shadow-hover);\n  transform: translateY(-2px);\n}\n\n.glass-card:hover::before {\n  opacity: 1;\n}\n\n.glass-card:active {\n  background: var(--active-background);\n  transform: translateY(0);\n}\n\n/* 强化玻璃感卡片 */\n.glass-card-enhanced {\n  background: var(--card-background);\n  backdrop-filter: var(--glass-blur);\n  -webkit-backdrop-filter: var(--glass-blur);\n  border: var(--glass-border);\n  border-radius: var(--border-radius-lg);\n  box-shadow: var(--glass-shadow), var(--glass-glow);\n  transition: var(--transition-base);\n  position: relative;\n  overflow: hidden;\n}\n\n.glass-card-enhanced::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, transparent 50%, rgba(255, 255, 255, 0.05) 100%);\n  opacity: 0;\n  transition: var(--transition-base);\n  pointer-events: none;\n}\n\n.glass-card-enhanced:hover {\n  background: var(--hover-background);\n  box-shadow: var(--glass-shadow-hover), var(--glass-glow-hover);\n  transform: translateY(-4px);\n}\n\n.glass-card-enhanced:hover::before {\n  opacity: 1;\n}\n\n/* 玻璃感按钮 */\n.glass-button {\n  background: var(--card-background);\n  backdrop-filter: var(--glass-blur);\n  -webkit-backdrop-filter: var(--glass-blur);\n  border: var(--glass-border);\n  border-radius: var(--border-radius-sm);\n  color: var(--text-primary);\n  padding: var(--spacing-sm) var(--spacing-md);\n  transition: var(--transition-base);\n  cursor: pointer;\n  position: relative;\n  overflow: hidden;\n}\n\n.glass-button:hover {\n  background: var(--hover-background);\n  transform: translateY(-1px);\n  box-shadow: var(--glass-shadow);\n}\n\n/* 玻璃感输入框 */\n.glass-input {\n  background: var(--card-background);\n  backdrop-filter: var(--glass-blur);\n  -webkit-backdrop-filter: var(--glass-blur);\n  border: var(--glass-border);\n  border-radius: var(--border-radius-sm);\n  color: var(--text-primary);\n  padding: var(--spacing-sm) var(--spacing-md);\n  transition: var(--transition-base);\n}\n\n.glass-input:focus {\n  background: var(--hover-background);\n  border-color: rgba(255, 255, 255, 0.5);\n  box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.1);\n  outline: none;\n}\n\n.glass-input::placeholder {\n  color: var(--text-tertiary);\n}\n\n/* 响应式适配 */\n@media (max-width: 768px) {\n  :root {\n    --glass-blur: blur(15px);\n    --border-radius-lg: 12px;\n    --border-radius-md: 10px;\n  }\n}\n\n/* 动画效果 */\n@keyframes glass-shimmer {\n  0% { transform: translateX(-100%); }\n  100% { transform: translateX(100%); }\n}\n\n.glass-loading {\n  position: relative;\n  overflow: hidden;\n}\n\n.glass-loading::after {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);\n  animation: glass-shimmer 1.5s infinite;\n}",""]);const o=i},540:(e,n,t)=>{e.exports=t(287)},551:(e,n,t)=>{var r=t(540),a=t(982);function s(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,t=1;t<arguments.length;t++)n+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(e,n){c(e,n),c(e+"Capture",n)}function c(e,n){for(o[e]=n,e=0;e<n.length;e++)i.add(n[e])}var d=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),u=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},m={};function f(e,n,t,r,a,s,i){this.acceptsBooleans=2===n||3===n||4===n,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=t,this.propertyName=e,this.type=n,this.sanitizeURL=s,this.removeEmptyString=i}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new f(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];g[n]=new f(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new f(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new f(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new f(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new f(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function x(e,n,t,r){var a=g.hasOwnProperty(n)?g[n]:null;(null!==a?0!==a.type:r||!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&(function(e,n,t,r){if(null==n||function(e,n,t,r){if(null!==t&&0===t.type)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==t?!t.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,n,t,r))return!0;if(r)return!1;if(null!==t)switch(t.type){case 3:return!n;case 4:return!1===n;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}(n,t,a,r)&&(t=null),r||null===a?function(e){return!!u.call(m,e)||!u.call(h,e)&&(p.test(e)?m[e]=!0:(h[e]=!0,!1))}(n)&&(null===t?e.removeAttribute(n):e.setAttribute(n,""+t)):a.mustUseProperty?e[a.propertyName]=null===t?3!==a.type&&"":t:(n=a.attributeName,r=a.attributeNamespace,null===t?e.removeAttribute(n):(t=3===(a=a.type)||4===a&&!0===t?"":""+t,r?e.setAttributeNS(r,n,t):e.setAttribute(n,t))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(v,b);g[n]=new f(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(v,b);g[n]=new f(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(v,b);g[n]=new f(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)});var y=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),k=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),C=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var T=Symbol.iterator;function z(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=T&&e[T]||e["@@iterator"])?e:null}var L,R=Object.assign;function F(e){if(void 0===L)try{throw Error()}catch(e){var n=e.stack.trim().match(/\n( *(at )?)/);L=n&&n[1]||""}return"\n"+L+e}var M=!1;function $(e,n){if(!e||M)return"";M=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(e){var r=e}Reflect.construct(e,[],n)}else{try{n.call()}catch(e){r=e}e.call(n.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(n){if(n&&r&&"string"==typeof n.stack){for(var a=n.stack.split("\n"),s=r.stack.split("\n"),i=a.length-1,o=s.length-1;1<=i&&0<=o&&a[i]!==s[o];)o--;for(;1<=i&&0<=o;i--,o--)if(a[i]!==s[o]){if(1!==i||1!==o)do{if(i--,0>--o||a[i]!==s[o]){var l="\n"+a[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=i&&0<=o);break}}}finally{M=!1,Error.prepareStackTrace=t}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return $(e.type,!1);case 11:return $(e.type.render,!1);case 1:return $(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case j:return"Fragment";case k:return"Portal";case S:return"Profiler";case N:return"StrictMode";case A:return"Suspense";case E:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case _:var n=e.render;return(e=e.displayName)||(e=""!==(e=n.displayName||n.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(n=e.displayName||null)?n:V(e.type)||"Memo";case D:n=e._payload,e=e._init;try{return V(e(n))}catch(e){}}return null}function U(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=n.render).displayName||e.name||"",n.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(n);case 8:return n===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof n)return n.displayName||n.name||null;if("string"==typeof n)return n}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function Z(e){var n=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===n||"radio"===n)}function Q(e){e._valueTracker||(e._valueTracker=function(e){var n=Z(e)?"checked":"value",t=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),r=""+e[n];if(!e.hasOwnProperty(n)&&void 0!==t&&"function"==typeof t.get&&"function"==typeof t.set){var a=t.get,s=t.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,n,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}(e))}function W(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var t=n.getValue(),r="";return e&&(r=Z(e)?e.checked?"true":"false":e.value),(e=r)!==t&&(n.setValue(e),!0)}function H(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(n){return e.body}}function Y(e,n){var t=n.checked;return R({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=t?t:e._wrapperState.initialChecked})}function K(e,n){var t=null==n.defaultValue?"":n.defaultValue,r=null!=n.checked?n.checked:n.defaultChecked;t=q(null!=n.value?n.value:t),e._wrapperState={initialChecked:r,initialValue:t,controlled:"checkbox"===n.type||"radio"===n.type?null!=n.checked:null!=n.value}}function X(e,n){null!=(n=n.checked)&&x(e,"checked",n,!1)}function G(e,n){X(e,n);var t=q(n.value),r=n.type;if(null!=t)"number"===r?(0===t&&""===e.value||e.value!=t)&&(e.value=""+t):e.value!==""+t&&(e.value=""+t);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");n.hasOwnProperty("value")?ee(e,n.type,t):n.hasOwnProperty("defaultValue")&&ee(e,n.type,q(n.defaultValue)),null==n.checked&&null!=n.defaultChecked&&(e.defaultChecked=!!n.defaultChecked)}function J(e,n,t){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var r=n.type;if(!("submit"!==r&&"reset"!==r||void 0!==n.value&&null!==n.value))return;n=""+e._wrapperState.initialValue,t||n===e.value||(e.value=n),e.defaultValue=n}""!==(t=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==t&&(e.name=t)}function ee(e,n,t){"number"===n&&H(e.ownerDocument)===e||(null==t?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+t&&(e.defaultValue=""+t))}var ne=Array.isArray;function te(e,n,t,r){if(e=e.options,n){n={};for(var a=0;a<t.length;a++)n["$"+t[a]]=!0;for(t=0;t<e.length;t++)a=n.hasOwnProperty("$"+e[t].value),e[t].selected!==a&&(e[t].selected=a),a&&r&&(e[t].defaultSelected=!0)}else{for(t=""+q(t),n=null,a=0;a<e.length;a++){if(e[a].value===t)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==n||e[a].disabled||(n=e[a])}null!==n&&(n.selected=!0)}}function re(e,n){if(null!=n.dangerouslySetInnerHTML)throw Error(s(91));return R({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,n){var t=n.value;if(null==t){if(t=n.children,n=n.defaultValue,null!=t){if(null!=n)throw Error(s(92));if(ne(t)){if(1<t.length)throw Error(s(93));t=t[0]}n=t}null==n&&(n=""),t=n}e._wrapperState={initialValue:q(t)}}function se(e,n){var t=q(n.value),r=q(n.defaultValue);null!=t&&((t=""+t)!==e.value&&(e.value=t),null==n.defaultValue&&e.defaultValue!==t&&(e.defaultValue=t)),null!=r&&(e.defaultValue=""+r)}function ie(e){var n=e.textContent;n===e._wrapperState.initialValue&&""!==n&&null!==n&&(e.value=n)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,n){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(n):"http://www.w3.org/2000/svg"===e&&"foreignObject"===n?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,n){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=n;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,n,t,r){MSApp.execUnsafeLocalFunction(function(){return de(e,n)})}:de);function pe(e,n){if(n){var t=e.firstChild;if(t&&t===e.lastChild&&3===t.nodeType)return void(t.nodeValue=n)}e.textContent=n}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","ms","Moz","O"];function fe(e,n,t){return null==n||"boolean"==typeof n||""===n?"":t||"number"!=typeof n||0===n||he.hasOwnProperty(e)&&he[e]?(""+n).trim():n+"px"}function ge(e,n){for(var t in e=e.style,n)if(n.hasOwnProperty(t)){var r=0===t.indexOf("--"),a=fe(t,n[t],r);"float"===t&&(t="cssFloat"),r?e.setProperty(t,a):e[t]=a}}Object.keys(he).forEach(function(e){me.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),he[n]=he[e]})});var ve=R({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,n){if(n){if(ve[e]&&(null!=n.children||null!=n.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=n.dangerouslySetInnerHTML){if(null!=n.children)throw Error(s(60));if("object"!=typeof n.dangerouslySetInnerHTML||!("__html"in n.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=n.style&&"object"!=typeof n.style)throw Error(s(62))}}function xe(e,n){if(-1===e.indexOf("-"))return"string"==typeof n.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ye=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,je=null,Ne=null;function Se(e){if(e=xa(e)){if("function"!=typeof ke)throw Error(s(280));var n=e.stateNode;n&&(n=wa(n),ke(e.stateNode,e.type,n))}}function Ie(e){je?Ne?Ne.push(e):Ne=[e]:je=e}function Ce(){if(je){var e=je,n=Ne;if(Ne=je=null,Se(e),n)for(e=0;e<n.length;e++)Se(n[e])}}function _e(e,n){return e(n)}function Ae(){}var Ee=!1;function Oe(e,n,t){if(Ee)return e(n,t);Ee=!0;try{return _e(e,n,t)}finally{Ee=!1,(null!==je||null!==Ne)&&(Ae(),Ce())}}function De(e,n){var t=e.stateNode;if(null===t)return null;var r=wa(t);if(null===r)return null;t=r[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(t&&"function"!=typeof t)throw Error(s(231,n,typeof t));return t}var Pe=!1;if(d)try{var Te={};Object.defineProperty(Te,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Te,Te),window.removeEventListener("test",Te,Te)}catch(de){Pe=!1}function ze(e,n,t,r,a,s,i,o,l){var c=Array.prototype.slice.call(arguments,3);try{n.apply(t,c)}catch(e){this.onError(e)}}var Le=!1,Re=null,Fe=!1,Me=null,$e={onError:function(e){Le=!0,Re=e}};function Be(e,n,t,r,a,s,i,o,l){Le=!1,Re=null,ze.apply($e,arguments)}function Ve(e){var n=e,t=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do{!!(4098&(n=e).flags)&&(t=n.return),e=n.return}while(e)}return 3===n.tag?t:null}function Ue(e){if(13===e.tag){var n=e.memoizedState;if(null===n&&null!==(e=e.alternate)&&(n=e.memoizedState),null!==n)return n.dehydrated}return null}function qe(e){if(Ve(e)!==e)throw Error(s(188))}function Ze(e){return null!==(e=function(e){var n=e.alternate;if(!n){if(null===(n=Ve(e)))throw Error(s(188));return n!==e?null:e}for(var t=e,r=n;;){var a=t.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(r=a.return)){t=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===t)return qe(a),e;if(i===r)return qe(a),n;i=i.sibling}throw Error(s(188))}if(t.return!==r.return)t=a,r=i;else{for(var o=!1,l=a.child;l;){if(l===t){o=!0,t=a,r=i;break}if(l===r){o=!0,r=a,t=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===t){o=!0,t=i,r=a;break}if(l===r){o=!0,r=i,t=a;break}l=l.sibling}if(!o)throw Error(s(189))}}if(t.alternate!==r)throw Error(s(190))}if(3!==t.tag)throw Error(s(188));return t.stateNode.current===t?e:n}(e))?Qe(e):null}function Qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var n=Qe(e);if(null!==n)return n;e=e.sibling}return null}var We=a.unstable_scheduleCallback,He=a.unstable_cancelCallback,Ye=a.unstable_shouldYield,Ke=a.unstable_requestPaint,Xe=a.unstable_now,Ge=a.unstable_getCurrentPriorityLevel,Je=a.unstable_ImmediatePriority,en=a.unstable_UserBlockingPriority,nn=a.unstable_NormalPriority,tn=a.unstable_LowPriority,rn=a.unstable_IdlePriority,an=null,sn=null,on=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ln(e)/cn|0)|0},ln=Math.log,cn=Math.LN2,dn=64,un=4194304;function pn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function hn(e,n){var t=e.pendingLanes;if(0===t)return 0;var r=0,a=e.suspendedLanes,s=e.pingedLanes,i=268435455&t;if(0!==i){var o=i&~a;0!==o?r=pn(o):0!==(s&=i)&&(r=pn(s))}else 0!==(i=t&~a)?r=pn(i):0!==s&&(r=pn(s));if(0===r)return 0;if(0!==n&&n!==r&&0===(n&a)&&((a=r&-r)>=(s=n&-n)||16===a&&4194240&s))return n;if(4&r&&(r|=16&t),0!==(n=e.entangledLanes))for(e=e.entanglements,n&=r;0<n;)a=1<<(t=31-on(n)),r|=e[t],n&=~a;return r}function mn(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;default:return-1}}function fn(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gn(){var e=dn;return!(4194240&(dn<<=1))&&(dn=64),e}function vn(e){for(var n=[],t=0;31>t;t++)n.push(e);return n}function bn(e,n,t){e.pendingLanes|=n,536870912!==n&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[n=31-on(n)]=t}function xn(e,n){var t=e.entangledLanes|=n;for(e=e.entanglements;t;){var r=31-on(t),a=1<<r;a&n|e[r]&n&&(e[r]|=n),t&=~a}}var yn=0;function wn(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var kn,jn,Nn,Sn,In,Cn=!1,_n=[],An=null,En=null,On=null,Dn=new Map,Pn=new Map,Tn=[],zn="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ln(e,n){switch(e){case"focusin":case"focusout":An=null;break;case"dragenter":case"dragleave":En=null;break;case"mouseover":case"mouseout":On=null;break;case"pointerover":case"pointerout":Dn.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pn.delete(n.pointerId)}}function Rn(e,n,t,r,a,s){return null===e||e.nativeEvent!==s?(e={blockedOn:n,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[a]},null!==n&&null!==(n=xa(n))&&jn(n),e):(e.eventSystemFlags|=r,n=e.targetContainers,null!==a&&-1===n.indexOf(a)&&n.push(a),e)}function Fn(e){var n=ba(e.target);if(null!==n){var t=Ve(n);if(null!==t)if(13===(n=t.tag)){if(null!==(n=Ue(t)))return e.blockedOn=n,void In(e.priority,function(){Nn(t)})}else if(3===n&&t.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===t.tag?t.stateNode.containerInfo:null)}e.blockedOn=null}function Mn(e){if(null!==e.blockedOn)return!1;for(var n=e.targetContainers;0<n.length;){var t=Kn(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(null!==t)return null!==(n=xa(t))&&jn(n),e.blockedOn=t,!1;var r=new(t=e.nativeEvent).constructor(t.type,t);ye=r,t.target.dispatchEvent(r),ye=null,n.shift()}return!0}function $n(e,n,t){Mn(e)&&t.delete(n)}function Bn(){Cn=!1,null!==An&&Mn(An)&&(An=null),null!==En&&Mn(En)&&(En=null),null!==On&&Mn(On)&&(On=null),Dn.forEach($n),Pn.forEach($n)}function Vn(e,n){e.blockedOn===n&&(e.blockedOn=null,Cn||(Cn=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Bn)))}function Un(e){function n(n){return Vn(n,e)}if(0<_n.length){Vn(_n[0],e);for(var t=1;t<_n.length;t++){var r=_n[t];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==An&&Vn(An,e),null!==En&&Vn(En,e),null!==On&&Vn(On,e),Dn.forEach(n),Pn.forEach(n),t=0;t<Tn.length;t++)(r=Tn[t]).blockedOn===e&&(r.blockedOn=null);for(;0<Tn.length&&null===(t=Tn[0]).blockedOn;)Fn(t),null===t.blockedOn&&Tn.shift()}var qn=y.ReactCurrentBatchConfig,Zn=!0;function Qn(e,n,t,r){var a=yn,s=qn.transition;qn.transition=null;try{yn=1,Hn(e,n,t,r)}finally{yn=a,qn.transition=s}}function Wn(e,n,t,r){var a=yn,s=qn.transition;qn.transition=null;try{yn=4,Hn(e,n,t,r)}finally{yn=a,qn.transition=s}}function Hn(e,n,t,r){if(Zn){var a=Kn(e,n,t,r);if(null===a)qr(e,n,r,Yn,t),Ln(e,r);else if(function(e,n,t,r,a){switch(n){case"focusin":return An=Rn(An,e,n,t,r,a),!0;case"dragenter":return En=Rn(En,e,n,t,r,a),!0;case"mouseover":return On=Rn(On,e,n,t,r,a),!0;case"pointerover":var s=a.pointerId;return Dn.set(s,Rn(Dn.get(s)||null,e,n,t,r,a)),!0;case"gotpointercapture":return s=a.pointerId,Pn.set(s,Rn(Pn.get(s)||null,e,n,t,r,a)),!0}return!1}(a,e,n,t,r))r.stopPropagation();else if(Ln(e,r),4&n&&-1<zn.indexOf(e)){for(;null!==a;){var s=xa(a);if(null!==s&&kn(s),null===(s=Kn(e,n,t,r))&&qr(e,n,r,Yn,t),s===a)break;a=s}null!==a&&r.stopPropagation()}else qr(e,n,r,null,t)}}var Yn=null;function Kn(e,n,t,r){if(Yn=null,null!==(e=ba(e=we(r))))if(null===(n=Ve(e)))e=null;else if(13===(t=n.tag)){if(null!==(e=Ue(n)))return e;e=null}else if(3===t){if(n.stateNode.current.memoizedState.isDehydrated)return 3===n.tag?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return Yn=e,null}function Xn(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ge()){case Je:return 1;case en:return 4;case nn:case tn:return 16;case rn:return 536870912;default:return 16}default:return 16}}var Gn=null,Jn=null,et=null;function nt(){if(et)return et;var e,n,t=Jn,r=t.length,a="value"in Gn?Gn.value:Gn.textContent,s=a.length;for(e=0;e<r&&t[e]===a[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===a[s-n];n++);return et=a.slice(e,1<n?1-n:void 0)}function tt(e){var n=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===n&&(e=13):e=n,10===e&&(e=13),32<=e||13===e?e:0}function rt(){return!0}function at(){return!1}function st(e){function n(n,t,r,a,s){for(var i in this._reactName=n,this._targetInst=r,this.type=t,this.nativeEvent=a,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(i)&&(n=e[i],this[i]=n?n(a):a[i]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?rt:at,this.isPropagationStopped=at,this}return R(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rt)},persist:function(){},isPersistent:rt}),n}var it,ot,lt,ct={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dt=st(ct),ut=R({},ct,{view:0,detail:0}),pt=st(ut),ht=R({},ut,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:St,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==lt&&(lt&&"mousemove"===e.type?(it=e.screenX-lt.screenX,ot=e.screenY-lt.screenY):ot=it=0,lt=e),it)},movementY:function(e){return"movementY"in e?e.movementY:ot}}),mt=st(ht),ft=st(R({},ht,{dataTransfer:0})),gt=st(R({},ut,{relatedTarget:0})),vt=st(R({},ct,{animationName:0,elapsedTime:0,pseudoElement:0})),bt=R({},ct,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xt=st(bt),yt=st(R({},ct,{data:0})),wt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nt(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):!!(e=jt[e])&&!!n[e]}function St(){return Nt}var It=R({},ut,{key:function(e){if(e.key){var n=wt[e.key]||e.key;if("Unidentified"!==n)return n}return"keypress"===e.type?13===(e=tt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kt[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:St,charCode:function(e){return"keypress"===e.type?tt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Ct=st(It),_t=st(R({},ht,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),At=st(R({},ut,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:St})),Et=st(R({},ct,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ot=R({},ht,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dt=st(Ot),Pt=[9,13,27,32],Tt=d&&"CompositionEvent"in window,zt=null;d&&"documentMode"in document&&(zt=document.documentMode);var Lt=d&&"TextEvent"in window&&!zt,Rt=d&&(!Tt||zt&&8<zt&&11>=zt),Ft=String.fromCharCode(32),Mt=!1;function $t(e,n){switch(e){case"keyup":return-1!==Pt.indexOf(n.keyCode);case"keydown":return 229!==n.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bt(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Vt=!1,Ut={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qt(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===n?!!Ut[e.type]:"textarea"===n}function Zt(e,n,t,r){Ie(r),0<(n=Qr(n,"onChange")).length&&(t=new dt("onChange","change",null,t,r),e.push({event:t,listeners:n}))}var Qt=null,Wt=null;function Ht(e){Fr(e,0)}function Yt(e){if(W(ya(e)))return e}function Kt(e,n){if("change"===e)return n}var Xt=!1;if(d){var Gt;if(d){var Jt="oninput"in document;if(!Jt){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jt="function"==typeof er.oninput}Gt=Jt}else Gt=!1;Xt=Gt&&(!document.documentMode||9<document.documentMode)}function nr(){Qt&&(Qt.detachEvent("onpropertychange",tr),Wt=Qt=null)}function tr(e){if("value"===e.propertyName&&Yt(Wt)){var n=[];Zt(n,Wt,e,we(e)),Oe(Ht,n)}}function rr(e,n,t){"focusin"===e?(nr(),Wt=t,(Qt=n).attachEvent("onpropertychange",tr)):"focusout"===e&&nr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yt(Wt)}function sr(e,n){if("click"===e)return Yt(n)}function ir(e,n){if("input"===e||"change"===e)return Yt(n)}var or="function"==typeof Object.is?Object.is:function(e,n){return e===n&&(0!==e||1/e==1/n)||e!=e&&n!=n};function lr(e,n){if(or(e,n))return!0;if("object"!=typeof e||null===e||"object"!=typeof n||null===n)return!1;var t=Object.keys(e),r=Object.keys(n);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var a=t[r];if(!u.call(n,a)||!or(e[a],n[a]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dr(e,n){var t,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(t=e+r.textContent.length,e<=n&&t>=n)return{node:r,offset:n-e};e=t}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function ur(e,n){return!(!e||!n)&&(e===n||(!e||3!==e.nodeType)&&(n&&3===n.nodeType?ur(e,n.parentNode):"contains"in e?e.contains(n):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(n))))}function pr(){for(var e=window,n=H();n instanceof e.HTMLIFrameElement;){try{var t="string"==typeof n.contentWindow.location.href}catch(e){t=!1}if(!t)break;n=H((e=n.contentWindow).document)}return n}function hr(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&("input"===n&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===n||"true"===e.contentEditable)}function mr(e){var n=pr(),t=e.focusedElem,r=e.selectionRange;if(n!==t&&t&&t.ownerDocument&&ur(t.ownerDocument.documentElement,t)){if(null!==r&&hr(t))if(n=r.start,void 0===(e=r.end)&&(e=n),"selectionStart"in t)t.selectionStart=n,t.selectionEnd=Math.min(e,t.value.length);else if((e=(n=t.ownerDocument||document)&&n.defaultView||window).getSelection){e=e.getSelection();var a=t.textContent.length,s=Math.min(r.start,a);r=void 0===r.end?s:Math.min(r.end,a),!e.extend&&s>r&&(a=r,r=s,s=a),a=dr(t,s);var i=dr(t,r);a&&i&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((n=n.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),s>r?(e.addRange(n),e.extend(i.node,i.offset)):(n.setEnd(i.node,i.offset),e.addRange(n)))}for(n=[],e=t;e=e.parentNode;)1===e.nodeType&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof t.focus&&t.focus(),t=0;t<n.length;t++)(e=n[t]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fr=d&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,br=null,xr=!1;function yr(e,n,t){var r=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;xr||null==gr||gr!==H(r)||(r="selectionStart"in(r=gr)&&hr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&lr(br,r)||(br=r,0<(r=Qr(vr,"onSelect")).length&&(n=new dt("onSelect","select",null,n,t),e.push({event:n,listeners:r}),n.target=gr)))}function wr(e,n){var t={};return t[e.toLowerCase()]=n.toLowerCase(),t["Webkit"+e]="webkit"+n,t["Moz"+e]="moz"+n,t}var kr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},jr={},Nr={};function Sr(e){if(jr[e])return jr[e];if(!kr[e])return e;var n,t=kr[e];for(n in t)if(t.hasOwnProperty(n)&&n in Nr)return jr[e]=t[n];return e}d&&(Nr=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var Ir=Sr("animationend"),Cr=Sr("animationiteration"),_r=Sr("animationstart"),Ar=Sr("transitionend"),Er=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,n){Er.set(e,n),l(n,[e])}for(var Pr=0;Pr<Or.length;Pr++){var Tr=Or[Pr];Dr(Tr.toLowerCase(),"on"+(Tr[0].toUpperCase()+Tr.slice(1)))}Dr(Ir,"onAnimationEnd"),Dr(Cr,"onAnimationIteration"),Dr(_r,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(zr));function Rr(e,n,t){var r=e.type||"unknown-event";e.currentTarget=t,function(e,n,t,r,a,i,o,l,c){if(Be.apply(this,arguments),Le){if(!Le)throw Error(s(198));var d=Re;Le=!1,Re=null,Fe||(Fe=!0,Me=d)}}(r,n,void 0,e),e.currentTarget=null}function Fr(e,n){n=!!(4&n);for(var t=0;t<e.length;t++){var r=e[t],a=r.event;r=r.listeners;e:{var s=void 0;if(n)for(var i=r.length-1;0<=i;i--){var o=r[i],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&a.isPropagationStopped())break e;Rr(a,o,c),s=l}else for(i=0;i<r.length;i++){if(l=(o=r[i]).instance,c=o.currentTarget,o=o.listener,l!==s&&a.isPropagationStopped())break e;Rr(a,o,c),s=l}}}if(Fe)throw e=Me,Fe=!1,Me=null,e}function Mr(e,n){var t=n[fa];void 0===t&&(t=n[fa]=new Set);var r=e+"__bubble";t.has(r)||(Ur(n,e,2,!1),t.add(r))}function $r(e,n,t){var r=0;n&&(r|=4),Ur(t,e,r,n)}var Br="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[Br]){e[Br]=!0,i.forEach(function(n){"selectionchange"!==n&&(Lr.has(n)||$r(n,!1,e),$r(n,!0,e))});var n=9===e.nodeType?e:e.ownerDocument;null===n||n[Br]||(n[Br]=!0,$r("selectionchange",!1,n))}}function Ur(e,n,t,r){switch(Xn(n)){case 1:var a=Qn;break;case 4:a=Wn;break;default:a=Hn}t=a.bind(null,n,t,e),a=void 0,!Pe||"touchstart"!==n&&"touchmove"!==n&&"wheel"!==n||(a=!0),r?void 0!==a?e.addEventListener(n,t,{capture:!0,passive:a}):e.addEventListener(n,t,!0):void 0!==a?e.addEventListener(n,t,{passive:a}):e.addEventListener(n,t,!1)}function qr(e,n,t,r,a){var s=r;if(!(1&n||2&n||null===r))e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var o=r.stateNode.containerInfo;if(o===a||8===o.nodeType&&o.parentNode===a)break;if(4===i)for(i=r.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;i=i.return}for(;null!==o;){if(null===(i=ba(o)))return;if(5===(l=i.tag)||6===l){r=s=i;continue e}o=o.parentNode}}r=r.return}Oe(function(){var r=s,a=we(t),i=[];e:{var o=Er.get(e);if(void 0!==o){var l=dt,c=e;switch(e){case"keypress":if(0===tt(t))break e;case"keydown":case"keyup":l=Ct;break;case"focusin":c="focus",l=gt;break;case"focusout":c="blur",l=gt;break;case"beforeblur":case"afterblur":l=gt;break;case"click":if(2===t.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=mt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=ft;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=At;break;case Ir:case Cr:case _r:l=vt;break;case Ar:l=Et;break;case"scroll":l=pt;break;case"wheel":l=Dt;break;case"copy":case"cut":case"paste":l=xt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=_t}var d=!!(4&n),u=!d&&"scroll"===e,p=d?null!==o?o+"Capture":null:o;d=[];for(var h,m=r;null!==m;){var f=(h=m).stateNode;if(5===h.tag&&null!==f&&(h=f,null!==p&&null!=(f=De(m,p))&&d.push(Zr(m,f,h))),u)break;m=m.return}0<d.length&&(o=new l(o,c,null,t,a),i.push({event:o,listeners:d}))}}if(!(7&n)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||t===ye||!(c=t.relatedTarget||t.fromElement)||!ba(c)&&!c[ma])&&(l||o)&&(o=a.window===a?a:(o=a.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=t.relatedTarget||t.toElement)?ba(c):null)&&(c!==(u=Ve(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(d=mt,f="onMouseLeave",p="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=_t,f="onPointerLeave",p="onPointerEnter",m="pointer"),u=null==l?o:ya(l),h=null==c?o:ya(c),(o=new d(f,m+"leave",l,t,a)).target=u,o.relatedTarget=h,f=null,ba(a)===r&&((d=new d(p,m+"enter",c,t,a)).target=h,d.relatedTarget=u,f=d),u=f,l&&c)e:{for(p=c,m=0,h=d=l;h;h=Wr(h))m++;for(h=0,f=p;f;f=Wr(f))h++;for(;0<m-h;)d=Wr(d),m--;for(;0<h-m;)p=Wr(p),h--;for(;m--;){if(d===p||null!==p&&d===p.alternate)break e;d=Wr(d),p=Wr(p)}d=null}else d=null;null!==l&&Hr(i,o,l,d,!1),null!==c&&null!==u&&Hr(i,u,c,d,!0)}if("select"===(l=(o=r?ya(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Kt;else if(qt(o))if(Xt)g=ir;else{g=ar;var v=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=sr);switch(g&&(g=g(e,r))?Zt(i,g,t,a):(v&&v(e,o,r),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=r?ya(r):window,e){case"focusin":(qt(v)||"true"===v.contentEditable)&&(gr=v,vr=r,br=null);break;case"focusout":br=vr=gr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,yr(i,t,a);break;case"selectionchange":if(fr)break;case"keydown":case"keyup":yr(i,t,a)}var b;if(Tt)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Vt?$t(e,t)&&(x="onCompositionEnd"):"keydown"===e&&229===t.keyCode&&(x="onCompositionStart");x&&(Rt&&"ko"!==t.locale&&(Vt||"onCompositionStart"!==x?"onCompositionEnd"===x&&Vt&&(b=nt()):(Jn="value"in(Gn=a)?Gn.value:Gn.textContent,Vt=!0)),0<(v=Qr(r,x)).length&&(x=new yt(x,e,null,t,a),i.push({event:x,listeners:v}),(b||null!==(b=Bt(t)))&&(x.data=b))),(b=Lt?function(e,n){switch(e){case"compositionend":return Bt(n);case"keypress":return 32!==n.which?null:(Mt=!0,Ft);case"textInput":return(e=n.data)===Ft&&Mt?null:e;default:return null}}(e,t):function(e,n){if(Vt)return"compositionend"===e||!Tt&&$t(e,n)?(e=nt(),et=Jn=Gn=null,Vt=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Rt&&"ko"!==n.locale?null:n.data}}(e,t))&&0<(r=Qr(r,"onBeforeInput")).length&&(a=new yt("onBeforeInput","beforeinput",null,t,a),i.push({event:a,listeners:r}),a.data=b)}Fr(i,n)})}function Zr(e,n,t){return{instance:e,listener:n,currentTarget:t}}function Qr(e,n){for(var t=n+"Capture",r=[];null!==e;){var a=e,s=a.stateNode;5===a.tag&&null!==s&&(a=s,null!=(s=De(e,t))&&r.unshift(Zr(e,s,a)),null!=(s=De(e,n))&&r.push(Zr(e,s,a))),e=e.return}return r}function Wr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Hr(e,n,t,r,a){for(var s=n._reactName,i=[];null!==t&&t!==r;){var o=t,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,a?null!=(l=De(t,s))&&i.unshift(Zr(t,l,o)):a||null!=(l=De(t,s))&&i.push(Zr(t,l,o))),t=t.return}0!==i.length&&e.push({event:n,listeners:i})}var Yr=/\r\n?/g,Kr=/\u0000|\uFFFD/g;function Xr(e){return("string"==typeof e?e:""+e).replace(Yr,"\n").replace(Kr,"")}function Gr(e,n,t){if(n=Xr(n),Xr(e)!==n&&t)throw Error(s(425))}function Jr(){}var ea=null,na=null;function ta(e,n){return"textarea"===e||"noscript"===e||"string"==typeof n.children||"number"==typeof n.children||"object"==typeof n.dangerouslySetInnerHTML&&null!==n.dangerouslySetInnerHTML&&null!=n.dangerouslySetInnerHTML.__html}var ra="function"==typeof setTimeout?setTimeout:void 0,aa="function"==typeof clearTimeout?clearTimeout:void 0,sa="function"==typeof Promise?Promise:void 0,ia="function"==typeof queueMicrotask?queueMicrotask:void 0!==sa?function(e){return sa.resolve(null).then(e).catch(oa)}:ra;function oa(e){setTimeout(function(){throw e})}function la(e,n){var t=n,r=0;do{var a=t.nextSibling;if(e.removeChild(t),a&&8===a.nodeType)if("/$"===(t=a.data)){if(0===r)return e.removeChild(a),void Un(n);r--}else"$"!==t&&"$?"!==t&&"$!"!==t||r++;t=a}while(t);Un(n)}function ca(e){for(;null!=e;e=e.nextSibling){var n=e.nodeType;if(1===n||3===n)break;if(8===n){if("$"===(n=e.data)||"$!"===n||"$?"===n)break;if("/$"===n)return null}}return e}function da(e){e=e.previousSibling;for(var n=0;e;){if(8===e.nodeType){var t=e.data;if("$"===t||"$!"===t||"$?"===t){if(0===n)return e;n--}else"/$"===t&&n++}e=e.previousSibling}return null}var ua=Math.random().toString(36).slice(2),pa="__reactFiber$"+ua,ha="__reactProps$"+ua,ma="__reactContainer$"+ua,fa="__reactEvents$"+ua,ga="__reactListeners$"+ua,va="__reactHandles$"+ua;function ba(e){var n=e[pa];if(n)return n;for(var t=e.parentNode;t;){if(n=t[ma]||t[pa]){if(t=n.alternate,null!==n.child||null!==t&&null!==t.child)for(e=da(e);null!==e;){if(t=e[pa])return t;e=da(e)}return n}t=(e=t).parentNode}return null}function xa(e){return!(e=e[pa]||e[ma])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ya(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function wa(e){return e[ha]||null}var ka=[],ja=-1;function Na(e){return{current:e}}function Sa(e){0>ja||(e.current=ka[ja],ka[ja]=null,ja--)}function Ia(e,n){ja++,ka[ja]=e.current,e.current=n}var Ca={},_a=Na(Ca),Aa=Na(!1),Ea=Ca;function Oa(e,n){var t=e.type.contextTypes;if(!t)return Ca;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===n)return r.__reactInternalMemoizedMaskedChildContext;var a,s={};for(a in t)s[a]=n[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=s),s}function Da(e){return null!=e.childContextTypes}function Pa(){Sa(Aa),Sa(_a)}function Ta(e,n,t){if(_a.current!==Ca)throw Error(s(168));Ia(_a,n),Ia(Aa,t)}function za(e,n,t){var r=e.stateNode;if(n=n.childContextTypes,"function"!=typeof r.getChildContext)return t;for(var a in r=r.getChildContext())if(!(a in n))throw Error(s(108,U(e)||"Unknown",a));return R({},t,r)}function La(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ca,Ea=_a.current,Ia(_a,e),Ia(Aa,Aa.current),!0}function Ra(e,n,t){var r=e.stateNode;if(!r)throw Error(s(169));t?(e=za(e,n,Ea),r.__reactInternalMemoizedMergedChildContext=e,Sa(Aa),Sa(_a),Ia(_a,e)):Sa(Aa),Ia(Aa,t)}var Fa=null,Ma=!1,$a=!1;function Ba(e){null===Fa?Fa=[e]:Fa.push(e)}function Va(){if(!$a&&null!==Fa){$a=!0;var e=0,n=yn;try{var t=Fa;for(yn=1;e<t.length;e++){var r=t[e];do{r=r(!0)}while(null!==r)}Fa=null,Ma=!1}catch(n){throw null!==Fa&&(Fa=Fa.slice(e+1)),We(Je,Va),n}finally{yn=n,$a=!1}}return null}var Ua=[],qa=0,Za=null,Qa=0,Wa=[],Ha=0,Ya=null,Ka=1,Xa="";function Ga(e,n){Ua[qa++]=Qa,Ua[qa++]=Za,Za=e,Qa=n}function Ja(e,n,t){Wa[Ha++]=Ka,Wa[Ha++]=Xa,Wa[Ha++]=Ya,Ya=e;var r=Ka;e=Xa;var a=32-on(r)-1;r&=~(1<<a),t+=1;var s=32-on(n)+a;if(30<s){var i=a-a%5;s=(r&(1<<i)-1).toString(32),r>>=i,a-=i,Ka=1<<32-on(n)+a|t<<a|r,Xa=s+e}else Ka=1<<s|t<<a|r,Xa=e}function es(e){null!==e.return&&(Ga(e,1),Ja(e,1,0))}function ns(e){for(;e===Za;)Za=Ua[--qa],Ua[qa]=null,Qa=Ua[--qa],Ua[qa]=null;for(;e===Ya;)Ya=Wa[--Ha],Wa[Ha]=null,Xa=Wa[--Ha],Wa[Ha]=null,Ka=Wa[--Ha],Wa[Ha]=null}var ts=null,rs=null,as=!1,ss=null;function is(e,n){var t=Oc(5,null,null,0);t.elementType="DELETED",t.stateNode=n,t.return=e,null===(n=e.deletions)?(e.deletions=[t],e.flags|=16):n.push(t)}function os(e,n){switch(e.tag){case 5:var t=e.type;return null!==(n=1!==n.nodeType||t.toLowerCase()!==n.nodeName.toLowerCase()?null:n)&&(e.stateNode=n,ts=e,rs=ca(n.firstChild),!0);case 6:return null!==(n=""===e.pendingProps||3!==n.nodeType?null:n)&&(e.stateNode=n,ts=e,rs=null,!0);case 13:return null!==(n=8!==n.nodeType?null:n)&&(t=null!==Ya?{id:Ka,overflow:Xa}:null,e.memoizedState={dehydrated:n,treeContext:t,retryLane:1073741824},(t=Oc(18,null,null,0)).stateNode=n,t.return=e,e.child=t,ts=e,rs=null,!0);default:return!1}}function ls(e){return!(!(1&e.mode)||128&e.flags)}function cs(e){if(as){var n=rs;if(n){var t=n;if(!os(e,n)){if(ls(e))throw Error(s(418));n=ca(t.nextSibling);var r=ts;n&&os(e,n)?is(r,t):(e.flags=-4097&e.flags|2,as=!1,ts=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,as=!1,ts=e}}}function ds(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ts=e}function us(e){if(e!==ts)return!1;if(!as)return ds(e),as=!0,!1;var n;if((n=3!==e.tag)&&!(n=5!==e.tag)&&(n="head"!==(n=e.type)&&"body"!==n&&!ta(e.type,e.memoizedProps)),n&&(n=rs)){if(ls(e))throw ps(),Error(s(418));for(;n;)is(e,n),n=ca(n.nextSibling)}if(ds(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType){var t=e.data;if("/$"===t){if(0===n){rs=ca(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++}e=e.nextSibling}rs=null}}else rs=ts?ca(e.stateNode.nextSibling):null;return!0}function ps(){for(var e=rs;e;)e=ca(e.nextSibling)}function hs(){rs=ts=null,as=!1}function ms(e){null===ss?ss=[e]:ss.push(e)}var fs=y.ReactCurrentBatchConfig;function gs(e,n,t){if(null!==(e=t.ref)&&"function"!=typeof e&&"object"!=typeof e){if(t._owner){if(t=t._owner){if(1!==t.tag)throw Error(s(309));var r=t.stateNode}if(!r)throw Error(s(147,e));var a=r,i=""+e;return null!==n&&null!==n.ref&&"function"==typeof n.ref&&n.ref._stringRef===i?n.ref:(n=function(e){var n=a.refs;null===e?delete n[i]:n[i]=e},n._stringRef=i,n)}if("string"!=typeof e)throw Error(s(284));if(!t._owner)throw Error(s(290,e))}return e}function vs(e,n){throw e=Object.prototype.toString.call(n),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function bs(e){return(0,e._init)(e._payload)}function xs(e){function n(n,t){if(e){var r=n.deletions;null===r?(n.deletions=[t],n.flags|=16):r.push(t)}}function t(t,r){if(!e)return null;for(;null!==r;)n(t,r),r=r.sibling;return null}function r(e,n){for(e=new Map;null!==n;)null!==n.key?e.set(n.key,n):e.set(n.index,n),n=n.sibling;return e}function a(e,n){return(e=Pc(e,n)).index=0,e.sibling=null,e}function i(n,t,r){return n.index=r,e?null!==(r=n.alternate)?(r=r.index)<t?(n.flags|=2,t):r:(n.flags|=2,t):(n.flags|=1048576,t)}function o(n){return e&&null===n.alternate&&(n.flags|=2),n}function l(e,n,t,r){return null===n||6!==n.tag?((n=Rc(t,e.mode,r)).return=e,n):((n=a(n,t)).return=e,n)}function c(e,n,t,r){var s=t.type;return s===j?u(e,n,t.props.children,r,t.key):null!==n&&(n.elementType===s||"object"==typeof s&&null!==s&&s.$$typeof===D&&bs(s)===n.type)?((r=a(n,t.props)).ref=gs(e,n,t),r.return=e,r):((r=Tc(t.type,t.key,t.props,null,e.mode,r)).ref=gs(e,n,t),r.return=e,r)}function d(e,n,t,r){return null===n||4!==n.tag||n.stateNode.containerInfo!==t.containerInfo||n.stateNode.implementation!==t.implementation?((n=Fc(t,e.mode,r)).return=e,n):((n=a(n,t.children||[])).return=e,n)}function u(e,n,t,r,s){return null===n||7!==n.tag?((n=zc(t,e.mode,r,s)).return=e,n):((n=a(n,t)).return=e,n)}function p(e,n,t){if("string"==typeof n&&""!==n||"number"==typeof n)return(n=Rc(""+n,e.mode,t)).return=e,n;if("object"==typeof n&&null!==n){switch(n.$$typeof){case w:return(t=Tc(n.type,n.key,n.props,null,e.mode,t)).ref=gs(e,null,n),t.return=e,t;case k:return(n=Fc(n,e.mode,t)).return=e,n;case D:return p(e,(0,n._init)(n._payload),t)}if(ne(n)||z(n))return(n=zc(n,e.mode,t,null)).return=e,n;vs(e,n)}return null}function h(e,n,t,r){var a=null!==n?n.key:null;if("string"==typeof t&&""!==t||"number"==typeof t)return null!==a?null:l(e,n,""+t,r);if("object"==typeof t&&null!==t){switch(t.$$typeof){case w:return t.key===a?c(e,n,t,r):null;case k:return t.key===a?d(e,n,t,r):null;case D:return h(e,n,(a=t._init)(t._payload),r)}if(ne(t)||z(t))return null!==a?null:u(e,n,t,r,null);vs(e,t)}return null}function m(e,n,t,r,a){if("string"==typeof r&&""!==r||"number"==typeof r)return l(n,e=e.get(t)||null,""+r,a);if("object"==typeof r&&null!==r){switch(r.$$typeof){case w:return c(n,e=e.get(null===r.key?t:r.key)||null,r,a);case k:return d(n,e=e.get(null===r.key?t:r.key)||null,r,a);case D:return m(e,n,t,(0,r._init)(r._payload),a)}if(ne(r)||z(r))return u(n,e=e.get(t)||null,r,a,null);vs(n,r)}return null}function f(a,s,o,l){for(var c=null,d=null,u=s,f=s=0,g=null;null!==u&&f<o.length;f++){u.index>f?(g=u,u=null):g=u.sibling;var v=h(a,u,o[f],l);if(null===v){null===u&&(u=g);break}e&&u&&null===v.alternate&&n(a,u),s=i(v,s,f),null===d?c=v:d.sibling=v,d=v,u=g}if(f===o.length)return t(a,u),as&&Ga(a,f),c;if(null===u){for(;f<o.length;f++)null!==(u=p(a,o[f],l))&&(s=i(u,s,f),null===d?c=u:d.sibling=u,d=u);return as&&Ga(a,f),c}for(u=r(a,u);f<o.length;f++)null!==(g=m(u,a,f,o[f],l))&&(e&&null!==g.alternate&&u.delete(null===g.key?f:g.key),s=i(g,s,f),null===d?c=g:d.sibling=g,d=g);return e&&u.forEach(function(e){return n(a,e)}),as&&Ga(a,f),c}function g(a,o,l,c){var d=z(l);if("function"!=typeof d)throw Error(s(150));if(null==(l=d.call(l)))throw Error(s(151));for(var u=d=null,f=o,g=o=0,v=null,b=l.next();null!==f&&!b.done;g++,b=l.next()){f.index>g?(v=f,f=null):v=f.sibling;var x=h(a,f,b.value,c);if(null===x){null===f&&(f=v);break}e&&f&&null===x.alternate&&n(a,f),o=i(x,o,g),null===u?d=x:u.sibling=x,u=x,f=v}if(b.done)return t(a,f),as&&Ga(a,g),d;if(null===f){for(;!b.done;g++,b=l.next())null!==(b=p(a,b.value,c))&&(o=i(b,o,g),null===u?d=b:u.sibling=b,u=b);return as&&Ga(a,g),d}for(f=r(a,f);!b.done;g++,b=l.next())null!==(b=m(f,a,g,b.value,c))&&(e&&null!==b.alternate&&f.delete(null===b.key?g:b.key),o=i(b,o,g),null===u?d=b:u.sibling=b,u=b);return e&&f.forEach(function(e){return n(a,e)}),as&&Ga(a,g),d}return function e(r,s,i,l){if("object"==typeof i&&null!==i&&i.type===j&&null===i.key&&(i=i.props.children),"object"==typeof i&&null!==i){switch(i.$$typeof){case w:e:{for(var c=i.key,d=s;null!==d;){if(d.key===c){if((c=i.type)===j){if(7===d.tag){t(r,d.sibling),(s=a(d,i.props.children)).return=r,r=s;break e}}else if(d.elementType===c||"object"==typeof c&&null!==c&&c.$$typeof===D&&bs(c)===d.type){t(r,d.sibling),(s=a(d,i.props)).ref=gs(r,d,i),s.return=r,r=s;break e}t(r,d);break}n(r,d),d=d.sibling}i.type===j?((s=zc(i.props.children,r.mode,l,i.key)).return=r,r=s):((l=Tc(i.type,i.key,i.props,null,r.mode,l)).ref=gs(r,s,i),l.return=r,r=l)}return o(r);case k:e:{for(d=i.key;null!==s;){if(s.key===d){if(4===s.tag&&s.stateNode.containerInfo===i.containerInfo&&s.stateNode.implementation===i.implementation){t(r,s.sibling),(s=a(s,i.children||[])).return=r,r=s;break e}t(r,s);break}n(r,s),s=s.sibling}(s=Fc(i,r.mode,l)).return=r,r=s}return o(r);case D:return e(r,s,(d=i._init)(i._payload),l)}if(ne(i))return f(r,s,i,l);if(z(i))return g(r,s,i,l);vs(r,i)}return"string"==typeof i&&""!==i||"number"==typeof i?(i=""+i,null!==s&&6===s.tag?(t(r,s.sibling),(s=a(s,i)).return=r,r=s):(t(r,s),(s=Rc(i,r.mode,l)).return=r,r=s),o(r)):t(r,s)}}var ys=xs(!0),ws=xs(!1),ks=Na(null),js=null,Ns=null,Ss=null;function Is(){Ss=Ns=js=null}function Cs(e){var n=ks.current;Sa(ks),e._currentValue=n}function _s(e,n,t){for(;null!==e;){var r=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,null!==r&&(r.childLanes|=n)):null!==r&&(r.childLanes&n)!==n&&(r.childLanes|=n),e===t)break;e=e.return}}function As(e,n){js=e,Ss=Ns=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&n)&&(xo=!0),e.firstContext=null)}function Es(e){var n=e._currentValue;if(Ss!==e)if(e={context:e,memoizedValue:n,next:null},null===Ns){if(null===js)throw Error(s(308));Ns=e,js.dependencies={lanes:0,firstContext:e}}else Ns=Ns.next=e;return n}var Os=null;function Ds(e){null===Os?Os=[e]:Os.push(e)}function Ps(e,n,t,r){var a=n.interleaved;return null===a?(t.next=t,Ds(n)):(t.next=a.next,a.next=t),n.interleaved=t,Ts(e,r)}function Ts(e,n){e.lanes|=n;var t=e.alternate;for(null!==t&&(t.lanes|=n),t=e,e=e.return;null!==e;)e.childLanes|=n,null!==(t=e.alternate)&&(t.childLanes|=n),t=e,e=e.return;return 3===t.tag?t.stateNode:null}var zs=!1;function Ls(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rs(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fs(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Ms(e,n,t){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&_l){var a=r.pending;return null===a?n.next=n:(n.next=a.next,a.next=n),r.pending=n,Ts(e,t)}return null===(a=r.interleaved)?(n.next=n,Ds(r)):(n.next=a.next,a.next=n),r.interleaved=n,Ts(e,t)}function $s(e,n,t){if(null!==(n=n.updateQueue)&&(n=n.shared,4194240&t)){var r=n.lanes;t|=r&=e.pendingLanes,n.lanes=t,xn(e,t)}}function Bs(e,n){var t=e.updateQueue,r=e.alternate;if(null!==r&&t===(r=r.updateQueue)){var a=null,s=null;if(null!==(t=t.firstBaseUpdate)){do{var i={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};null===s?a=s=i:s=s.next=i,t=t.next}while(null!==t);null===s?a=s=n:s=s.next=n}else a=s=n;return t={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=t)}null===(e=t.lastBaseUpdate)?t.firstBaseUpdate=n:e.next=n,t.lastBaseUpdate=n}function Vs(e,n,t,r){var a=e.updateQueue;zs=!1;var s=a.firstBaseUpdate,i=a.lastBaseUpdate,o=a.shared.pending;if(null!==o){a.shared.pending=null;var l=o,c=l.next;l.next=null,null===i?s=c:i.next=c,i=l;var d=e.alternate;null!==d&&(o=(d=d.updateQueue).lastBaseUpdate)!==i&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l)}if(null!==s){var u=a.baseState;for(i=0,d=c=l=null,o=s;;){var p=o.lane,h=o.eventTime;if((r&p)===p){null!==d&&(d=d.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=e,f=o;switch(p=n,h=t,f.tag){case 1:if("function"==typeof(m=f.payload)){u=m.call(h,u,p);break e}u=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null==(p="function"==typeof(m=f.payload)?m.call(h,u,p):m))break e;u=R({},u,p);break e;case 2:zs=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(p=a.effects)?a.effects=[o]:p.push(o))}else h={eventTime:h,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=h,l=u):d=d.next=h,i|=p;if(null===(o=o.next)){if(null===(o=a.shared.pending))break;o=(p=o).next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}if(null===d&&(l=u),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=d,null!==(n=a.shared.interleaved)){a=n;do{i|=a.lane,a=a.next}while(a!==n)}else null===s&&(a.shared.lanes=0);Ll|=i,e.lanes=i,e.memoizedState=u}}function Us(e,n,t){if(e=n.effects,n.effects=null,null!==e)for(n=0;n<e.length;n++){var r=e[n],a=r.callback;if(null!==a){if(r.callback=null,r=t,"function"!=typeof a)throw Error(s(191,a));a.call(r)}}}var qs={},Zs=Na(qs),Qs=Na(qs),Ws=Na(qs);function Hs(e){if(e===qs)throw Error(s(174));return e}function Ys(e,n){switch(Ia(Ws,n),Ia(Qs,e),Ia(Zs,qs),e=n.nodeType){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:le(null,"");break;default:n=le(n=(e=8===e?n.parentNode:n).namespaceURI||null,e=e.tagName)}Sa(Zs),Ia(Zs,n)}function Ks(){Sa(Zs),Sa(Qs),Sa(Ws)}function Xs(e){Hs(Ws.current);var n=Hs(Zs.current),t=le(n,e.type);n!==t&&(Ia(Qs,e),Ia(Zs,t))}function Gs(e){Qs.current===e&&(Sa(Zs),Sa(Qs))}var Js=Na(0);function ei(e){for(var n=e;null!==n;){if(13===n.tag){var t=n.memoizedState;if(null!==t&&(null===(t=t.dehydrated)||"$?"===t.data||"$!"===t.data))return n}else if(19===n.tag&&void 0!==n.memoizedProps.revealOrder){if(128&n.flags)return n}else if(null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ni=[];function ti(){for(var e=0;e<ni.length;e++)ni[e]._workInProgressVersionPrimary=null;ni.length=0}var ri=y.ReactCurrentDispatcher,ai=y.ReactCurrentBatchConfig,si=0,ii=null,oi=null,li=null,ci=!1,di=!1,ui=0,pi=0;function hi(){throw Error(s(321))}function mi(e,n){if(null===n)return!1;for(var t=0;t<n.length&&t<e.length;t++)if(!or(e[t],n[t]))return!1;return!0}function fi(e,n,t,r,a,i){if(si=i,ii=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,ri.current=null===e||null===e.memoizedState?Gi:Ji,e=t(r,a),di){i=0;do{if(di=!1,ui=0,25<=i)throw Error(s(301));i+=1,li=oi=null,n.updateQueue=null,ri.current=eo,e=t(r,a)}while(di)}if(ri.current=Xi,n=null!==oi&&null!==oi.next,si=0,li=oi=ii=null,ci=!1,n)throw Error(s(300));return e}function gi(){var e=0!==ui;return ui=0,e}function vi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===li?ii.memoizedState=li=e:li=li.next=e,li}function bi(){if(null===oi){var e=ii.alternate;e=null!==e?e.memoizedState:null}else e=oi.next;var n=null===li?ii.memoizedState:li.next;if(null!==n)li=n,oi=e;else{if(null===e)throw Error(s(310));e={memoizedState:(oi=e).memoizedState,baseState:oi.baseState,baseQueue:oi.baseQueue,queue:oi.queue,next:null},null===li?ii.memoizedState=li=e:li=li.next=e}return li}function xi(e,n){return"function"==typeof n?n(e):n}function yi(e){var n=bi(),t=n.queue;if(null===t)throw Error(s(311));t.lastRenderedReducer=e;var r=oi,a=r.baseQueue,i=t.pending;if(null!==i){if(null!==a){var o=a.next;a.next=i.next,i.next=o}r.baseQueue=a=i,t.pending=null}if(null!==a){i=a.next,r=r.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((si&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var p={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(l=c=p,o=r):c=c.next=p,ii.lanes|=u,Ll|=u}d=d.next}while(null!==d&&d!==i);null===c?o=r:c.next=l,or(r,n.memoizedState)||(xo=!0),n.memoizedState=r,n.baseState=o,n.baseQueue=c,t.lastRenderedState=r}if(null!==(e=t.interleaved)){a=e;do{i=a.lane,ii.lanes|=i,Ll|=i,a=a.next}while(a!==e)}else null===a&&(t.lanes=0);return[n.memoizedState,t.dispatch]}function wi(e){var n=bi(),t=n.queue;if(null===t)throw Error(s(311));t.lastRenderedReducer=e;var r=t.dispatch,a=t.pending,i=n.memoizedState;if(null!==a){t.pending=null;var o=a=a.next;do{i=e(i,o.action),o=o.next}while(o!==a);or(i,n.memoizedState)||(xo=!0),n.memoizedState=i,null===n.baseQueue&&(n.baseState=i),t.lastRenderedState=i}return[i,r]}function ki(){}function ji(e,n){var t=ii,r=bi(),a=n(),i=!or(r.memoizedState,a);if(i&&(r.memoizedState=a,xo=!0),r=r.queue,zi(Ii.bind(null,t,r,e),[e]),r.getSnapshot!==n||i||null!==li&&1&li.memoizedState.tag){if(t.flags|=2048,Ei(9,Si.bind(null,t,r,a,n),void 0,null),null===Al)throw Error(s(349));30&si||Ni(t,n,a)}return a}function Ni(e,n,t){e.flags|=16384,e={getSnapshot:n,value:t},null===(n=ii.updateQueue)?(n={lastEffect:null,stores:null},ii.updateQueue=n,n.stores=[e]):null===(t=n.stores)?n.stores=[e]:t.push(e)}function Si(e,n,t,r){n.value=t,n.getSnapshot=r,Ci(n)&&_i(e)}function Ii(e,n,t){return t(function(){Ci(n)&&_i(e)})}function Ci(e){var n=e.getSnapshot;e=e.value;try{var t=n();return!or(e,t)}catch(e){return!0}}function _i(e){var n=Ts(e,1);null!==n&&tc(n,e,1,-1)}function Ai(e){var n=vi();return"function"==typeof e&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:e},n.queue=e,e=e.dispatch=Wi.bind(null,ii,e),[n.memoizedState,e]}function Ei(e,n,t,r){return e={tag:e,create:n,destroy:t,deps:r,next:null},null===(n=ii.updateQueue)?(n={lastEffect:null,stores:null},ii.updateQueue=n,n.lastEffect=e.next=e):null===(t=n.lastEffect)?n.lastEffect=e.next=e:(r=t.next,t.next=e,e.next=r,n.lastEffect=e),e}function Oi(){return bi().memoizedState}function Di(e,n,t,r){var a=vi();ii.flags|=e,a.memoizedState=Ei(1|n,t,void 0,void 0===r?null:r)}function Pi(e,n,t,r){var a=bi();r=void 0===r?null:r;var s=void 0;if(null!==oi){var i=oi.memoizedState;if(s=i.destroy,null!==r&&mi(r,i.deps))return void(a.memoizedState=Ei(n,t,s,r))}ii.flags|=e,a.memoizedState=Ei(1|n,t,s,r)}function Ti(e,n){return Di(8390656,8,e,n)}function zi(e,n){return Pi(2048,8,e,n)}function Li(e,n){return Pi(4,2,e,n)}function Ri(e,n){return Pi(4,4,e,n)}function Fi(e,n){return"function"==typeof n?(e=e(),n(e),function(){n(null)}):null!=n?(e=e(),n.current=e,function(){n.current=null}):void 0}function Mi(e,n,t){return t=null!=t?t.concat([e]):null,Pi(4,4,Fi.bind(null,n,e),t)}function $i(){}function Bi(e,n){var t=bi();n=void 0===n?null:n;var r=t.memoizedState;return null!==r&&null!==n&&mi(n,r[1])?r[0]:(t.memoizedState=[e,n],e)}function Vi(e,n){var t=bi();n=void 0===n?null:n;var r=t.memoizedState;return null!==r&&null!==n&&mi(n,r[1])?r[0]:(e=e(),t.memoizedState=[e,n],e)}function Ui(e,n,t){return 21&si?(or(t,n)||(t=gn(),ii.lanes|=t,Ll|=t,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,xo=!0),e.memoizedState=t)}function qi(e,n){var t=yn;yn=0!==t&&4>t?t:4,e(!0);var r=ai.transition;ai.transition={};try{e(!1),n()}finally{yn=t,ai.transition=r}}function Zi(){return bi().memoizedState}function Qi(e,n,t){var r=nc(e);t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},Hi(e)?Yi(n,t):null!==(t=Ps(e,n,t,r))&&(tc(t,e,r,ec()),Ki(t,n,r))}function Wi(e,n,t){var r=nc(e),a={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(Hi(e))Yi(n,a);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=n.lastRenderedReducer))try{var i=n.lastRenderedState,o=s(i,t);if(a.hasEagerState=!0,a.eagerState=o,or(o,i)){var l=n.interleaved;return null===l?(a.next=a,Ds(n)):(a.next=l.next,l.next=a),void(n.interleaved=a)}}catch(e){}null!==(t=Ps(e,n,a,r))&&(tc(t,e,r,a=ec()),Ki(t,n,r))}}function Hi(e){var n=e.alternate;return e===ii||null!==n&&n===ii}function Yi(e,n){di=ci=!0;var t=e.pending;null===t?n.next=n:(n.next=t.next,t.next=n),e.pending=n}function Ki(e,n,t){if(4194240&t){var r=n.lanes;t|=r&=e.pendingLanes,n.lanes=t,xn(e,t)}}var Xi={readContext:Es,useCallback:hi,useContext:hi,useEffect:hi,useImperativeHandle:hi,useInsertionEffect:hi,useLayoutEffect:hi,useMemo:hi,useReducer:hi,useRef:hi,useState:hi,useDebugValue:hi,useDeferredValue:hi,useTransition:hi,useMutableSource:hi,useSyncExternalStore:hi,useId:hi,unstable_isNewReconciler:!1},Gi={readContext:Es,useCallback:function(e,n){return vi().memoizedState=[e,void 0===n?null:n],e},useContext:Es,useEffect:Ti,useImperativeHandle:function(e,n,t){return t=null!=t?t.concat([e]):null,Di(4194308,4,Fi.bind(null,n,e),t)},useLayoutEffect:function(e,n){return Di(4194308,4,e,n)},useInsertionEffect:function(e,n){return Di(4,2,e,n)},useMemo:function(e,n){var t=vi();return n=void 0===n?null:n,e=e(),t.memoizedState=[e,n],e},useReducer:function(e,n,t){var r=vi();return n=void 0!==t?t(n):n,r.memoizedState=r.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},r.queue=e,e=e.dispatch=Qi.bind(null,ii,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},vi().memoizedState=e},useState:Ai,useDebugValue:$i,useDeferredValue:function(e){return vi().memoizedState=e},useTransition:function(){var e=Ai(!1),n=e[0];return e=qi.bind(null,e[1]),vi().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,t){var r=ii,a=vi();if(as){if(void 0===t)throw Error(s(407));t=t()}else{if(t=n(),null===Al)throw Error(s(349));30&si||Ni(r,n,t)}a.memoizedState=t;var i={value:t,getSnapshot:n};return a.queue=i,Ti(Ii.bind(null,r,i,e),[e]),r.flags|=2048,Ei(9,Si.bind(null,r,i,t,n),void 0,null),t},useId:function(){var e=vi(),n=Al.identifierPrefix;if(as){var t=Xa;n=":"+n+"R"+(t=(Ka&~(1<<32-on(Ka)-1)).toString(32)+t),0<(t=ui++)&&(n+="H"+t.toString(32)),n+=":"}else n=":"+n+"r"+(t=pi++).toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},Ji={readContext:Es,useCallback:Bi,useContext:Es,useEffect:zi,useImperativeHandle:Mi,useInsertionEffect:Li,useLayoutEffect:Ri,useMemo:Vi,useReducer:yi,useRef:Oi,useState:function(){return yi(xi)},useDebugValue:$i,useDeferredValue:function(e){return Ui(bi(),oi.memoizedState,e)},useTransition:function(){return[yi(xi)[0],bi().memoizedState]},useMutableSource:ki,useSyncExternalStore:ji,useId:Zi,unstable_isNewReconciler:!1},eo={readContext:Es,useCallback:Bi,useContext:Es,useEffect:zi,useImperativeHandle:Mi,useInsertionEffect:Li,useLayoutEffect:Ri,useMemo:Vi,useReducer:wi,useRef:Oi,useState:function(){return wi(xi)},useDebugValue:$i,useDeferredValue:function(e){var n=bi();return null===oi?n.memoizedState=e:Ui(n,oi.memoizedState,e)},useTransition:function(){return[wi(xi)[0],bi().memoizedState]},useMutableSource:ki,useSyncExternalStore:ji,useId:Zi,unstable_isNewReconciler:!1};function no(e,n){if(e&&e.defaultProps){for(var t in n=R({},n),e=e.defaultProps)void 0===n[t]&&(n[t]=e[t]);return n}return n}function to(e,n,t,r){t=null==(t=t(r,n=e.memoizedState))?n:R({},n,t),e.memoizedState=t,0===e.lanes&&(e.updateQueue.baseState=t)}var ro={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,n,t){e=e._reactInternals;var r=ec(),a=nc(e),s=Fs(r,a);s.payload=n,null!=t&&(s.callback=t),null!==(n=Ms(e,s,a))&&(tc(n,e,a,r),$s(n,e,a))},enqueueReplaceState:function(e,n,t){e=e._reactInternals;var r=ec(),a=nc(e),s=Fs(r,a);s.tag=1,s.payload=n,null!=t&&(s.callback=t),null!==(n=Ms(e,s,a))&&(tc(n,e,a,r),$s(n,e,a))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var t=ec(),r=nc(e),a=Fs(t,r);a.tag=2,null!=n&&(a.callback=n),null!==(n=Ms(e,a,r))&&(tc(n,e,r,t),$s(n,e,r))}};function ao(e,n,t,r,a,s,i){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,i):!(n.prototype&&n.prototype.isPureReactComponent&&lr(t,r)&&lr(a,s))}function so(e,n,t){var r=!1,a=Ca,s=n.contextType;return"object"==typeof s&&null!==s?s=Es(s):(a=Da(n)?Ea:_a.current,s=(r=null!=(r=n.contextTypes))?Oa(e,a):Ca),n=new n(t,s),e.memoizedState=null!==n.state&&void 0!==n.state?n.state:null,n.updater=ro,e.stateNode=n,n._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),n}function io(e,n,t,r){e=n.state,"function"==typeof n.componentWillReceiveProps&&n.componentWillReceiveProps(t,r),"function"==typeof n.UNSAFE_componentWillReceiveProps&&n.UNSAFE_componentWillReceiveProps(t,r),n.state!==e&&ro.enqueueReplaceState(n,n.state,null)}function oo(e,n,t,r){var a=e.stateNode;a.props=t,a.state=e.memoizedState,a.refs={},Ls(e);var s=n.contextType;"object"==typeof s&&null!==s?a.context=Es(s):(s=Da(n)?Ea:_a.current,a.context=Oa(e,s)),a.state=e.memoizedState,"function"==typeof(s=n.getDerivedStateFromProps)&&(to(e,n,s,t),a.state=e.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof a.getSnapshotBeforeUpdate||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||(n=a.state,"function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),n!==a.state&&ro.enqueueReplaceState(a,a.state,null),Vs(e,t,a,r),a.state=e.memoizedState),"function"==typeof a.componentDidMount&&(e.flags|=4194308)}function lo(e,n){try{var t="",r=n;do{t+=B(r),r=r.return}while(r);var a=t}catch(e){a="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:n,stack:a,digest:null}}function co(e,n,t){return{value:e,source:null,stack:null!=t?t:null,digest:null!=n?n:null}}function uo(e,n){try{console.error(n.value)}catch(e){setTimeout(function(){throw e})}}var po="function"==typeof WeakMap?WeakMap:Map;function ho(e,n,t){(t=Fs(-1,t)).tag=3,t.payload={element:null};var r=n.value;return t.callback=function(){ql||(ql=!0,Zl=r),uo(0,n)},t}function mo(e,n,t){(t=Fs(-1,t)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var a=n.value;t.payload=function(){return r(a)},t.callback=function(){uo(0,n)}}var s=e.stateNode;return null!==s&&"function"==typeof s.componentDidCatch&&(t.callback=function(){uo(0,n),"function"!=typeof r&&(null===Ql?Ql=new Set([this]):Ql.add(this));var e=n.stack;this.componentDidCatch(n.value,{componentStack:null!==e?e:""})}),t}function fo(e,n,t){var r=e.pingCache;if(null===r){r=e.pingCache=new po;var a=new Set;r.set(n,a)}else void 0===(a=r.get(n))&&(a=new Set,r.set(n,a));a.has(t)||(a.add(t),e=Sc.bind(null,e,n,t),n.then(e,e))}function go(e){do{var n;if((n=13===e.tag)&&(n=null===(n=e.memoizedState)||null!==n.dehydrated),n)return e;e=e.return}while(null!==e);return null}function vo(e,n,t,r,a){return 1&e.mode?(e.flags|=65536,e.lanes=a,e):(e===n?e.flags|=65536:(e.flags|=128,t.flags|=131072,t.flags&=-52805,1===t.tag&&(null===t.alternate?t.tag=17:((n=Fs(-1,1)).tag=2,Ms(t,n,1))),t.lanes|=1),e)}var bo=y.ReactCurrentOwner,xo=!1;function yo(e,n,t,r){n.child=null===e?ws(n,null,t,r):ys(n,e.child,t,r)}function wo(e,n,t,r,a){t=t.render;var s=n.ref;return As(n,a),r=fi(e,n,t,r,s,a),t=gi(),null===e||xo?(as&&t&&es(n),n.flags|=1,yo(e,n,r,a),n.child):(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a,qo(e,n,a))}function ko(e,n,t,r,a){if(null===e){var s=t.type;return"function"!=typeof s||Dc(s)||void 0!==s.defaultProps||null!==t.compare||void 0!==t.defaultProps?((e=Tc(t.type,null,r,n,n.mode,a)).ref=n.ref,e.return=n,n.child=e):(n.tag=15,n.type=s,jo(e,n,s,r,a))}if(s=e.child,0===(e.lanes&a)){var i=s.memoizedProps;if((t=null!==(t=t.compare)?t:lr)(i,r)&&e.ref===n.ref)return qo(e,n,a)}return n.flags|=1,(e=Pc(s,r)).ref=n.ref,e.return=n,n.child=e}function jo(e,n,t,r,a){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===n.ref){if(xo=!1,n.pendingProps=r=s,0===(e.lanes&a))return n.lanes=e.lanes,qo(e,n,a);131072&e.flags&&(xo=!0)}}return Io(e,n,t,r,a)}function No(e,n,t){var r=n.pendingProps,a=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(1&n.mode){if(!(1073741824&t))return e=null!==s?s.baseLanes|t:t,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,Ia(Pl,Dl),Dl|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:t,Ia(Pl,Dl),Dl|=r}else n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ia(Pl,Dl),Dl|=t;else null!==s?(r=s.baseLanes|t,n.memoizedState=null):r=t,Ia(Pl,Dl),Dl|=r;return yo(e,n,a,t),n.child}function So(e,n){var t=n.ref;(null===e&&null!==t||null!==e&&e.ref!==t)&&(n.flags|=512,n.flags|=2097152)}function Io(e,n,t,r,a){var s=Da(t)?Ea:_a.current;return s=Oa(n,s),As(n,a),t=fi(e,n,t,r,s,a),r=gi(),null===e||xo?(as&&r&&es(n),n.flags|=1,yo(e,n,t,a),n.child):(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a,qo(e,n,a))}function Co(e,n,t,r,a){if(Da(t)){var s=!0;La(n)}else s=!1;if(As(n,a),null===n.stateNode)Uo(e,n),so(n,t,r),oo(n,t,r,a),r=!0;else if(null===e){var i=n.stateNode,o=n.memoizedProps;i.props=o;var l=i.context,c=t.contextType;c="object"==typeof c&&null!==c?Es(c):Oa(n,c=Da(t)?Ea:_a.current);var d=t.getDerivedStateFromProps,u="function"==typeof d||"function"==typeof i.getSnapshotBeforeUpdate;u||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(o!==r||l!==c)&&io(n,i,r,c),zs=!1;var p=n.memoizedState;i.state=p,Vs(n,r,i,a),l=n.memoizedState,o!==r||p!==l||Aa.current||zs?("function"==typeof d&&(to(n,t,d,r),l=n.memoizedState),(o=zs||ao(n,t,o,r,p,l,c))?(u||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||("function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"==typeof i.componentDidMount&&(n.flags|=4194308)):("function"==typeof i.componentDidMount&&(n.flags|=4194308),n.memoizedProps=r,n.memoizedState=l),i.props=r,i.state=l,i.context=c,r=o):("function"==typeof i.componentDidMount&&(n.flags|=4194308),r=!1)}else{i=n.stateNode,Rs(e,n),o=n.memoizedProps,c=n.type===n.elementType?o:no(n.type,o),i.props=c,u=n.pendingProps,p=i.context,l="object"==typeof(l=t.contextType)&&null!==l?Es(l):Oa(n,l=Da(t)?Ea:_a.current);var h=t.getDerivedStateFromProps;(d="function"==typeof h||"function"==typeof i.getSnapshotBeforeUpdate)||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(o!==u||p!==l)&&io(n,i,r,l),zs=!1,p=n.memoizedState,i.state=p,Vs(n,r,i,a);var m=n.memoizedState;o!==u||p!==m||Aa.current||zs?("function"==typeof h&&(to(n,t,h,r),m=n.memoizedState),(c=zs||ao(n,t,c,r,p,m,l)||!1)?(d||"function"!=typeof i.UNSAFE_componentWillUpdate&&"function"!=typeof i.componentWillUpdate||("function"==typeof i.componentWillUpdate&&i.componentWillUpdate(r,m,l),"function"==typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,m,l)),"function"==typeof i.componentDidUpdate&&(n.flags|=4),"function"==typeof i.getSnapshotBeforeUpdate&&(n.flags|=1024)):("function"!=typeof i.componentDidUpdate||o===e.memoizedProps&&p===e.memoizedState||(n.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&p===e.memoizedState||(n.flags|=1024),n.memoizedProps=r,n.memoizedState=m),i.props=r,i.state=m,i.context=l,r=c):("function"!=typeof i.componentDidUpdate||o===e.memoizedProps&&p===e.memoizedState||(n.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&p===e.memoizedState||(n.flags|=1024),r=!1)}return _o(e,n,t,r,s,a)}function _o(e,n,t,r,a,s){So(e,n);var i=!!(128&n.flags);if(!r&&!i)return a&&Ra(n,t,!1),qo(e,n,s);r=n.stateNode,bo.current=n;var o=i&&"function"!=typeof t.getDerivedStateFromError?null:r.render();return n.flags|=1,null!==e&&i?(n.child=ys(n,e.child,null,s),n.child=ys(n,null,o,s)):yo(e,n,o,s),n.memoizedState=r.state,a&&Ra(n,t,!0),n.child}function Ao(e){var n=e.stateNode;n.pendingContext?Ta(0,n.pendingContext,n.pendingContext!==n.context):n.context&&Ta(0,n.context,!1),Ys(e,n.containerInfo)}function Eo(e,n,t,r,a){return hs(),ms(a),n.flags|=256,yo(e,n,t,r),n.child}var Oo,Do,Po,To,zo={dehydrated:null,treeContext:null,retryLane:0};function Lo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ro(e,n,t){var r,a=n.pendingProps,i=Js.current,o=!1,l=!!(128&n.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&!!(2&i)),r?(o=!0,n.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),Ia(Js,1&i),null===e)return cs(n),null!==(e=n.memoizedState)&&null!==(e=e.dehydrated)?(1&n.mode?"$!"===e.data?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(l=a.children,e=a.fallback,o?(a=n.mode,o=n.child,l={mode:"hidden",children:l},1&a||null===o?o=Lc(l,a,0,null):(o.childLanes=0,o.pendingProps=l),e=zc(e,a,t,null),o.return=n,e.return=n,o.sibling=e,n.child=o,n.child.memoizedState=Lo(t),n.memoizedState=zo,e):Fo(n,l));if(null!==(i=e.memoizedState)&&null!==(r=i.dehydrated))return function(e,n,t,r,a,i,o){if(t)return 256&n.flags?(n.flags&=-257,Mo(e,n,o,r=co(Error(s(422))))):null!==n.memoizedState?(n.child=e.child,n.flags|=128,null):(i=r.fallback,a=n.mode,r=Lc({mode:"visible",children:r.children},a,0,null),(i=zc(i,a,o,null)).flags|=2,r.return=n,i.return=n,r.sibling=i,n.child=r,1&n.mode&&ys(n,e.child,null,o),n.child.memoizedState=Lo(o),n.memoizedState=zo,i);if(!(1&n.mode))return Mo(e,n,o,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var l=r.dgst;return r=l,Mo(e,n,o,r=co(i=Error(s(419)),r,void 0))}if(l=0!==(o&e.childLanes),xo||l){if(null!==(r=Al)){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|o))?0:a)&&a!==i.retryLane&&(i.retryLane=a,Ts(e,a),tc(r,e,a,-1))}return fc(),Mo(e,n,o,r=co(Error(s(421))))}return"$?"===a.data?(n.flags|=128,n.child=e.child,n=Cc.bind(null,e),a._reactRetry=n,null):(e=i.treeContext,rs=ca(a.nextSibling),ts=n,as=!0,ss=null,null!==e&&(Wa[Ha++]=Ka,Wa[Ha++]=Xa,Wa[Ha++]=Ya,Ka=e.id,Xa=e.overflow,Ya=n),(n=Fo(n,r.children)).flags|=4096,n)}(e,n,l,a,r,i,t);if(o){o=a.fallback,l=n.mode,r=(i=e.child).sibling;var c={mode:"hidden",children:a.children};return 1&l||n.child===i?(a=Pc(i,c)).subtreeFlags=14680064&i.subtreeFlags:((a=n.child).childLanes=0,a.pendingProps=c,n.deletions=null),null!==r?o=Pc(r,o):(o=zc(o,l,t,null)).flags|=2,o.return=n,a.return=n,a.sibling=o,n.child=a,a=o,o=n.child,l=null===(l=e.child.memoizedState)?Lo(t):{baseLanes:l.baseLanes|t,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~t,n.memoizedState=zo,a}return e=(o=e.child).sibling,a=Pc(o,{mode:"visible",children:a.children}),!(1&n.mode)&&(a.lanes=t),a.return=n,a.sibling=null,null!==e&&(null===(t=n.deletions)?(n.deletions=[e],n.flags|=16):t.push(e)),n.child=a,n.memoizedState=null,a}function Fo(e,n){return(n=Lc({mode:"visible",children:n},e.mode,0,null)).return=e,e.child=n}function Mo(e,n,t,r){return null!==r&&ms(r),ys(n,e.child,null,t),(e=Fo(n,n.pendingProps.children)).flags|=2,n.memoizedState=null,e}function $o(e,n,t){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n),_s(e.return,n,t)}function Bo(e,n,t,r,a){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:a}:(s.isBackwards=n,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=a)}function Vo(e,n,t){var r=n.pendingProps,a=r.revealOrder,s=r.tail;if(yo(e,n,r.children,t),2&(r=Js.current))r=1&r|2,n.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=n.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&$o(e,t,n);else if(19===e.tag)$o(e,t,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ia(Js,r),1&n.mode)switch(a){case"forwards":for(t=n.child,a=null;null!==t;)null!==(e=t.alternate)&&null===ei(e)&&(a=t),t=t.sibling;null===(t=a)?(a=n.child,n.child=null):(a=t.sibling,t.sibling=null),Bo(n,!1,a,t,s);break;case"backwards":for(t=null,a=n.child,n.child=null;null!==a;){if(null!==(e=a.alternate)&&null===ei(e)){n.child=a;break}e=a.sibling,a.sibling=t,t=a,a=e}Bo(n,!0,t,null,s);break;case"together":Bo(n,!1,null,null,void 0);break;default:n.memoizedState=null}else n.memoizedState=null;return n.child}function Uo(e,n){!(1&n.mode)&&null!==e&&(e.alternate=null,n.alternate=null,n.flags|=2)}function qo(e,n,t){if(null!==e&&(n.dependencies=e.dependencies),Ll|=n.lanes,0===(t&n.childLanes))return null;if(null!==e&&n.child!==e.child)throw Error(s(153));if(null!==n.child){for(t=Pc(e=n.child,e.pendingProps),n.child=t,t.return=n;null!==e.sibling;)e=e.sibling,(t=t.sibling=Pc(e,e.pendingProps)).return=n;t.sibling=null}return n.child}function Zo(e,n){if(!as)switch(e.tailMode){case"hidden":n=e.tail;for(var t=null;null!==n;)null!==n.alternate&&(t=n),n=n.sibling;null===t?e.tail=null:t.sibling=null;break;case"collapsed":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?n||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Qo(e){var n=null!==e.alternate&&e.alternate.child===e.child,t=0,r=0;if(n)for(var a=e.child;null!==a;)t|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)t|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=t,n}function Wo(e,n,t){var r=n.pendingProps;switch(ns(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qo(n),null;case 1:case 17:return Da(n.type)&&Pa(),Qo(n),null;case 3:return r=n.stateNode,Ks(),Sa(Aa),Sa(_a),ti(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(us(n)?n.flags|=4:null===e||e.memoizedState.isDehydrated&&!(256&n.flags)||(n.flags|=1024,null!==ss&&(ic(ss),ss=null))),Do(e,n),Qo(n),null;case 5:Gs(n);var a=Hs(Ws.current);if(t=n.type,null!==e&&null!=n.stateNode)Po(e,n,t,r,a),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!r){if(null===n.stateNode)throw Error(s(166));return Qo(n),null}if(e=Hs(Zs.current),us(n)){r=n.stateNode,t=n.type;var i=n.memoizedProps;switch(r[pa]=n,r[ha]=i,e=!!(1&n.mode),t){case"dialog":Mr("cancel",r),Mr("close",r);break;case"iframe":case"object":case"embed":Mr("load",r);break;case"video":case"audio":for(a=0;a<zr.length;a++)Mr(zr[a],r);break;case"source":Mr("error",r);break;case"img":case"image":case"link":Mr("error",r),Mr("load",r);break;case"details":Mr("toggle",r);break;case"input":K(r,i),Mr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Mr("invalid",r);break;case"textarea":ae(r,i),Mr("invalid",r)}for(var l in be(t,i),a=null,i)if(i.hasOwnProperty(l)){var c=i[l];"children"===l?"string"==typeof c?r.textContent!==c&&(!0!==i.suppressHydrationWarning&&Gr(r.textContent,c,e),a=["children",c]):"number"==typeof c&&r.textContent!==""+c&&(!0!==i.suppressHydrationWarning&&Gr(r.textContent,c,e),a=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Mr("scroll",r)}switch(t){case"input":Q(r),J(r,i,!0);break;case"textarea":Q(r),ie(r);break;case"select":case"option":break;default:"function"==typeof i.onClick&&(r.onclick=Jr)}r=a,n.updateQueue=r,null!==r&&(n.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(t)),"http://www.w3.org/1999/xhtml"===e?"script"===t?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=l.createElement(t,{is:r.is}):(e=l.createElement(t),"select"===t&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,t),e[pa]=n,e[ha]=r,Oo(e,n,!1,!1),n.stateNode=e;e:{switch(l=xe(t,r),t){case"dialog":Mr("cancel",e),Mr("close",e),a=r;break;case"iframe":case"object":case"embed":Mr("load",e),a=r;break;case"video":case"audio":for(a=0;a<zr.length;a++)Mr(zr[a],e);a=r;break;case"source":Mr("error",e),a=r;break;case"img":case"image":case"link":Mr("error",e),Mr("load",e),a=r;break;case"details":Mr("toggle",e),a=r;break;case"input":K(e,r),a=Y(e,r),Mr("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=R({},r,{value:void 0}),Mr("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),Mr("invalid",e)}for(i in be(t,a),c=a)if(c.hasOwnProperty(i)){var d=c[i];"style"===i?ge(e,d):"dangerouslySetInnerHTML"===i?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===i?"string"==typeof d?("textarea"!==t||""!==d)&&pe(e,d):"number"==typeof d&&pe(e,""+d):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(o.hasOwnProperty(i)?null!=d&&"onScroll"===i&&Mr("scroll",e):null!=d&&x(e,i,d,l))}switch(t){case"input":Q(e),J(e,r,!1);break;case"textarea":Q(e),ie(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(i=r.value)?te(e,!!r.multiple,i,!1):null!=r.defaultValue&&te(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof a.onClick&&(e.onclick=Jr)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(n.flags|=4)}null!==n.ref&&(n.flags|=512,n.flags|=2097152)}return Qo(n),null;case 6:if(e&&null!=n.stateNode)To(e,n,e.memoizedProps,r);else{if("string"!=typeof r&&null===n.stateNode)throw Error(s(166));if(t=Hs(Ws.current),Hs(Zs.current),us(n)){if(r=n.stateNode,t=n.memoizedProps,r[pa]=n,(i=r.nodeValue!==t)&&null!==(e=ts))switch(e.tag){case 3:Gr(r.nodeValue,t,!!(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Gr(r.nodeValue,t,!!(1&e.mode))}i&&(n.flags|=4)}else(r=(9===t.nodeType?t:t.ownerDocument).createTextNode(r))[pa]=n,n.stateNode=r}return Qo(n),null;case 13:if(Sa(Js),r=n.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(as&&null!==rs&&1&n.mode&&!(128&n.flags))ps(),hs(),n.flags|=98560,i=!1;else if(i=us(n),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(s(318));if(!(i=null!==(i=n.memoizedState)?i.dehydrated:null))throw Error(s(317));i[pa]=n}else hs(),!(128&n.flags)&&(n.memoizedState=null),n.flags|=4;Qo(n),i=!1}else null!==ss&&(ic(ss),ss=null),i=!0;if(!i)return 65536&n.flags?n:null}return 128&n.flags?(n.lanes=t,n):((r=null!==r)!=(null!==e&&null!==e.memoizedState)&&r&&(n.child.flags|=8192,1&n.mode&&(null===e||1&Js.current?0===Tl&&(Tl=3):fc())),null!==n.updateQueue&&(n.flags|=4),Qo(n),null);case 4:return Ks(),Do(e,n),null===e&&Vr(n.stateNode.containerInfo),Qo(n),null;case 10:return Cs(n.type._context),Qo(n),null;case 19:if(Sa(Js),null===(i=n.memoizedState))return Qo(n),null;if(r=!!(128&n.flags),null===(l=i.rendering))if(r)Zo(i,!1);else{if(0!==Tl||null!==e&&128&e.flags)for(e=n.child;null!==e;){if(null!==(l=ei(e))){for(n.flags|=128,Zo(i,!1),null!==(r=l.updateQueue)&&(n.updateQueue=r,n.flags|=4),n.subtreeFlags=0,r=t,t=n.child;null!==t;)e=r,(i=t).flags&=14680066,null===(l=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),t=t.sibling;return Ia(Js,1&Js.current|2),n.child}e=e.sibling}null!==i.tail&&Xe()>Vl&&(n.flags|=128,r=!0,Zo(i,!1),n.lanes=4194304)}else{if(!r)if(null!==(e=ei(l))){if(n.flags|=128,r=!0,null!==(t=e.updateQueue)&&(n.updateQueue=t,n.flags|=4),Zo(i,!0),null===i.tail&&"hidden"===i.tailMode&&!l.alternate&&!as)return Qo(n),null}else 2*Xe()-i.renderingStartTime>Vl&&1073741824!==t&&(n.flags|=128,r=!0,Zo(i,!1),n.lanes=4194304);i.isBackwards?(l.sibling=n.child,n.child=l):(null!==(t=i.last)?t.sibling=l:n.child=l,i.last=l)}return null!==i.tail?(n=i.tail,i.rendering=n,i.tail=n.sibling,i.renderingStartTime=Xe(),n.sibling=null,t=Js.current,Ia(Js,r?1&t|2:1&t),n):(Qo(n),null);case 22:case 23:return uc(),r=null!==n.memoizedState,null!==e&&null!==e.memoizedState!==r&&(n.flags|=8192),r&&1&n.mode?!!(1073741824&Dl)&&(Qo(n),6&n.subtreeFlags&&(n.flags|=8192)):Qo(n),null;case 24:case 25:return null}throw Error(s(156,n.tag))}function Ho(e,n){switch(ns(n),n.tag){case 1:return Da(n.type)&&Pa(),65536&(e=n.flags)?(n.flags=-65537&e|128,n):null;case 3:return Ks(),Sa(Aa),Sa(_a),ti(),65536&(e=n.flags)&&!(128&e)?(n.flags=-65537&e|128,n):null;case 5:return Gs(n),null;case 13:if(Sa(Js),null!==(e=n.memoizedState)&&null!==e.dehydrated){if(null===n.alternate)throw Error(s(340));hs()}return 65536&(e=n.flags)?(n.flags=-65537&e|128,n):null;case 19:return Sa(Js),null;case 4:return Ks(),null;case 10:return Cs(n.type._context),null;case 22:case 23:return uc(),null;default:return null}}Oo=function(e,n){for(var t=n.child;null!==t;){if(5===t.tag||6===t.tag)e.appendChild(t.stateNode);else if(4!==t.tag&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===n)break;for(;null===t.sibling;){if(null===t.return||t.return===n)return;t=t.return}t.sibling.return=t.return,t=t.sibling}},Do=function(){},Po=function(e,n,t,r){var a=e.memoizedProps;if(a!==r){e=n.stateNode,Hs(Zs.current);var s,i=null;switch(t){case"input":a=Y(e,a),r=Y(e,r),i=[];break;case"select":a=R({},a,{value:void 0}),r=R({},r,{value:void 0}),i=[];break;case"textarea":a=re(e,a),r=re(e,r),i=[];break;default:"function"!=typeof a.onClick&&"function"==typeof r.onClick&&(e.onclick=Jr)}for(d in be(t,r),t=null,a)if(!r.hasOwnProperty(d)&&a.hasOwnProperty(d)&&null!=a[d])if("style"===d){var l=a[d];for(s in l)l.hasOwnProperty(s)&&(t||(t={}),t[s]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(o.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(l=null!=a?a[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(t||(t={}),t[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(t||(t={}),t[s]=c[s])}else t||(i||(i=[]),i.push(d,t)),t=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(i=i||[]).push(d,c)):"children"===d?"string"!=typeof c&&"number"!=typeof c||(i=i||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(o.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Mr("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}t&&(i=i||[]).push("style",t);var d=i;(n.updateQueue=d)&&(n.flags|=4)}},To=function(e,n,t,r){t!==r&&(n.flags|=4)};var Yo=!1,Ko=!1,Xo="function"==typeof WeakSet?WeakSet:Set,Go=null;function Jo(e,n){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Nc(e,n,t)}else t.current=null}function el(e,n,t){try{t()}catch(t){Nc(e,n,t)}}var nl=!1;function tl(e,n,t){var r=n.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,void 0!==s&&el(n,t,s)}a=a.next}while(a!==r)}}function rl(e,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var t=n=n.next;do{if((t.tag&e)===e){var r=t.create;t.destroy=r()}t=t.next}while(t!==n)}}function al(e){var n=e.ref;if(null!==n){var t=e.stateNode;e.tag,e=t,"function"==typeof n?n(e):n.current=e}}function sl(e){var n=e.alternate;null!==n&&(e.alternate=null,sl(n)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(n=e.stateNode)&&(delete n[pa],delete n[ha],delete n[fa],delete n[ga],delete n[va]),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function il(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||il(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,n,t){var r=e.tag;if(5===r||6===r)e=e.stateNode,n?8===t.nodeType?t.parentNode.insertBefore(e,n):t.insertBefore(e,n):(8===t.nodeType?(n=t.parentNode).insertBefore(e,t):(n=t).appendChild(e),null!=(t=t._reactRootContainer)||null!==n.onclick||(n.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(ll(e,n,t),e=e.sibling;null!==e;)ll(e,n,t),e=e.sibling}function cl(e,n,t){var r=e.tag;if(5===r||6===r)e=e.stateNode,n?t.insertBefore(e,n):t.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,n,t),e=e.sibling;null!==e;)cl(e,n,t),e=e.sibling}var dl=null,ul=!1;function pl(e,n,t){for(t=t.child;null!==t;)hl(e,n,t),t=t.sibling}function hl(e,n,t){if(sn&&"function"==typeof sn.onCommitFiberUnmount)try{sn.onCommitFiberUnmount(an,t)}catch(e){}switch(t.tag){case 5:Ko||Jo(t,n);case 6:var r=dl,a=ul;dl=null,pl(e,n,t),ul=a,null!==(dl=r)&&(ul?(e=dl,t=t.stateNode,8===e.nodeType?e.parentNode.removeChild(t):e.removeChild(t)):dl.removeChild(t.stateNode));break;case 18:null!==dl&&(ul?(e=dl,t=t.stateNode,8===e.nodeType?la(e.parentNode,t):1===e.nodeType&&la(e,t),Un(e)):la(dl,t.stateNode));break;case 4:r=dl,a=ul,dl=t.stateNode.containerInfo,ul=!0,pl(e,n,t),dl=r,ul=a;break;case 0:case 11:case 14:case 15:if(!Ko&&null!==(r=t.updateQueue)&&null!==(r=r.lastEffect)){a=r=r.next;do{var s=a,i=s.destroy;s=s.tag,void 0!==i&&(2&s||4&s)&&el(t,n,i),a=a.next}while(a!==r)}pl(e,n,t);break;case 1:if(!Ko&&(Jo(t,n),"function"==typeof(r=t.stateNode).componentWillUnmount))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(e){Nc(t,n,e)}pl(e,n,t);break;case 21:pl(e,n,t);break;case 22:1&t.mode?(Ko=(r=Ko)||null!==t.memoizedState,pl(e,n,t),Ko=r):pl(e,n,t);break;default:pl(e,n,t)}}function ml(e){var n=e.updateQueue;if(null!==n){e.updateQueue=null;var t=e.stateNode;null===t&&(t=e.stateNode=new Xo),n.forEach(function(n){var r=_c.bind(null,e,n);t.has(n)||(t.add(n),n.then(r,r))})}}function fl(e,n){var t=n.deletions;if(null!==t)for(var r=0;r<t.length;r++){var a=t[r];try{var i=e,o=n,l=o;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,ul=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,ul=!0;break e}l=l.return}if(null===dl)throw Error(s(160));hl(i,o,a),dl=null,ul=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(e){Nc(a,n,e)}}if(12854&n.subtreeFlags)for(n=n.child;null!==n;)gl(n,e),n=n.sibling}function gl(e,n){var t=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fl(n,e),vl(e),4&r){try{tl(3,e,e.return),rl(3,e)}catch(n){Nc(e,e.return,n)}try{tl(5,e,e.return)}catch(n){Nc(e,e.return,n)}}break;case 1:fl(n,e),vl(e),512&r&&null!==t&&Jo(t,t.return);break;case 5:if(fl(n,e),vl(e),512&r&&null!==t&&Jo(t,t.return),32&e.flags){var a=e.stateNode;try{pe(a,"")}catch(n){Nc(e,e.return,n)}}if(4&r&&null!=(a=e.stateNode)){var i=e.memoizedProps,o=null!==t?t.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===i.type&&null!=i.name&&X(a,i),xe(l,o);var d=xe(l,i);for(o=0;o<c.length;o+=2){var u=c[o],p=c[o+1];"style"===u?ge(a,p):"dangerouslySetInnerHTML"===u?ue(a,p):"children"===u?pe(a,p):x(a,u,p,d)}switch(l){case"input":G(a,i);break;case"textarea":se(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;null!=m?te(a,!!i.multiple,m,!1):h!==!!i.multiple&&(null!=i.defaultValue?te(a,!!i.multiple,i.defaultValue,!0):te(a,!!i.multiple,i.multiple?[]:"",!1))}a[ha]=i}catch(n){Nc(e,e.return,n)}}break;case 6:if(fl(n,e),vl(e),4&r){if(null===e.stateNode)throw Error(s(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(n){Nc(e,e.return,n)}}break;case 3:if(fl(n,e),vl(e),4&r&&null!==t&&t.memoizedState.isDehydrated)try{Un(n.containerInfo)}catch(n){Nc(e,e.return,n)}break;case 4:default:fl(n,e),vl(e);break;case 13:fl(n,e),vl(e),8192&(a=e.child).flags&&(i=null!==a.memoizedState,a.stateNode.isHidden=i,!i||null!==a.alternate&&null!==a.alternate.memoizedState||(Bl=Xe())),4&r&&ml(e);break;case 22:if(u=null!==t&&null!==t.memoizedState,1&e.mode?(Ko=(d=Ko)||u,fl(n,e),Ko=d):fl(n,e),vl(e),8192&r){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&1&e.mode)for(Go=e,u=e.child;null!==u;){for(p=Go=u;null!==Go;){switch(m=(h=Go).child,h.tag){case 0:case 11:case 14:case 15:tl(4,h,h.return);break;case 1:Jo(h,h.return);var f=h.stateNode;if("function"==typeof f.componentWillUnmount){r=h,t=h.return;try{n=r,f.props=n.memoizedProps,f.state=n.memoizedState,f.componentWillUnmount()}catch(e){Nc(r,t,e)}}break;case 5:Jo(h,h.return);break;case 22:if(null!==h.memoizedState){wl(p);continue}}null!==m?(m.return=h,Go=m):wl(p)}u=u.sibling}e:for(u=null,p=e;;){if(5===p.tag){if(null===u){u=p;try{a=p.stateNode,d?"function"==typeof(i=a.style).setProperty?i.setProperty("display","none","important"):i.display="none":(l=p.stateNode,o=null!=(c=p.memoizedProps.style)&&c.hasOwnProperty("display")?c.display:null,l.style.display=fe("display",o))}catch(n){Nc(e,e.return,n)}}}else if(6===p.tag){if(null===u)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(n){Nc(e,e.return,n)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===e)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;null===p.sibling;){if(null===p.return||p.return===e)break e;u===p&&(u=null),p=p.return}u===p&&(u=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:fl(n,e),vl(e),4&r&&ml(e);case 21:}}function vl(e){var n=e.flags;if(2&n){try{e:{for(var t=e.return;null!==t;){if(il(t)){var r=t;break e}t=t.return}throw Error(s(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(pe(a,""),r.flags&=-33),cl(e,ol(e),a);break;case 3:case 4:var i=r.stateNode.containerInfo;ll(e,ol(e),i);break;default:throw Error(s(161))}}catch(n){Nc(e,e.return,n)}e.flags&=-3}4096&n&&(e.flags&=-4097)}function bl(e,n,t){Go=e,xl(e,n,t)}function xl(e,n,t){for(var r=!!(1&e.mode);null!==Go;){var a=Go,s=a.child;if(22===a.tag&&r){var i=null!==a.memoizedState||Yo;if(!i){var o=a.alternate,l=null!==o&&null!==o.memoizedState||Ko;o=Yo;var c=Ko;if(Yo=i,(Ko=l)&&!c)for(Go=a;null!==Go;)l=(i=Go).child,22===i.tag&&null!==i.memoizedState?kl(a):null!==l?(l.return=i,Go=l):kl(a);for(;null!==s;)Go=s,xl(s,n,t),s=s.sibling;Go=a,Yo=o,Ko=c}yl(e)}else 8772&a.subtreeFlags&&null!==s?(s.return=a,Go=s):yl(e)}}function yl(e){for(;null!==Go;){var n=Go;if(8772&n.flags){var t=n.alternate;try{if(8772&n.flags)switch(n.tag){case 0:case 11:case 15:Ko||rl(5,n);break;case 1:var r=n.stateNode;if(4&n.flags&&!Ko)if(null===t)r.componentDidMount();else{var a=n.elementType===n.type?t.memoizedProps:no(n.type,t.memoizedProps);r.componentDidUpdate(a,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=n.updateQueue;null!==i&&Us(n,i,r);break;case 3:var o=n.updateQueue;if(null!==o){if(t=null,null!==n.child)switch(n.child.tag){case 5:case 1:t=n.child.stateNode}Us(n,o,t)}break;case 5:var l=n.stateNode;if(null===t&&4&n.flags){t=l;var c=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&t.focus();break;case"img":c.src&&(t.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===n.memoizedState){var d=n.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var p=u.dehydrated;null!==p&&Un(p)}}}break;default:throw Error(s(163))}Ko||512&n.flags&&al(n)}catch(e){Nc(n,n.return,e)}}if(n===e){Go=null;break}if(null!==(t=n.sibling)){t.return=n.return,Go=t;break}Go=n.return}}function wl(e){for(;null!==Go;){var n=Go;if(n===e){Go=null;break}var t=n.sibling;if(null!==t){t.return=n.return,Go=t;break}Go=n.return}}function kl(e){for(;null!==Go;){var n=Go;try{switch(n.tag){case 0:case 11:case 15:var t=n.return;try{rl(4,n)}catch(e){Nc(n,t,e)}break;case 1:var r=n.stateNode;if("function"==typeof r.componentDidMount){var a=n.return;try{r.componentDidMount()}catch(e){Nc(n,a,e)}}var s=n.return;try{al(n)}catch(e){Nc(n,s,e)}break;case 5:var i=n.return;try{al(n)}catch(e){Nc(n,i,e)}}}catch(e){Nc(n,n.return,e)}if(n===e){Go=null;break}var o=n.sibling;if(null!==o){o.return=n.return,Go=o;break}Go=n.return}}var jl,Nl=Math.ceil,Sl=y.ReactCurrentDispatcher,Il=y.ReactCurrentOwner,Cl=y.ReactCurrentBatchConfig,_l=0,Al=null,El=null,Ol=0,Dl=0,Pl=Na(0),Tl=0,zl=null,Ll=0,Rl=0,Fl=0,Ml=null,$l=null,Bl=0,Vl=1/0,Ul=null,ql=!1,Zl=null,Ql=null,Wl=!1,Hl=null,Yl=0,Kl=0,Xl=null,Gl=-1,Jl=0;function ec(){return 6&_l?Xe():-1!==Gl?Gl:Gl=Xe()}function nc(e){return 1&e.mode?2&_l&&0!==Ol?Ol&-Ol:null!==fs.transition?(0===Jl&&(Jl=gn()),Jl):0!==(e=yn)?e:e=void 0===(e=window.event)?16:Xn(e.type):1}function tc(e,n,t,r){if(50<Kl)throw Kl=0,Xl=null,Error(s(185));bn(e,t,r),2&_l&&e===Al||(e===Al&&(!(2&_l)&&(Rl|=t),4===Tl&&oc(e,Ol)),rc(e,r),1===t&&0===_l&&!(1&n.mode)&&(Vl=Xe()+500,Ma&&Va()))}function rc(e,n){var t=e.callbackNode;!function(e,n){for(var t=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-on(s),o=1<<i,l=a[i];-1===l?0!==(o&t)&&0===(o&r)||(a[i]=mn(o,n)):l<=n&&(e.expiredLanes|=o),s&=~o}}(e,n);var r=hn(e,e===Al?Ol:0);if(0===r)null!==t&&He(t),e.callbackNode=null,e.callbackPriority=0;else if(n=r&-r,e.callbackPriority!==n){if(null!=t&&He(t),1===n)0===e.tag?function(e){Ma=!0,Ba(e)}(lc.bind(null,e)):Ba(lc.bind(null,e)),ia(function(){!(6&_l)&&Va()}),t=null;else{switch(wn(r)){case 1:t=Je;break;case 4:t=en;break;case 16:default:t=nn;break;case 536870912:t=rn}t=Ac(t,ac.bind(null,e))}e.callbackPriority=n,e.callbackNode=t}}function ac(e,n){if(Gl=-1,Jl=0,6&_l)throw Error(s(327));var t=e.callbackNode;if(kc()&&e.callbackNode!==t)return null;var r=hn(e,e===Al?Ol:0);if(0===r)return null;if(30&r||0!==(r&e.expiredLanes)||n)n=gc(e,r);else{n=r;var a=_l;_l|=2;var i=mc();for(Al===e&&Ol===n||(Ul=null,Vl=Xe()+500,pc(e,n));;)try{bc();break}catch(n){hc(e,n)}Is(),Sl.current=i,_l=a,null!==El?n=0:(Al=null,Ol=0,n=Tl)}if(0!==n){if(2===n&&0!==(a=fn(e))&&(r=a,n=sc(e,a)),1===n)throw t=zl,pc(e,0),oc(e,r),rc(e,Xe()),t;if(6===n)oc(e,r);else{if(a=e.current.alternate,!(30&r||function(e){for(var n=e;;){if(16384&n.flags){var t=n.updateQueue;if(null!==t&&null!==(t=t.stores))for(var r=0;r<t.length;r++){var a=t[r],s=a.getSnapshot;a=a.value;try{if(!or(s(),a))return!1}catch(e){return!1}}}if(t=n.child,16384&n.subtreeFlags&&null!==t)t.return=n,n=t;else{if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}(a)||(n=gc(e,r),2===n&&(i=fn(e),0!==i&&(r=i,n=sc(e,i))),1!==n)))throw t=zl,pc(e,0),oc(e,r),rc(e,Xe()),t;switch(e.finishedWork=a,e.finishedLanes=r,n){case 0:case 1:throw Error(s(345));case 2:case 5:wc(e,$l,Ul);break;case 3:if(oc(e,r),(130023424&r)===r&&10<(n=Bl+500-Xe())){if(0!==hn(e,0))break;if(((a=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(wc.bind(null,e,$l,Ul),n);break}wc(e,$l,Ul);break;case 4:if(oc(e,r),(4194240&r)===r)break;for(n=e.eventTimes,a=-1;0<r;){var o=31-on(r);i=1<<o,(o=n[o])>a&&(a=o),r&=~i}if(r=a,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Nl(r/1960))-r)){e.timeoutHandle=ra(wc.bind(null,e,$l,Ul),r);break}wc(e,$l,Ul);break;default:throw Error(s(329))}}}return rc(e,Xe()),e.callbackNode===t?ac.bind(null,e):null}function sc(e,n){var t=Ml;return e.current.memoizedState.isDehydrated&&(pc(e,n).flags|=256),2!==(e=gc(e,n))&&(n=$l,$l=t,null!==n&&ic(n)),e}function ic(e){null===$l?$l=e:$l.push.apply($l,e)}function oc(e,n){for(n&=~Fl,n&=~Rl,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var t=31-on(n),r=1<<t;e[t]=-1,n&=~r}}function lc(e){if(6&_l)throw Error(s(327));kc();var n=hn(e,0);if(!(1&n))return rc(e,Xe()),null;var t=gc(e,n);if(0!==e.tag&&2===t){var r=fn(e);0!==r&&(n=r,t=sc(e,r))}if(1===t)throw t=zl,pc(e,0),oc(e,n),rc(e,Xe()),t;if(6===t)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,wc(e,$l,Ul),rc(e,Xe()),null}function cc(e,n){var t=_l;_l|=1;try{return e(n)}finally{0===(_l=t)&&(Vl=Xe()+500,Ma&&Va())}}function dc(e){null!==Hl&&0===Hl.tag&&!(6&_l)&&kc();var n=_l;_l|=1;var t=Cl.transition,r=yn;try{if(Cl.transition=null,yn=1,e)return e()}finally{yn=r,Cl.transition=t,!(6&(_l=n))&&Va()}}function uc(){Dl=Pl.current,Sa(Pl)}function pc(e,n){e.finishedWork=null,e.finishedLanes=0;var t=e.timeoutHandle;if(-1!==t&&(e.timeoutHandle=-1,aa(t)),null!==El)for(t=El.return;null!==t;){var r=t;switch(ns(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&Pa();break;case 3:Ks(),Sa(Aa),Sa(_a),ti();break;case 5:Gs(r);break;case 4:Ks();break;case 13:case 19:Sa(Js);break;case 10:Cs(r.type._context);break;case 22:case 23:uc()}t=t.return}if(Al=e,El=e=Pc(e.current,null),Ol=Dl=n,Tl=0,zl=null,Fl=Rl=Ll=0,$l=Ml=null,null!==Os){for(n=0;n<Os.length;n++)if(null!==(r=(t=Os[n]).interleaved)){t.interleaved=null;var a=r.next,s=t.pending;if(null!==s){var i=s.next;s.next=a,r.next=i}t.pending=r}Os=null}return e}function hc(e,n){for(;;){var t=El;try{if(Is(),ri.current=Xi,ci){for(var r=ii.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}ci=!1}if(si=0,li=oi=ii=null,di=!1,ui=0,Il.current=null,null===t||null===t.return){Tl=1,zl=n,El=null;break}e:{var i=e,o=t.return,l=t,c=n;if(n=Ol,l.flags|=32768,null!==c&&"object"==typeof c&&"function"==typeof c.then){var d=c,u=l,p=u.tag;if(!(1&u.mode||0!==p&&11!==p&&15!==p)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=go(o);if(null!==m){m.flags&=-257,vo(m,o,l,0,n),1&m.mode&&fo(i,d,n),c=d;var f=(n=m).updateQueue;if(null===f){var g=new Set;g.add(c),n.updateQueue=g}else f.add(c);break e}if(!(1&n)){fo(i,d,n),fc();break e}c=Error(s(426))}else if(as&&1&l.mode){var v=go(o);if(null!==v){!(65536&v.flags)&&(v.flags|=256),vo(v,o,l,0,n),ms(lo(c,l));break e}}i=c=lo(c,l),4!==Tl&&(Tl=2),null===Ml?Ml=[i]:Ml.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,n&=-n,i.lanes|=n,Bs(i,ho(0,c,n));break e;case 1:l=c;var b=i.type,x=i.stateNode;if(!(128&i.flags||"function"!=typeof b.getDerivedStateFromError&&(null===x||"function"!=typeof x.componentDidCatch||null!==Ql&&Ql.has(x)))){i.flags|=65536,n&=-n,i.lanes|=n,Bs(i,mo(i,l,n));break e}}i=i.return}while(null!==i)}yc(t)}catch(e){n=e,El===t&&null!==t&&(El=t=t.return);continue}break}}function mc(){var e=Sl.current;return Sl.current=Xi,null===e?Xi:e}function fc(){0!==Tl&&3!==Tl&&2!==Tl||(Tl=4),null===Al||!(268435455&Ll)&&!(268435455&Rl)||oc(Al,Ol)}function gc(e,n){var t=_l;_l|=2;var r=mc();for(Al===e&&Ol===n||(Ul=null,pc(e,n));;)try{vc();break}catch(n){hc(e,n)}if(Is(),_l=t,Sl.current=r,null!==El)throw Error(s(261));return Al=null,Ol=0,Tl}function vc(){for(;null!==El;)xc(El)}function bc(){for(;null!==El&&!Ye();)xc(El)}function xc(e){var n=jl(e.alternate,e,Dl);e.memoizedProps=e.pendingProps,null===n?yc(e):El=n,Il.current=null}function yc(e){var n=e;do{var t=n.alternate;if(e=n.return,32768&n.flags){if(null!==(t=Ho(t,n)))return t.flags&=32767,void(El=t);if(null===e)return Tl=6,void(El=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(t=Wo(t,n,Dl)))return void(El=t);if(null!==(n=n.sibling))return void(El=n);El=n=e}while(null!==n);0===Tl&&(Tl=5)}function wc(e,n,t){var r=yn,a=Cl.transition;try{Cl.transition=null,yn=1,function(e,n,t,r){do{kc()}while(null!==Hl);if(6&_l)throw Error(s(327));t=e.finishedWork;var a=e.finishedLanes;if(null===t)return null;if(e.finishedWork=null,e.finishedLanes=0,t===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var i=t.lanes|t.childLanes;if(function(e,n){var t=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<t;){var a=31-on(t),s=1<<a;n[a]=0,r[a]=-1,e[a]=-1,t&=~s}}(e,i),e===Al&&(El=Al=null,Ol=0),!(2064&t.subtreeFlags)&&!(2064&t.flags)||Wl||(Wl=!0,Ac(nn,function(){return kc(),null})),i=!!(15990&t.flags),15990&t.subtreeFlags||i){i=Cl.transition,Cl.transition=null;var o=yn;yn=1;var l=_l;_l|=4,Il.current=null,function(e,n){if(ea=Zn,hr(e=pr())){if("selectionStart"in e)var t={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(t=(t=e.ownerDocument)&&t.defaultView||window).getSelection&&t.getSelection();if(r&&0!==r.rangeCount){t=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{t.nodeType,i.nodeType}catch(e){t=null;break e}var o=0,l=-1,c=-1,d=0,u=0,p=e,h=null;n:for(;;){for(var m;p!==t||0!==a&&3!==p.nodeType||(l=o+a),p!==i||0!==r&&3!==p.nodeType||(c=o+r),3===p.nodeType&&(o+=p.nodeValue.length),null!==(m=p.firstChild);)h=p,p=m;for(;;){if(p===e)break n;if(h===t&&++d===a&&(l=o),h===i&&++u===r&&(c=o),null!==(m=p.nextSibling))break;h=(p=h).parentNode}p=m}t=-1===l||-1===c?null:{start:l,end:c}}else t=null}t=t||{start:0,end:0}}else t=null;for(na={focusedElem:e,selectionRange:t},Zn=!1,Go=n;null!==Go;)if(e=(n=Go).child,1028&n.subtreeFlags&&null!==e)e.return=n,Go=e;else for(;null!==Go;){n=Go;try{var f=n.alternate;if(1024&n.flags)switch(n.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var g=f.memoizedProps,v=f.memoizedState,b=n.stateNode,x=b.getSnapshotBeforeUpdate(n.elementType===n.type?g:no(n.type,g),v);b.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var y=n.stateNode.containerInfo;1===y.nodeType?y.textContent="":9===y.nodeType&&y.documentElement&&y.removeChild(y.documentElement);break;default:throw Error(s(163))}}catch(e){Nc(n,n.return,e)}if(null!==(e=n.sibling)){e.return=n.return,Go=e;break}Go=n.return}f=nl,nl=!1}(e,t),gl(t,e),mr(na),Zn=!!ea,na=ea=null,e.current=t,bl(t,e,a),Ke(),_l=l,yn=o,Cl.transition=i}else e.current=t;if(Wl&&(Wl=!1,Hl=e,Yl=a),0===(i=e.pendingLanes)&&(Ql=null),function(e){if(sn&&"function"==typeof sn.onCommitFiberRoot)try{sn.onCommitFiberRoot(an,e,void 0,!(128&~e.current.flags))}catch(e){}}(t.stateNode),rc(e,Xe()),null!==n)for(r=e.onRecoverableError,t=0;t<n.length;t++)r((a=n[t]).value,{componentStack:a.stack,digest:a.digest});if(ql)throw ql=!1,e=Zl,Zl=null,e;!!(1&Yl)&&0!==e.tag&&kc(),1&(i=e.pendingLanes)?e===Xl?Kl++:(Kl=0,Xl=e):Kl=0,Va()}(e,n,t,r)}finally{Cl.transition=a,yn=r}return null}function kc(){if(null!==Hl){var e=wn(Yl),n=Cl.transition,t=yn;try{if(Cl.transition=null,yn=16>e?16:e,null===Hl)var r=!1;else{if(e=Hl,Hl=null,Yl=0,6&_l)throw Error(s(331));var a=_l;for(_l|=4,Go=e.current;null!==Go;){var i=Go,o=i.child;if(16&Go.flags){var l=i.deletions;if(null!==l){for(var c=0;c<l.length;c++){var d=l[c];for(Go=d;null!==Go;){var u=Go;switch(u.tag){case 0:case 11:case 15:tl(8,u,i)}var p=u.child;if(null!==p)p.return=u,Go=p;else for(;null!==Go;){var h=(u=Go).sibling,m=u.return;if(sl(u),u===d){Go=null;break}if(null!==h){h.return=m,Go=h;break}Go=m}}}var f=i.alternate;if(null!==f){var g=f.child;if(null!==g){f.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Go=i}}if(2064&i.subtreeFlags&&null!==o)o.return=i,Go=o;else e:for(;null!==Go;){if(2048&(i=Go).flags)switch(i.tag){case 0:case 11:case 15:tl(9,i,i.return)}var b=i.sibling;if(null!==b){b.return=i.return,Go=b;break e}Go=i.return}}var x=e.current;for(Go=x;null!==Go;){var y=(o=Go).child;if(2064&o.subtreeFlags&&null!==y)y.return=o,Go=y;else e:for(o=x;null!==Go;){if(2048&(l=Go).flags)try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(e){Nc(l,l.return,e)}if(l===o){Go=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Go=w;break e}Go=l.return}}if(_l=a,Va(),sn&&"function"==typeof sn.onPostCommitFiberRoot)try{sn.onPostCommitFiberRoot(an,e)}catch(e){}r=!0}return r}finally{yn=t,Cl.transition=n}}return!1}function jc(e,n,t){e=Ms(e,n=ho(0,n=lo(t,n),1),1),n=ec(),null!==e&&(bn(e,1,n),rc(e,n))}function Nc(e,n,t){if(3===e.tag)jc(e,e,t);else for(;null!==n;){if(3===n.tag){jc(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Ql||!Ql.has(r))){n=Ms(n,e=mo(n,e=lo(t,e),1),1),e=ec(),null!==n&&(bn(n,1,e),rc(n,e));break}}n=n.return}}function Sc(e,n,t){var r=e.pingCache;null!==r&&r.delete(n),n=ec(),e.pingedLanes|=e.suspendedLanes&t,Al===e&&(Ol&t)===t&&(4===Tl||3===Tl&&(130023424&Ol)===Ol&&500>Xe()-Bl?pc(e,0):Fl|=t),rc(e,n)}function Ic(e,n){0===n&&(1&e.mode?(n=un,!(130023424&(un<<=1))&&(un=4194304)):n=1);var t=ec();null!==(e=Ts(e,n))&&(bn(e,n,t),rc(e,t))}function Cc(e){var n=e.memoizedState,t=0;null!==n&&(t=n.retryLane),Ic(e,t)}function _c(e,n){var t=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(t=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(n),Ic(e,t)}function Ac(e,n){return We(e,n)}function Ec(e,n,t,r){this.tag=e,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,n,t,r){return new Ec(e,n,t,r)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pc(e,n){var t=e.alternate;return null===t?((t=Oc(e.tag,n,e.key,e.mode)).elementType=e.elementType,t.type=e.type,t.stateNode=e.stateNode,t.alternate=e,e.alternate=t):(t.pendingProps=n,t.type=e.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=14680064&e.flags,t.childLanes=e.childLanes,t.lanes=e.lanes,t.child=e.child,t.memoizedProps=e.memoizedProps,t.memoizedState=e.memoizedState,t.updateQueue=e.updateQueue,n=e.dependencies,t.dependencies=null===n?null:{lanes:n.lanes,firstContext:n.firstContext},t.sibling=e.sibling,t.index=e.index,t.ref=e.ref,t}function Tc(e,n,t,r,a,i){var o=2;if(r=e,"function"==typeof e)Dc(e)&&(o=1);else if("string"==typeof e)o=5;else e:switch(e){case j:return zc(t.children,a,i,n);case N:o=8,a|=8;break;case S:return(e=Oc(12,t,n,2|a)).elementType=S,e.lanes=i,e;case A:return(e=Oc(13,t,n,a)).elementType=A,e.lanes=i,e;case E:return(e=Oc(19,t,n,a)).elementType=E,e.lanes=i,e;case P:return Lc(t,a,i,n);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case I:o=10;break e;case C:o=9;break e;case _:o=11;break e;case O:o=14;break e;case D:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(n=Oc(o,t,n,a)).elementType=e,n.type=r,n.lanes=i,n}function zc(e,n,t,r){return(e=Oc(7,e,r,n)).lanes=t,e}function Lc(e,n,t,r){return(e=Oc(22,e,r,n)).elementType=P,e.lanes=t,e.stateNode={isHidden:!1},e}function Rc(e,n,t){return(e=Oc(6,e,null,n)).lanes=t,e}function Fc(e,n,t){return(n=Oc(4,null!==e.children?e.children:[],e.key,n)).lanes=t,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Mc(e,n,t,r,a){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vn(0),this.expirationTimes=vn(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vn(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function $c(e,n,t,r,a,s,i,o,l){return e=new Mc(e,n,t,o,l),1===n?(n=1,!0===s&&(n|=8)):n=0,s=Oc(3,null,null,n),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ls(s),e}function Bc(e){if(!e)return Ca;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Da(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(null!==n);throw Error(s(171))}if(1===e.tag){var t=e.type;if(Da(t))return za(e,t,n)}return n}function Vc(e,n,t,r,a,s,i,o,l){return(e=$c(t,r,!0,e,0,s,0,o,l)).context=Bc(null),t=e.current,(s=Fs(r=ec(),a=nc(t))).callback=null!=n?n:null,Ms(t,s,a),e.current.lanes=a,bn(e,a,r),rc(e,r),e}function Uc(e,n,t,r){var a=n.current,s=ec(),i=nc(a);return t=Bc(t),null===n.context?n.context=t:n.pendingContext=t,(n=Fs(s,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(n.callback=r),null!==(e=Ms(a,n,i))&&(tc(e,a,i,s),$s(e,a,i)),i}function qc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Zc(e,n){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var t=e.retryLane;e.retryLane=0!==t&&t<n?t:n}}function Qc(e,n){Zc(e,n),(e=e.alternate)&&Zc(e,n)}jl=function(e,n,t){if(null!==e)if(e.memoizedProps!==n.pendingProps||Aa.current)xo=!0;else{if(0===(e.lanes&t)&&!(128&n.flags))return xo=!1,function(e,n,t){switch(n.tag){case 3:Ao(n),hs();break;case 5:Xs(n);break;case 1:Da(n.type)&&La(n);break;case 4:Ys(n,n.stateNode.containerInfo);break;case 10:var r=n.type._context,a=n.memoizedProps.value;Ia(ks,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=n.memoizedState))return null!==r.dehydrated?(Ia(Js,1&Js.current),n.flags|=128,null):0!==(t&n.child.childLanes)?Ro(e,n,t):(Ia(Js,1&Js.current),null!==(e=qo(e,n,t))?e.sibling:null);Ia(Js,1&Js.current);break;case 19:if(r=0!==(t&n.childLanes),128&e.flags){if(r)return Vo(e,n,t);n.flags|=128}if(null!==(a=n.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ia(Js,Js.current),r)break;return null;case 22:case 23:return n.lanes=0,No(e,n,t)}return qo(e,n,t)}(e,n,t);xo=!!(131072&e.flags)}else xo=!1,as&&1048576&n.flags&&Ja(n,Qa,n.index);switch(n.lanes=0,n.tag){case 2:var r=n.type;Uo(e,n),e=n.pendingProps;var a=Oa(n,_a.current);As(n,t),a=fi(null,n,r,e,a,t);var i=gi();return n.flags|=1,"object"==typeof a&&null!==a&&"function"==typeof a.render&&void 0===a.$$typeof?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Da(r)?(i=!0,La(n)):i=!1,n.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Ls(n),a.updater=ro,n.stateNode=a,a._reactInternals=n,oo(n,r,e,t),n=_o(null,n,r,!0,i,t)):(n.tag=0,as&&i&&es(n),yo(null,n,a,t),n=n.child),n;case 16:r=n.elementType;e:{switch(Uo(e,n),e=n.pendingProps,r=(a=r._init)(r._payload),n.type=r,a=n.tag=function(e){if("function"==typeof e)return Dc(e)?1:0;if(null!=e){if((e=e.$$typeof)===_)return 11;if(e===O)return 14}return 2}(r),e=no(r,e),a){case 0:n=Io(null,n,r,e,t);break e;case 1:n=Co(null,n,r,e,t);break e;case 11:n=wo(null,n,r,e,t);break e;case 14:n=ko(null,n,r,no(r.type,e),t);break e}throw Error(s(306,r,""))}return n;case 0:return r=n.type,a=n.pendingProps,Io(e,n,r,a=n.elementType===r?a:no(r,a),t);case 1:return r=n.type,a=n.pendingProps,Co(e,n,r,a=n.elementType===r?a:no(r,a),t);case 3:e:{if(Ao(n),null===e)throw Error(s(387));r=n.pendingProps,a=(i=n.memoizedState).element,Rs(e,n),Vs(n,r,null,t);var o=n.memoizedState;if(r=o.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},n.updateQueue.baseState=i,n.memoizedState=i,256&n.flags){n=Eo(e,n,r,t,a=lo(Error(s(423)),n));break e}if(r!==a){n=Eo(e,n,r,t,a=lo(Error(s(424)),n));break e}for(rs=ca(n.stateNode.containerInfo.firstChild),ts=n,as=!0,ss=null,t=ws(n,null,r,t),n.child=t;t;)t.flags=-3&t.flags|4096,t=t.sibling}else{if(hs(),r===a){n=qo(e,n,t);break e}yo(e,n,r,t)}n=n.child}return n;case 5:return Xs(n),null===e&&cs(n),r=n.type,a=n.pendingProps,i=null!==e?e.memoizedProps:null,o=a.children,ta(r,a)?o=null:null!==i&&ta(r,i)&&(n.flags|=32),So(e,n),yo(e,n,o,t),n.child;case 6:return null===e&&cs(n),null;case 13:return Ro(e,n,t);case 4:return Ys(n,n.stateNode.containerInfo),r=n.pendingProps,null===e?n.child=ys(n,null,r,t):yo(e,n,r,t),n.child;case 11:return r=n.type,a=n.pendingProps,wo(e,n,r,a=n.elementType===r?a:no(r,a),t);case 7:return yo(e,n,n.pendingProps,t),n.child;case 8:case 12:return yo(e,n,n.pendingProps.children,t),n.child;case 10:e:{if(r=n.type._context,a=n.pendingProps,i=n.memoizedProps,o=a.value,Ia(ks,r._currentValue),r._currentValue=o,null!==i)if(or(i.value,o)){if(i.children===a.children&&!Aa.current){n=qo(e,n,t);break e}}else for(null!==(i=n.child)&&(i.return=n);null!==i;){var l=i.dependencies;if(null!==l){o=i.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===i.tag){(c=Fs(-1,t&-t)).tag=2;var d=i.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=t,null!==(c=i.alternate)&&(c.lanes|=t),_s(i.return,t,n),l.lanes|=t;break}c=c.next}}else if(10===i.tag)o=i.type===n.type?null:i.child;else if(18===i.tag){if(null===(o=i.return))throw Error(s(341));o.lanes|=t,null!==(l=o.alternate)&&(l.lanes|=t),_s(o,t,n),o=i.sibling}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===n){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}yo(e,n,a.children,t),n=n.child}return n;case 9:return a=n.type,r=n.pendingProps.children,As(n,t),r=r(a=Es(a)),n.flags|=1,yo(e,n,r,t),n.child;case 14:return a=no(r=n.type,n.pendingProps),ko(e,n,r,a=no(r.type,a),t);case 15:return jo(e,n,n.type,n.pendingProps,t);case 17:return r=n.type,a=n.pendingProps,a=n.elementType===r?a:no(r,a),Uo(e,n),n.tag=1,Da(r)?(e=!0,La(n)):e=!1,As(n,t),so(n,r,a),oo(n,r,a,t),_o(null,n,r,!0,e,t);case 19:return Vo(e,n,t);case 22:return No(e,n,t)}throw Error(s(156,n.tag))};var Wc="function"==typeof reportError?reportError:function(e){console.error(e)};function Hc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Kc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Gc(){}function Jc(e,n,t,r,a){var s=t._reactRootContainer;if(s){var i=s;if("function"==typeof a){var o=a;a=function(){var e=qc(i);o.call(e)}}Uc(n,i,e,a)}else i=function(e,n,t,r,a){if(a){if("function"==typeof r){var s=r;r=function(){var e=qc(i);s.call(e)}}var i=Vc(n,r,e,0,null,!1,0,"",Gc);return e._reactRootContainer=i,e[ma]=i.current,Vr(8===e.nodeType?e.parentNode:e),dc(),i}for(;a=e.lastChild;)e.removeChild(a);if("function"==typeof r){var o=r;r=function(){var e=qc(l);o.call(e)}}var l=$c(e,0,!1,null,0,!1,0,"",Gc);return e._reactRootContainer=l,e[ma]=l.current,Vr(8===e.nodeType?e.parentNode:e),dc(function(){Uc(n,l,t,r)}),l}(t,n,e,a,r);return qc(i)}Yc.prototype.render=Hc.prototype.render=function(e){var n=this._internalRoot;if(null===n)throw Error(s(409));Uc(e,n,null,null)},Yc.prototype.unmount=Hc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var n=e.containerInfo;dc(function(){Uc(null,e,null,null)}),n[ma]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Sn();e={blockedOn:null,target:e,priority:n};for(var t=0;t<Tn.length&&0!==n&&n<Tn[t].priority;t++);Tn.splice(t,0,e),0===t&&Fn(e)}},kn=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var t=pn(n.pendingLanes);0!==t&&(xn(n,1|t),rc(n,Xe()),!(6&_l)&&(Vl=Xe()+500,Va()))}break;case 13:dc(function(){var n=Ts(e,1);if(null!==n){var t=ec();tc(n,e,1,t)}}),Qc(e,1)}},jn=function(e){if(13===e.tag){var n=Ts(e,134217728);null!==n&&tc(n,e,134217728,ec()),Qc(e,134217728)}},Nn=function(e){if(13===e.tag){var n=nc(e),t=Ts(e,n);null!==t&&tc(t,e,n,ec()),Qc(e,n)}},Sn=function(){return yn},In=function(e,n){var t=yn;try{return yn=e,n()}finally{yn=t}},ke=function(e,n,t){switch(n){case"input":if(G(e,t),n=t.name,"radio"===t.type&&null!=n){for(t=e;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<t.length;n++){var r=t[n];if(r!==e&&r.form===e.form){var a=wa(r);if(!a)throw Error(s(90));W(r),G(r,a)}}}break;case"textarea":se(e,t);break;case"select":null!=(n=t.value)&&te(e,!!t.multiple,n,!1)}},_e=cc,Ae=dc;var ed={usingClientEntryPoint:!1,Events:[xa,ya,wa,Ie,Ce,cc]},nd={findFiberByHostInstance:ba,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},td={bundleType:nd.bundleType,version:nd.version,rendererPackageName:nd.rendererPackageName,rendererConfig:nd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:nd.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rd.isDisabled&&rd.supportsFiber)try{an=rd.inject(td),sn=rd}catch(de){}}n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,n.createPortal=function(e,n){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Kc(n))throw Error(s(200));return function(e,n,t){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:n,implementation:t}}(e,n,null,t)},n.createRoot=function(e,n){if(!Kc(e))throw Error(s(299));var t=!1,r="",a=Wc;return null!=n&&(!0===n.unstable_strictMode&&(t=!0),void 0!==n.identifierPrefix&&(r=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),n=$c(e,1,!1,null,0,t,0,r,a),e[ma]=n.current,Vr(8===e.nodeType?e.parentNode:e),new Hc(n)},n.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var n=e._reactInternals;if(void 0===n){if("function"==typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return null===(e=Ze(n))?null:e.stateNode},n.flushSync=function(e){return dc(e)},n.hydrate=function(e,n,t){if(!Xc(n))throw Error(s(200));return Jc(null,e,n,!0,t)},n.hydrateRoot=function(e,n,t){if(!Kc(e))throw Error(s(405));var r=null!=t&&t.hydratedSources||null,a=!1,i="",o=Wc;if(null!=t&&(!0===t.unstable_strictMode&&(a=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),n=Vc(n,null,e,1,null!=t?t:null,a,0,i,o),e[ma]=n.current,Vr(e),r)for(e=0;e<r.length;e++)a=(a=(t=r[e])._getVersion)(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,a]:n.mutableSourceEagerHydrationData.push(t,a);return new Yc(n)},n.render=function(e,n,t){if(!Xc(n))throw Error(s(200));return Jc(null,e,n,!1,t)},n.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(s(40));return!!e._reactRootContainer&&(dc(function(){Jc(null,null,e,!1,function(){e._reactRootContainer=null,e[ma]=null})}),!0)},n.unstable_batchedUpdates=cc,n.unstable_renderSubtreeIntoContainer=function(e,n,t,r){if(!Xc(t))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Jc(e,n,t,!1,r)},n.version="18.3.1-next-f1338f8080-20240426"},601:e=>{e.exports=function(e){return e[1]}},659:e=>{var n={};e.exports=function(e,t){var r=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var n=e.insertStyleElement(e);return{update:function(t){!function(e,n,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var a=void 0!==t.layer;a&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,a&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var s=t.sourceMap;s&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),n.styleTagTransform(r,e,n.options)}(n,e,t)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}},848:(e,n,t)=>{e.exports=t(20)},961:(e,n,t)=>{!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=t(551)},982:(e,n,t)=>{e.exports=t(463)}},n={};function t(r){var a=n[r];if(void 0!==a)return a.exports;var s=n[r]={id:r,exports:{}};return e[r](s,s.exports,t),s.exports}t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),t.nc=void 0;var r=t(848),a=t(540),s=t(338);const i=[{id:"dashboard",label:"仪表板",icon:"📊"},{id:"inventory",label:"库存管理",icon:"📦",children:[{id:"inventory-overview",label:"库存概览",icon:"📋"},{id:"products",label:"商品管理",icon:"🏷️"},{id:"categories",label:"分类管理",icon:"📂"},{id:"warehouses",label:"仓库管理",icon:"🏭"},{id:"stock-in",label:"入库管理",icon:"📥"},{id:"stock-out",label:"出库管理",icon:"📤"},{id:"stock-adjust",label:"库存调整",icon:"⚖️"}]},{id:"purchase",label:"采购管理",icon:"🛒",children:[{id:"suppliers",label:"供应商管理",icon:"🏢"},{id:"purchase-orders",label:"采购订单",icon:"📋"},{id:"purchase-receipts",label:"采购收货",icon:"📦"}]},{id:"sales",label:"销售管理",icon:"💰",children:[{id:"customers",label:"客户管理",icon:"👥"},{id:"sales-orders",label:"销售订单",icon:"📝"},{id:"sales-delivery",label:"销售出库",icon:"🚚"}]},{id:"finance",label:"财务管理",icon:"💳",children:[{id:"accounts-payable",label:"应付账款",icon:"💸"},{id:"accounts-receivable",label:"应收账款",icon:"💰"},{id:"payments",label:"付款记录",icon:"🧾"},{id:"receipts",label:"收款记录",icon:"🧾"}]},{id:"reports",label:"报表分析",icon:"📈",children:[{id:"inventory-reports",label:"库存报表",icon:"📊"},{id:"sales-reports",label:"销售报表",icon:"📈"},{id:"purchase-reports",label:"采购报表",icon:"📉"},{id:"financial-reports",label:"财务报表",icon:"💹"}]},{id:"system",label:"系统管理",icon:"⚙️",children:[{id:"users",label:"用户管理",icon:"👤"},{id:"permissions",label:"权限管理",icon:"🔐"},{id:"settings",label:"系统设置",icon:"🔧"},{id:"logs",label:"操作日志",icon:"📋"}]}],o=({collapsed:e,onToggle:n,currentPage:t,onPageChange:s})=>{const[o,l]=a.useState(["inventory"]),c=e=>t===e.id||!!e.children&&e.children.some(e=>e.id===t);return(0,r.jsxs)("div",{className:"sidebar "+(e?"collapsed":""),children:[(0,r.jsx)("div",{className:"sidebar-header",children:(0,r.jsxs)("div",{className:"logo",children:[(0,r.jsx)("span",{className:"logo-icon",children:"📦"}),!e&&(0,r.jsxs)("div",{className:"logo-text",children:[(0,r.jsx)("h1",{children:"进销存系统"}),(0,r.jsx)("p",{children:"Inventory System"})]})]})}),(0,r.jsx)("nav",{className:"sidebar-nav",children:(0,r.jsx)("ul",{className:"nav-list",children:i.map(n=>(0,r.jsxs)("li",{className:"nav-item "+(o.includes(n.id)?"expanded":""),children:[(0,r.jsxs)("button",{className:"nav-link "+(c(n)?"active":""),onClick:()=>(n=>{var t;n.children&&n.children.length>0?(t=n.id,e||l(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t])):s(n.id)})(n),title:e?n.label:void 0,children:[(0,r.jsx)("span",{className:"nav-icon",children:n.icon}),!e&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"nav-label",children:n.label}),n.badge&&(0,r.jsx)("span",{className:"nav-badge",children:n.badge}),n.children&&n.children.length>0&&(0,r.jsx)("span",{className:"nav-arrow "+(o.includes(n.id)?"expanded":""),children:"⏷"})]})]}),n.children&&!e&&(0,r.jsx)("ul",{className:"nav-submenu",children:n.children.map(e=>(0,r.jsx)("li",{className:"nav-subitem",children:(0,r.jsxs)("button",{type:"button",className:"nav-sublink "+(t===e.id?"active":""),onClick:()=>s(e.id),children:[(0,r.jsx)("span",{className:"nav-subicon",children:e.icon}),(0,r.jsx)("span",{className:"nav-sublabel",children:e.label}),e.badge&&(0,r.jsx)("span",{className:"nav-subbadge",children:e.badge})]})},e.id))})]},n.id))})}),!e&&(0,r.jsxs)("div",{className:"sidebar-footer",children:[(0,r.jsxs)("div",{className:"user-info",children:[(0,r.jsx)("div",{className:"user-avatar",children:"👤"}),(0,r.jsxs)("div",{className:"user-details",children:[(0,r.jsx)("div",{className:"user-name",children:"系统管理员"}),(0,r.jsx)("div",{className:"user-role",children:"Administrator"})]})]}),(0,r.jsxs)("div",{className:"system-info",children:[(0,r.jsxs)("div",{className:"system-status",children:[(0,r.jsx)("span",{className:"status-dot online"}),(0,r.jsx)("span",{className:"status-text",children:"系统正常"})]}),(0,r.jsx)("div",{className:"system-version",children:"v1.0.0"})]})]}),e&&(0,r.jsxs)("div",{className:"sidebar-footer-collapsed",children:[(0,r.jsx)("div",{className:"user-avatar-collapsed",children:"👤"}),(0,r.jsx)("div",{className:"status-dot online"})]})]})},l=[{name:"glass-future",displayName:"玻璃未来风",description:"透明玻璃感，科技未来风格",preview:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},{name:"dark-tech",displayName:"深色科技风",description:"深色背景，科技感界面",preview:"linear-gradient(135deg, #0c0c0c 0%, #1a1a1a 100%)"},{name:"warm-business",displayName:"温暖商务风",description:"温暖色调，商务专业风格",preview:"linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%)"}],c="inventory-system-theme";var d=t(72),u=t.n(d),p=t(825),h=t.n(p),m=t(659),f=t.n(m),g=t(56),v=t.n(g),b=t(159),x=t.n(b),y=t(113),w=t.n(y),k=t(250),j={};j.styleTagTransform=w(),j.setAttributes=v(),j.insert=f().bind(null,"head"),j.domAPI=h(),j.insertStyleElement=x(),u()(k.A,j),k.A&&k.A.locals&&k.A.locals;const N=({className:e})=>{const{currentTheme:n,switchTheme:t,availableThemes:s,getCurrentTheme:i}=(()=>{const[e,n]=(0,a.useState)("glass-future");(0,a.useEffect)(()=>{const e=localStorage.getItem(c);e&&l.find(n=>n.name===e)&&n(e),t(e||"glass-future")},[]);const t=e=>{document.documentElement.setAttribute("data-theme",e),document.body.className=`theme-${e}`},r=e=>{n(e),t(e),localStorage.setItem(c,e)};return{currentTheme:e,switchTheme:r,nextTheme:()=>{const n=(l.findIndex(n=>n.name===e)+1)%l.length;r(l[n].name)},getCurrentTheme:()=>l.find(n=>n.name===e)||l[0],availableThemes:l}})(),[o,d]=(0,a.useState)(!1),u=(0,a.useRef)(null);(0,a.useEffect)(()=>{const e=e=>{u.current&&!u.current.contains(e.target)&&d(!1)};if(o)return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[o]);const p=i();return(0,r.jsxs)("div",{className:`theme-switcher ${e||""}`,ref:u,children:[(0,r.jsxs)("button",{type:"button",className:"theme-toggle-button glass-button",onClick:()=>d(!o),title:"切换主题",children:[(0,r.jsx)("span",{className:"theme-icon",children:"🎨"}),(0,r.jsx)("span",{className:"theme-name",children:p.displayName}),(0,r.jsx)("span",{className:"dropdown-arrow "+(o?"open":""),children:"▼"})]}),o&&(0,r.jsxs)("div",{className:"theme-dropdown popup-dropdown",children:[(0,r.jsxs)("div",{className:"theme-dropdown-header popup-header",children:[(0,r.jsx)("h3",{children:"选择主题"}),(0,r.jsx)("button",{type:"button",className:"close-button glass-button",onClick:()=>d(!1),children:"✕"})]}),(0,r.jsx)("div",{className:"theme-list popup-content",children:s.map(e=>(0,r.jsxs)("div",{className:"theme-option "+(n===e.name?"active":""),onClick:()=>{return n=e.name,t(n),void d(!1);var n},children:[(0,r.jsx)("div",{className:"theme-preview",children:(0,r.jsx)("div",{className:"preview-gradient",style:{background:e.preview}})}),(0,r.jsxs)("div",{className:"theme-info",children:[(0,r.jsx)("h4",{className:"theme-title",children:e.displayName}),(0,r.jsx)("p",{className:"theme-description",children:e.description})]}),n===e.name&&(0,r.jsx)("div",{className:"active-indicator",children:"✓"})]},e.name))}),(0,r.jsx)("div",{className:"theme-footer",children:(0,r.jsx)("p",{className:"theme-tip",children:"💡 主题会自动保存到本地存储"})})]})]})},S={dashboard:{title:"仪表板",breadcrumb:["仪表板"]},"inventory-overview":{title:"库存概览",breadcrumb:["库存管理","库存概览"]},products:{title:"商品管理",breadcrumb:["库存管理","商品管理"]},categories:{title:"分类管理",breadcrumb:["库存管理","分类管理"]},warehouses:{title:"仓库管理",breadcrumb:["库存管理","仓库管理"]},"stock-in":{title:"入库管理",breadcrumb:["库存管理","入库管理"]},"stock-out":{title:"出库管理",breadcrumb:["库存管理","出库管理"]},"stock-adjust":{title:"库存调整",breadcrumb:["库存管理","库存调整"]},suppliers:{title:"供应商管理",breadcrumb:["采购管理","供应商管理"]},"purchase-orders":{title:"采购订单",breadcrumb:["采购管理","采购订单"]},"purchase-receipts":{title:"采购收货",breadcrumb:["采购管理","采购收货"]},customers:{title:"客户管理",breadcrumb:["销售管理","客户管理"]},"sales-orders":{title:"销售订单",breadcrumb:["销售管理","销售订单"]},"sales-delivery":{title:"销售出库",breadcrumb:["销售管理","销售出库"]},"accounts-payable":{title:"应付账款",breadcrumb:["财务管理","应付账款"]},"accounts-receivable":{title:"应收账款",breadcrumb:["财务管理","应收账款"]},payments:{title:"付款记录",breadcrumb:["财务管理","付款记录"]},receipts:{title:"收款记录",breadcrumb:["财务管理","收款记录"]},"inventory-reports":{title:"库存报表",breadcrumb:["报表分析","库存报表"]},"sales-reports":{title:"销售报表",breadcrumb:["报表分析","销售报表"]},"purchase-reports":{title:"采购报表",breadcrumb:["报表分析","采购报表"]},"financial-reports":{title:"财务报表",breadcrumb:["报表分析","财务报表"]},users:{title:"用户管理",breadcrumb:["系统管理","用户管理"]},permissions:{title:"权限管理",breadcrumb:["系统管理","权限管理"]},settings:{title:"系统设置",breadcrumb:["系统管理","系统设置"]},logs:{title:"操作日志",breadcrumb:["系统管理","操作日志"]}},I=({currentPage:e,onToggleSidebar:n,sidebarCollapsed:t})=>{const[s,i]=(0,a.useState)(""),[o,l]=(0,a.useState)(!1),[c,d]=(0,a.useState)(!1),u=(0,a.useRef)(null),p=(0,a.useRef)(null);(0,a.useEffect)(()=>{const e=e=>{u.current&&!u.current.contains(e.target)&&l(!1),p.current&&!p.current.contains(e.target)&&d(!1)};if(o||c)return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[o,c]);const h=S[e]||{title:"未知页面",breadcrumb:["未知页面"]};return(0,r.jsxs)("header",{className:"topbar",children:[(0,r.jsxs)("div",{className:"topbar-left",children:[(0,r.jsx)("button",{className:"mobile-menu-btn",onClick:n,children:"☰"}),(0,r.jsxs)("div",{className:"breadcrumb-title-wrapper",children:[(0,r.jsx)("nav",{className:"breadcrumb",children:h.breadcrumb.map((e,n)=>(0,r.jsxs)("span",{className:"breadcrumb-item",children:[n>0&&(0,r.jsx)("span",{className:"breadcrumb-separator",children:"/"}),(0,r.jsx)("span",{className:n===h.breadcrumb.length-1?"current":"",children:e})]},n))}),(0,r.jsx)("h1",{className:"page-title",children:h.title})]})]}),(0,r.jsx)("div",{className:"topbar-center",children:(0,r.jsx)("form",{className:"search-form",onSubmit:e=>{e.preventDefault(),console.log("搜索:",s)},children:(0,r.jsxs)("div",{className:"search-input-wrapper",children:[(0,r.jsx)("span",{className:"search-icon",children:"🔍"}),(0,r.jsx)("input",{type:"text",className:"search-input",placeholder:"搜索商品、订单、客户...",value:s,onChange:e=>i(e.target.value)}),s&&(0,r.jsx)("button",{type:"button",className:"search-clear",onClick:()=>i(""),children:"✕"})]})})}),(0,r.jsxs)("div",{className:"topbar-right",children:[(0,r.jsxs)("div",{className:"quick-actions",children:[(0,r.jsx)("button",{className:"quick-action-btn",title:"新增商品",children:"➕"}),(0,r.jsx)("button",{className:"quick-action-btn",title:"刷新数据",children:"🔄"}),(0,r.jsx)("button",{className:"quick-action-btn",title:"导出数据",children:"📊"})]}),(0,r.jsxs)("div",{className:"notification-wrapper",ref:u,children:[(0,r.jsxs)("button",{type:"button",className:"notification-btn",onClick:()=>l(!o),children:["🔔",(0,r.jsx)("span",{className:"notification-badge",children:"3"})]}),o&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"notification-dropdown popup-dropdown",children:[(0,r.jsxs)("div",{className:"notification-header popup-header",children:[(0,r.jsx)("h3",{children:"通知消息"}),(0,r.jsx)("button",{type:"button",className:"close-btn",onClick:()=>l(!1),children:"✕"})]}),(0,r.jsx)("div",{className:"notification-list popup-content",children:[{id:1,type:"warning",message:"有3个商品库存不足",time:"5分钟前"},{id:2,type:"info",message:"采购订单PO20240104已确认",time:"10分钟前"},{id:3,type:"success",message:"销售订单SO20240104已完成",time:"1小时前"}].map(e=>(0,r.jsx)("div",{className:`notification-item ${e.type}`,children:(0,r.jsxs)("div",{className:"notification-content",children:[(0,r.jsx)("p",{className:"notification-message",children:e.message}),(0,r.jsx)("span",{className:"notification-time secondary-text",children:e.time})]})},e.id))}),(0,r.jsx)("div",{className:"notification-footer",children:(0,r.jsx)("button",{type:"button",className:"view-all-btn",children:"查看全部"})})]}),(0,r.jsx)("div",{className:"popup-overlay",onClick:()=>l(!1)})]})]}),(0,r.jsxs)("div",{className:"user-menu-wrapper",ref:p,children:[(0,r.jsxs)("button",{type:"button",className:"user-menu-btn",onClick:()=>d(!c),children:[(0,r.jsx)("div",{className:"user-avatar",children:"👤"}),(0,r.jsx)("span",{className:"user-name",children:"管理员"}),(0,r.jsx)("span",{className:"dropdown-arrow",children:"⏷"})]}),c&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"user-dropdown popup-dropdown",children:[(0,r.jsxs)("div",{className:"user-info popup-header",children:[(0,r.jsx)("div",{className:"avatar-large",children:"👤"}),(0,r.jsxs)("div",{className:"user-details",children:[(0,r.jsx)("div",{className:"name user-name-primary",children:"系统管理员"}),(0,r.jsx)("div",{className:"role secondary-text",children:"Administrator"}),(0,r.jsx)("div",{className:"email tertiary-text",children:"admin@system.com"})]})]}),(0,r.jsx)("div",{className:"user-menu-divider"}),(0,r.jsxs)("ul",{className:"user-menu-list popup-content",children:[(0,r.jsx)("li",{children:(0,r.jsxs)("button",{type:"button",className:"user-menu-item",children:[(0,r.jsx)("span",{className:"menu-icon",children:"👤"}),"个人资料"]})}),(0,r.jsx)("li",{children:(0,r.jsxs)("button",{type:"button",className:"user-menu-item",children:[(0,r.jsx)("span",{className:"menu-icon",children:"⚙️"}),"系统设置"]})}),(0,r.jsx)("li",{children:(0,r.jsxs)("button",{type:"button",className:"user-menu-item",children:[(0,r.jsx)("span",{className:"menu-icon",children:"🔐"}),"修改密码"]})}),(0,r.jsx)("li",{children:(0,r.jsxs)("button",{type:"button",className:"user-menu-item",children:[(0,r.jsx)("span",{className:"menu-icon",children:"📋"}),"操作日志"]})}),(0,r.jsx)("li",{className:"menu-divider"}),(0,r.jsx)("li",{children:(0,r.jsxs)("button",{type:"button",className:"user-menu-item logout",children:[(0,r.jsx)("span",{className:"menu-icon",children:"🚪"}),"退出登录"]})})]})]}),(0,r.jsx)("div",{className:"popup-overlay",onClick:()=>d(!1)})]})]}),(0,r.jsx)(N,{}),(0,r.jsxs)("div",{className:"system-status",children:[(0,r.jsx)("span",{className:"status-indicator online"}),(0,r.jsx)("span",{className:"status-text",children:"在线"})]})]})]})};var C=t(268),_={};_.styleTagTransform=w(),_.setAttributes=v(),_.insert=f().bind(null,"head"),_.domAPI=h(),_.insertStyleElement=x(),u()(C.A,_),C.A&&C.A.locals&&C.A.locals;const A=({children:e})=>{const[n,t]=(0,a.useState)(!1),[s,i]=(0,a.useState)("dashboard");(0,a.useEffect)(()=>{const e=()=>{const e=window.location.hash.replace("#","");e&&i(e)};return e(),window.addEventListener("hashchange",e),()=>{window.removeEventListener("hashchange",e)}},[]);const l=()=>{t(!n)};return(0,r.jsxs)("div",{className:"app-layout",children:[(0,r.jsx)(o,{collapsed:n,onToggle:l,currentPage:s,onPageChange:e=>{i(e),window.location.hash=e}}),(0,r.jsxs)("div",{className:"main-layout "+(n?"sidebar-collapsed":""),children:[(0,r.jsx)(I,{currentPage:s,onToggleSidebar:l,sidebarCollapsed:n}),(0,r.jsx)("main",{className:"main-content",children:e})]})]})};var E,O,D,P,T,z,L,R,F,M,$,B,V,U,q,Z,Q,W,H,Y;!function(e){e.ACTIVE="active",e.INACTIVE="inactive",e.DISCONTINUED="discontinued"}(E||(E={})),function(e){e.IN="in",e.OUT="out",e.ADJUST="adjust"}(O||(O={})),function(e){e.A="A",e.B="B",e.C="C",e.D="D"}(D||(D={})),function(e){e.ACTIVE="active",e.INACTIVE="inactive"}(P||(P={})),function(e){e.DRAFT="draft",e.CONFIRMED="confirmed",e.PARTIAL="partial",e.COMPLETED="completed",e.CANCELLED="cancelled"}(T||(T={})),function(e){e.PENDING="pending",e.PARTIAL="partial",e.COMPLETED="completed"}(z||(z={})),function(e){e.DRAFT="draft",e.CONFIRMED="confirmed"}(L||(L={})),function(e){e.INDIVIDUAL="individual",e.COMPANY="company"}(R||(R={})),function(e){e.VIP="VIP",e.GOLD="Gold",e.SILVER="Silver",e.BRONZE="Bronze"}(F||(F={})),function(e){e.ACTIVE="active",e.INACTIVE="inactive"}(M||(M={})),function(e){e.DRAFT="draft",e.CONFIRMED="confirmed",e.SHIPPED="shipped",e.COMPLETED="completed",e.CANCELLED="cancelled"}($||($={})),function(e){e.UNPAID="unpaid",e.PARTIAL="partial",e.PAID="paid"}(B||(B={})),function(e){e.DRAFT="draft",e.CONFIRMED="confirmed",e.SHIPPED="shipped",e.COMPLETED="completed",e.CANCELLED="cancelled"}(V||(V={})),function(e){e.UNPAID="unpaid",e.PARTIAL="partial",e.PAID="paid",e.OVERDUE="overdue"}(U||(U={})),function(e){e.UNPAID="unpaid",e.PARTIAL="partial",e.PAID="paid",e.OVERDUE="overdue"}(q||(q={})),function(e){e.CASH="cash",e.BANK="bank",e.CHECK="check"}(Z||(Z={})),function(e){e.ADMIN="admin",e.PURCHASER="purchaser",e.SALESPERSON="salesperson",e.WAREHOUSE="warehouse",e.FINANCE="finance"}(Q||(Q={})),function(e){e.ACTIVE="active",e.INACTIVE="inactive",e.LOCKED="locked"}(W||(W={})),function(e){e.assertEqual=e=>{},e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=e=>{const n={};for(const t of e)n[t]=t;return n},e.getValidEnumValues=n=>{const t=e.objectKeys(n).filter(e=>"number"!=typeof n[n[e]]),r={};for(const e of t)r[e]=n[e];return e.objectValues(r)},e.objectValues=n=>e.objectKeys(n).map(function(e){return n[e]}),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{const n=[];for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push(t);return n},e.find=(e,n)=>{for(const t of e)if(n(t))return t},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&Number.isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,n=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(n)},e.jsonStringifyReplacer=(e,n)=>"bigint"==typeof n?n.toString():n}(H||(H={})),function(e){e.mergeShapes=(e,n)=>({...e,...n})}(Y||(Y={}));const K=H.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),X=e=>{switch(typeof e){case"undefined":return K.undefined;case"string":return K.string;case"number":return Number.isNaN(e)?K.nan:K.number;case"boolean":return K.boolean;case"function":return K.function;case"bigint":return K.bigint;case"symbol":return K.symbol;case"object":return Array.isArray(e)?K.array:null===e?K.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?K.promise:"undefined"!=typeof Map&&e instanceof Map?K.map:"undefined"!=typeof Set&&e instanceof Set?K.set:"undefined"!=typeof Date&&e instanceof Date?K.date:K.object;default:return K.unknown}},G=H.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class J extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(e){return e.message},t={_errors:[]},r=e=>{for(const a of e.issues)if("invalid_union"===a.code)a.unionErrors.map(r);else if("invalid_return_type"===a.code)r(a.returnTypeError);else if("invalid_arguments"===a.code)r(a.argumentsError);else if(0===a.path.length)t._errors.push(n(a));else{let e=t,r=0;for(;r<a.path.length;){const t=a.path[r];r===a.path.length-1?(e[t]=e[t]||{_errors:[]},e[t]._errors.push(n(a))):e[t]=e[t]||{_errors:[]},e=e[t],r++}}};return r(this),t}static assert(e){if(!(e instanceof J))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,H.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){const n={},t=[];for(const r of this.issues)if(r.path.length>0){const t=r.path[0];n[t]=n[t]||[],n[t].push(e(r))}else t.push(e(r));return{formErrors:t,fieldErrors:n}}get formErrors(){return this.flatten()}}J.create=e=>new J(e);const ee=(e,n)=>{let t;switch(e.code){case G.invalid_type:t=e.received===K.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case G.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(e.expected,H.jsonStringifyReplacer)}`;break;case G.unrecognized_keys:t=`Unrecognized key(s) in object: ${H.joinValues(e.keys,", ")}`;break;case G.invalid_union:t="Invalid input";break;case G.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${H.joinValues(e.options)}`;break;case G.invalid_enum_value:t=`Invalid enum value. Expected ${H.joinValues(e.options)}, received '${e.received}'`;break;case G.invalid_arguments:t="Invalid function arguments";break;case G.invalid_return_type:t="Invalid function return type";break;case G.invalid_date:t="Invalid date";break;case G.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(t=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(t=`${t} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?t=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?t=`Invalid input: must end with "${e.validation.endsWith}"`:H.assertNever(e.validation):t="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case G.too_small:t="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type||"bigint"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case G.too_big:t="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case G.custom:t="Invalid input";break;case G.invalid_intersection_types:t="Intersection results could not be merged";break;case G.not_multiple_of:t=`Number must be a multiple of ${e.multipleOf}`;break;case G.not_finite:t="Number must be finite";break;default:t=n.defaultError,H.assertNever(e)}return{message:t}};let ne=ee;var te;!function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:e?.message}(te||(te={}));function re(e,n){const t=ne,r=(e=>{const{data:n,path:t,errorMaps:r,issueData:a}=e,s=[...t,...a.path||[]],i={...a,path:s};if(void 0!==a.message)return{...a,path:s,message:a.message};let o="";const l=r.filter(e=>!!e).slice().reverse();for(const e of l)o=e(i,{data:n,defaultError:o}).message;return{...a,path:s,message:o}})({issueData:n,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,t,t===ee?void 0:ee].filter(e=>!!e)});e.common.issues.push(r)}class ae{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,n){const t=[];for(const r of n){if("aborted"===r.status)return se;"dirty"===r.status&&e.dirty(),t.push(r.value)}return{status:e.value,value:t}}static async mergeObjectAsync(e,n){const t=[];for(const e of n){const n=await e.key,r=await e.value;t.push({key:n,value:r})}return ae.mergeObjectSync(e,t)}static mergeObjectSync(e,n){const t={};for(const r of n){const{key:n,value:a}=r;if("aborted"===n.status)return se;if("aborted"===a.status)return se;"dirty"===n.status&&e.dirty(),"dirty"===a.status&&e.dirty(),"__proto__"===n.value||void 0===a.value&&!r.alwaysSet||(t[n.value]=a.value)}return{status:e.value,value:t}}}const se=Object.freeze({status:"aborted"}),ie=e=>({status:"dirty",value:e}),oe=e=>({status:"valid",value:e}),le=e=>"aborted"===e.status,ce=e=>"dirty"===e.status,de=e=>"valid"===e.status,ue=e=>"undefined"!=typeof Promise&&e instanceof Promise;class pe{constructor(e,n,t,r){this._cachedPath=[],this.parent=e,this.data=n,this._path=t,this._key=r}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const he=(e,n)=>{if(de(n))return{success:!0,data:n.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new J(e.common.issues);return this._error=n,this._error}}};function me(e){if(!e)return{};const{errorMap:n,invalid_type_error:t,required_error:r,description:a}=e;if(n&&(t||r))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return n?{errorMap:n,description:a}:{errorMap:(n,a)=>{const{message:s}=e;return"invalid_enum_value"===n.code?{message:s??a.defaultError}:void 0===a.data?{message:s??r??a.defaultError}:"invalid_type"!==n.code?{message:a.defaultError}:{message:s??t??a.defaultError}},description:a}}class fe{get description(){return this._def.description}_getType(e){return X(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:X(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new ae,ctx:{common:e.parent.common,data:e.data,parsedType:X(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(ue(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const t=this.safeParse(e,n);if(t.success)return t.data;throw t.error}safeParse(e,n){const t={common:{issues:[],async:n?.async??!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:X(e)},r=this._parseSync({data:e,path:t.path,parent:t});return he(t,r)}"~validate"(e){const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:X(e)};if(!this["~standard"].async)try{const t=this._parseSync({data:e,path:[],parent:n});return de(t)?{value:t.value}:{issues:n.common.issues}}catch(e){e?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(e=>de(e)?{value:e.value}:{issues:n.common.issues})}async parseAsync(e,n){const t=await this.safeParseAsync(e,n);if(t.success)return t.data;throw t.error}async safeParseAsync(e,n){const t={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:X(e)},r=this._parse({data:e,path:t.path,parent:t}),a=await(ue(r)?r:Promise.resolve(r));return he(t,a)}refine(e,n){const t=e=>"string"==typeof n||void 0===n?{message:n}:"function"==typeof n?n(e):n;return this._refinement((n,r)=>{const a=e(n),s=()=>r.addIssue({code:G.custom,...t(n)});return"undefined"!=typeof Promise&&a instanceof Promise?a.then(e=>!!e||(s(),!1)):!!a||(s(),!1)})}refinement(e,n){return this._refinement((t,r)=>!!e(t)||(r.addIssue("function"==typeof n?n(t,r):n),!1))}_refinement(e){return new mn({schema:this,typeName:jn.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return fn.create(this,this._def)}nullable(){return gn.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ge.create(this)}promise(){return hn.create(this,this._def)}or(e){return nn.create([this,e],this._def)}and(e){return rn.create(this,e,this._def)}transform(e){return new mn({...me(this._def),schema:this,typeName:jn.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n="function"==typeof e?e:()=>e;return new vn({...me(this._def),innerType:this,defaultValue:n,typeName:jn.ZodDefault})}brand(){return new yn({typeName:jn.ZodBranded,type:this,...me(this._def)})}catch(e){const n="function"==typeof e?e:()=>e;return new bn({...me(this._def),innerType:this,catchValue:n,typeName:jn.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return wn.create(this,e)}readonly(){return kn.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const ge=/^c[^\s-]{8,}$/i,ve=/^[0-9a-z]+$/,be=/^[0-9A-HJKMNP-TV-Z]{26}$/i,xe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,ye=/^[a-z0-9_-]{21}$/i,we=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,ke=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,je=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let Ne;const Se=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Ie=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Ce=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,_e=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Ae=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Ee=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Oe="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",De=new RegExp(`^${Oe}$`);function Pe(e){let n="[0-5]\\d";return e.precision?n=`${n}\\.\\d{${e.precision}}`:null==e.precision&&(n=`${n}(\\.\\d+)?`),`([01]\\d|2[0-3]):[0-5]\\d(:${n})${e.precision?"+":"?"}`}function Te(e){return new RegExp(`^${Pe(e)}$`)}function ze(e){let n=`${Oe}T${Pe(e)}`;const t=[];return t.push(e.local?"Z?":"Z"),e.offset&&t.push("([+-]\\d{2}:?\\d{2})"),n=`${n}(${t.join("|")})`,new RegExp(`^${n}$`)}function Le(e,n){return!("v4"!==n&&n||!Se.test(e))||!("v6"!==n&&n||!Ce.test(e))}function Re(e,n){if(!we.test(e))return!1;try{const[t]=e.split(".");if(!t)return!1;const r=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),a=JSON.parse(atob(r));return!("object"!=typeof a||null===a||"typ"in a&&"JWT"!==a?.typ||!a.alg||n&&a.alg!==n)}catch{return!1}}function Fe(e,n){return!("v4"!==n&&n||!Ie.test(e))||!("v6"!==n&&n||!_e.test(e))}class Me extends fe{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==K.string){const n=this._getOrReturnCtx(e);return re(n,{code:G.invalid_type,expected:K.string,received:n.parsedType}),se}const n=new ae;let t;for(const r of this._def.checks)if("min"===r.kind)e.data.length<r.value&&(t=this._getOrReturnCtx(e,t),re(t,{code:G.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),n.dirty());else if("max"===r.kind)e.data.length>r.value&&(t=this._getOrReturnCtx(e,t),re(t,{code:G.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),n.dirty());else if("length"===r.kind){const a=e.data.length>r.value,s=e.data.length<r.value;(a||s)&&(t=this._getOrReturnCtx(e,t),a?re(t,{code:G.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}):s&&re(t,{code:G.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}),n.dirty())}else if("email"===r.kind)je.test(e.data)||(t=this._getOrReturnCtx(e,t),re(t,{validation:"email",code:G.invalid_string,message:r.message}),n.dirty());else if("emoji"===r.kind)Ne||(Ne=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Ne.test(e.data)||(t=this._getOrReturnCtx(e,t),re(t,{validation:"emoji",code:G.invalid_string,message:r.message}),n.dirty());else if("uuid"===r.kind)xe.test(e.data)||(t=this._getOrReturnCtx(e,t),re(t,{validation:"uuid",code:G.invalid_string,message:r.message}),n.dirty());else if("nanoid"===r.kind)ye.test(e.data)||(t=this._getOrReturnCtx(e,t),re(t,{validation:"nanoid",code:G.invalid_string,message:r.message}),n.dirty());else if("cuid"===r.kind)ge.test(e.data)||(t=this._getOrReturnCtx(e,t),re(t,{validation:"cuid",code:G.invalid_string,message:r.message}),n.dirty());else if("cuid2"===r.kind)ve.test(e.data)||(t=this._getOrReturnCtx(e,t),re(t,{validation:"cuid2",code:G.invalid_string,message:r.message}),n.dirty());else if("ulid"===r.kind)be.test(e.data)||(t=this._getOrReturnCtx(e,t),re(t,{validation:"ulid",code:G.invalid_string,message:r.message}),n.dirty());else if("url"===r.kind)try{new URL(e.data)}catch{t=this._getOrReturnCtx(e,t),re(t,{validation:"url",code:G.invalid_string,message:r.message}),n.dirty()}else"regex"===r.kind?(r.regex.lastIndex=0,r.regex.test(e.data)||(t=this._getOrReturnCtx(e,t),re(t,{validation:"regex",code:G.invalid_string,message:r.message}),n.dirty())):"trim"===r.kind?e.data=e.data.trim():"includes"===r.kind?e.data.includes(r.value,r.position)||(t=this._getOrReturnCtx(e,t),re(t,{code:G.invalid_string,validation:{includes:r.value,position:r.position},message:r.message}),n.dirty()):"toLowerCase"===r.kind?e.data=e.data.toLowerCase():"toUpperCase"===r.kind?e.data=e.data.toUpperCase():"startsWith"===r.kind?e.data.startsWith(r.value)||(t=this._getOrReturnCtx(e,t),re(t,{code:G.invalid_string,validation:{startsWith:r.value},message:r.message}),n.dirty()):"endsWith"===r.kind?e.data.endsWith(r.value)||(t=this._getOrReturnCtx(e,t),re(t,{code:G.invalid_string,validation:{endsWith:r.value},message:r.message}),n.dirty()):"datetime"===r.kind?ze(r).test(e.data)||(t=this._getOrReturnCtx(e,t),re(t,{code:G.invalid_string,validation:"datetime",message:r.message}),n.dirty()):"date"===r.kind?De.test(e.data)||(t=this._getOrReturnCtx(e,t),re(t,{code:G.invalid_string,validation:"date",message:r.message}),n.dirty()):"time"===r.kind?Te(r).test(e.data)||(t=this._getOrReturnCtx(e,t),re(t,{code:G.invalid_string,validation:"time",message:r.message}),n.dirty()):"duration"===r.kind?ke.test(e.data)||(t=this._getOrReturnCtx(e,t),re(t,{validation:"duration",code:G.invalid_string,message:r.message}),n.dirty()):"ip"===r.kind?Le(e.data,r.version)||(t=this._getOrReturnCtx(e,t),re(t,{validation:"ip",code:G.invalid_string,message:r.message}),n.dirty()):"jwt"===r.kind?Re(e.data,r.alg)||(t=this._getOrReturnCtx(e,t),re(t,{validation:"jwt",code:G.invalid_string,message:r.message}),n.dirty()):"cidr"===r.kind?Fe(e.data,r.version)||(t=this._getOrReturnCtx(e,t),re(t,{validation:"cidr",code:G.invalid_string,message:r.message}),n.dirty()):"base64"===r.kind?Ae.test(e.data)||(t=this._getOrReturnCtx(e,t),re(t,{validation:"base64",code:G.invalid_string,message:r.message}),n.dirty()):"base64url"===r.kind?Ee.test(e.data)||(t=this._getOrReturnCtx(e,t),re(t,{validation:"base64url",code:G.invalid_string,message:r.message}),n.dirty()):H.assertNever(r);return{status:n.value,value:e.data}}_regex(e,n,t){return this.refinement(n=>e.test(n),{validation:n,code:G.invalid_string,...te.errToObj(t)})}_addCheck(e){return new Me({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...te.errToObj(e)})}url(e){return this._addCheck({kind:"url",...te.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...te.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...te.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...te.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...te.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...te.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...te.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...te.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...te.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...te.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...te.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...te.errToObj(e)})}datetime(e){return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===e?.precision?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...te.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===e?.precision?null:e?.precision,...te.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...te.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...te.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n?.position,...te.errToObj(n?.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...te.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...te.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...te.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...te.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...te.errToObj(n)})}nonempty(e){return this.min(1,te.errToObj(e))}trim(){return new Me({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Me({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Me({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(const n of this._def.checks)"min"===n.kind&&(null===e||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)"max"===n.kind&&(null===e||n.value<e)&&(e=n.value);return e}}function $e(e,n){const t=(e.toString().split(".")[1]||"").length,r=(n.toString().split(".")[1]||"").length,a=t>r?t:r;return Number.parseInt(e.toFixed(a).replace(".",""))%Number.parseInt(n.toFixed(a).replace(".",""))/10**a}Me.create=e=>new Me({checks:[],typeName:jn.ZodString,coerce:e?.coerce??!1,...me(e)});class Be extends fe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==K.number){const n=this._getOrReturnCtx(e);return re(n,{code:G.invalid_type,expected:K.number,received:n.parsedType}),se}let n;const t=new ae;for(const r of this._def.checks)"int"===r.kind?H.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),re(n,{code:G.invalid_type,expected:"integer",received:"float",message:r.message}),t.dirty()):"min"===r.kind?(r.inclusive?e.data<r.value:e.data<=r.value)&&(n=this._getOrReturnCtx(e,n),re(n,{code:G.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),t.dirty()):"max"===r.kind?(r.inclusive?e.data>r.value:e.data>=r.value)&&(n=this._getOrReturnCtx(e,n),re(n,{code:G.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),t.dirty()):"multipleOf"===r.kind?0!==$e(e.data,r.value)&&(n=this._getOrReturnCtx(e,n),re(n,{code:G.not_multiple_of,multipleOf:r.value,message:r.message}),t.dirty()):"finite"===r.kind?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),re(n,{code:G.not_finite,message:r.message}),t.dirty()):H.assertNever(r);return{status:t.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,te.toString(n))}gt(e,n){return this.setLimit("min",e,!1,te.toString(n))}lte(e,n){return this.setLimit("max",e,!0,te.toString(n))}lt(e,n){return this.setLimit("max",e,!1,te.toString(n))}setLimit(e,n,t,r){return new Be({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:t,message:te.toString(r)}]})}_addCheck(e){return new Be({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:te.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:te.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:te.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:te.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:te.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:te.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:te.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:te.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:te.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)"min"===n.kind&&(null===e||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)"max"===n.kind&&(null===e||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&H.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const t of this._def.checks){if("finite"===t.kind||"int"===t.kind||"multipleOf"===t.kind)return!0;"min"===t.kind?(null===n||t.value>n)&&(n=t.value):"max"===t.kind&&(null===e||t.value<e)&&(e=t.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Be.create=e=>new Be({checks:[],typeName:jn.ZodNumber,coerce:e?.coerce||!1,...me(e)});class Ve extends fe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==K.bigint)return this._getInvalidInput(e);let n;const t=new ae;for(const r of this._def.checks)"min"===r.kind?(r.inclusive?e.data<r.value:e.data<=r.value)&&(n=this._getOrReturnCtx(e,n),re(n,{code:G.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),t.dirty()):"max"===r.kind?(r.inclusive?e.data>r.value:e.data>=r.value)&&(n=this._getOrReturnCtx(e,n),re(n,{code:G.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),t.dirty()):"multipleOf"===r.kind?e.data%r.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),re(n,{code:G.not_multiple_of,multipleOf:r.value,message:r.message}),t.dirty()):H.assertNever(r);return{status:t.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return re(n,{code:G.invalid_type,expected:K.bigint,received:n.parsedType}),se}gte(e,n){return this.setLimit("min",e,!0,te.toString(n))}gt(e,n){return this.setLimit("min",e,!1,te.toString(n))}lte(e,n){return this.setLimit("max",e,!0,te.toString(n))}lt(e,n){return this.setLimit("max",e,!1,te.toString(n))}setLimit(e,n,t,r){return new Ve({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:t,message:te.toString(r)}]})}_addCheck(e){return new Ve({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:te.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:te.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:te.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:te.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:te.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)"min"===n.kind&&(null===e||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)"max"===n.kind&&(null===e||n.value<e)&&(e=n.value);return e}}Ve.create=e=>new Ve({checks:[],typeName:jn.ZodBigInt,coerce:e?.coerce??!1,...me(e)});class Ue extends fe{_parse(e){if(this._def.coerce&&(e.data=Boolean(e.data)),this._getType(e)!==K.boolean){const n=this._getOrReturnCtx(e);return re(n,{code:G.invalid_type,expected:K.boolean,received:n.parsedType}),se}return oe(e.data)}}Ue.create=e=>new Ue({typeName:jn.ZodBoolean,coerce:e?.coerce||!1,...me(e)});class qe extends fe{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==K.date){const n=this._getOrReturnCtx(e);return re(n,{code:G.invalid_type,expected:K.date,received:n.parsedType}),se}if(Number.isNaN(e.data.getTime()))return re(this._getOrReturnCtx(e),{code:G.invalid_date}),se;const n=new ae;let t;for(const r of this._def.checks)"min"===r.kind?e.data.getTime()<r.value&&(t=this._getOrReturnCtx(e,t),re(t,{code:G.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),n.dirty()):"max"===r.kind?e.data.getTime()>r.value&&(t=this._getOrReturnCtx(e,t),re(t,{code:G.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),n.dirty()):H.assertNever(r);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new qe({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:te.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:te.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)"min"===n.kind&&(null===e||n.value>e)&&(e=n.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)"max"===n.kind&&(null===e||n.value<e)&&(e=n.value);return null!=e?new Date(e):null}}qe.create=e=>new qe({checks:[],coerce:e?.coerce||!1,typeName:jn.ZodDate,...me(e)});class Ze extends fe{_parse(e){if(this._getType(e)!==K.symbol){const n=this._getOrReturnCtx(e);return re(n,{code:G.invalid_type,expected:K.symbol,received:n.parsedType}),se}return oe(e.data)}}Ze.create=e=>new Ze({typeName:jn.ZodSymbol,...me(e)});class Qe extends fe{_parse(e){if(this._getType(e)!==K.undefined){const n=this._getOrReturnCtx(e);return re(n,{code:G.invalid_type,expected:K.undefined,received:n.parsedType}),se}return oe(e.data)}}Qe.create=e=>new Qe({typeName:jn.ZodUndefined,...me(e)});class We extends fe{_parse(e){if(this._getType(e)!==K.null){const n=this._getOrReturnCtx(e);return re(n,{code:G.invalid_type,expected:K.null,received:n.parsedType}),se}return oe(e.data)}}We.create=e=>new We({typeName:jn.ZodNull,...me(e)});class He extends fe{constructor(){super(...arguments),this._any=!0}_parse(e){return oe(e.data)}}He.create=e=>new He({typeName:jn.ZodAny,...me(e)});class Ye extends fe{constructor(){super(...arguments),this._unknown=!0}_parse(e){return oe(e.data)}}Ye.create=e=>new Ye({typeName:jn.ZodUnknown,...me(e)});class Ke extends fe{_parse(e){const n=this._getOrReturnCtx(e);return re(n,{code:G.invalid_type,expected:K.never,received:n.parsedType}),se}}Ke.create=e=>new Ke({typeName:jn.ZodNever,...me(e)});class Xe extends fe{_parse(e){if(this._getType(e)!==K.undefined){const n=this._getOrReturnCtx(e);return re(n,{code:G.invalid_type,expected:K.void,received:n.parsedType}),se}return oe(e.data)}}Xe.create=e=>new Xe({typeName:jn.ZodVoid,...me(e)});class Ge extends fe{_parse(e){const{ctx:n,status:t}=this._processInputParams(e),r=this._def;if(n.parsedType!==K.array)return re(n,{code:G.invalid_type,expected:K.array,received:n.parsedType}),se;if(null!==r.exactLength){const e=n.data.length>r.exactLength.value,a=n.data.length<r.exactLength.value;(e||a)&&(re(n,{code:e?G.too_big:G.too_small,minimum:a?r.exactLength.value:void 0,maximum:e?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),t.dirty())}if(null!==r.minLength&&n.data.length<r.minLength.value&&(re(n,{code:G.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),t.dirty()),null!==r.maxLength&&n.data.length>r.maxLength.value&&(re(n,{code:G.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),t.dirty()),n.common.async)return Promise.all([...n.data].map((e,t)=>r.type._parseAsync(new pe(n,e,n.path,t)))).then(e=>ae.mergeArray(t,e));const a=[...n.data].map((e,t)=>r.type._parseSync(new pe(n,e,n.path,t)));return ae.mergeArray(t,a)}get element(){return this._def.type}min(e,n){return new Ge({...this._def,minLength:{value:e,message:te.toString(n)}})}max(e,n){return new Ge({...this._def,maxLength:{value:e,message:te.toString(n)}})}length(e,n){return new Ge({...this._def,exactLength:{value:e,message:te.toString(n)}})}nonempty(e){return this.min(1,e)}}function Je(e){if(e instanceof en){const n={};for(const t in e.shape){const r=e.shape[t];n[t]=fn.create(Je(r))}return new en({...e._def,shape:()=>n})}return e instanceof Ge?new Ge({...e._def,type:Je(e.element)}):e instanceof fn?fn.create(Je(e.unwrap())):e instanceof gn?gn.create(Je(e.unwrap())):e instanceof an?an.create(e.items.map(e=>Je(e))):e}Ge.create=(e,n)=>new Ge({type:e,minLength:null,maxLength:null,exactLength:null,typeName:jn.ZodArray,...me(n)});class en extends fe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),n=H.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==K.object){const n=this._getOrReturnCtx(e);return re(n,{code:G.invalid_type,expected:K.object,received:n.parsedType}),se}const{status:n,ctx:t}=this._processInputParams(e),{shape:r,keys:a}=this._getCached(),s=[];if(!(this._def.catchall instanceof Ke&&"strip"===this._def.unknownKeys))for(const e in t.data)a.includes(e)||s.push(e);const i=[];for(const e of a){const n=r[e],a=t.data[e];i.push({key:{status:"valid",value:e},value:n._parse(new pe(t,a,t.path,e)),alwaysSet:e in t.data})}if(this._def.catchall instanceof Ke){const e=this._def.unknownKeys;if("passthrough"===e)for(const e of s)i.push({key:{status:"valid",value:e},value:{status:"valid",value:t.data[e]}});else if("strict"===e)s.length>0&&(re(t,{code:G.unrecognized_keys,keys:s}),n.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const n of s){const r=t.data[n];i.push({key:{status:"valid",value:n},value:e._parse(new pe(t,r,t.path,n)),alwaysSet:n in t.data})}}return t.common.async?Promise.resolve().then(async()=>{const e=[];for(const n of i){const t=await n.key,r=await n.value;e.push({key:t,value:r,alwaysSet:n.alwaysSet})}return e}).then(e=>ae.mergeObjectSync(n,e)):ae.mergeObjectSync(n,i)}get shape(){return this._def.shape()}strict(e){return te.errToObj,new en({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(n,t)=>{const r=this._def.errorMap?.(n,t).message??t.defaultError;return"unrecognized_keys"===n.code?{message:te.errToObj(e).message??r}:{message:r}}}:{}})}strip(){return new en({...this._def,unknownKeys:"strip"})}passthrough(){return new en({...this._def,unknownKeys:"passthrough"})}extend(e){return new en({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new en({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:jn.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new en({...this._def,catchall:e})}pick(e){const n={};for(const t of H.objectKeys(e))e[t]&&this.shape[t]&&(n[t]=this.shape[t]);return new en({...this._def,shape:()=>n})}omit(e){const n={};for(const t of H.objectKeys(this.shape))e[t]||(n[t]=this.shape[t]);return new en({...this._def,shape:()=>n})}deepPartial(){return Je(this)}partial(e){const n={};for(const t of H.objectKeys(this.shape)){const r=this.shape[t];e&&!e[t]?n[t]=r:n[t]=r.optional()}return new en({...this._def,shape:()=>n})}required(e){const n={};for(const t of H.objectKeys(this.shape))if(e&&!e[t])n[t]=this.shape[t];else{let e=this.shape[t];for(;e instanceof fn;)e=e._def.innerType;n[t]=e}return new en({...this._def,shape:()=>n})}keyof(){return dn(H.objectKeys(this.shape))}}en.create=(e,n)=>new en({shape:()=>e,unknownKeys:"strip",catchall:Ke.create(),typeName:jn.ZodObject,...me(n)}),en.strictCreate=(e,n)=>new en({shape:()=>e,unknownKeys:"strict",catchall:Ke.create(),typeName:jn.ZodObject,...me(n)}),en.lazycreate=(e,n)=>new en({shape:e,unknownKeys:"strip",catchall:Ke.create(),typeName:jn.ZodObject,...me(n)});class nn extends fe{_parse(e){const{ctx:n}=this._processInputParams(e),t=this._def.options;if(n.common.async)return Promise.all(t.map(async e=>{const t={...n,common:{...n.common,issues:[]},parent:null};return{result:await e._parseAsync({data:n.data,path:n.path,parent:t}),ctx:t}})).then(function(e){for(const n of e)if("valid"===n.result.status)return n.result;for(const t of e)if("dirty"===t.result.status)return n.common.issues.push(...t.ctx.common.issues),t.result;const t=e.map(e=>new J(e.ctx.common.issues));return re(n,{code:G.invalid_union,unionErrors:t}),se});{let e;const r=[];for(const a of t){const t={...n,common:{...n.common,issues:[]},parent:null},s=a._parseSync({data:n.data,path:n.path,parent:t});if("valid"===s.status)return s;"dirty"!==s.status||e||(e={result:s,ctx:t}),t.common.issues.length&&r.push(t.common.issues)}if(e)return n.common.issues.push(...e.ctx.common.issues),e.result;const a=r.map(e=>new J(e));return re(n,{code:G.invalid_union,unionErrors:a}),se}}get options(){return this._def.options}}function tn(e,n){const t=X(e),r=X(n);if(e===n)return{valid:!0,data:e};if(t===K.object&&r===K.object){const t=H.objectKeys(n),r=H.objectKeys(e).filter(e=>-1!==t.indexOf(e)),a={...e,...n};for(const t of r){const r=tn(e[t],n[t]);if(!r.valid)return{valid:!1};a[t]=r.data}return{valid:!0,data:a}}if(t===K.array&&r===K.array){if(e.length!==n.length)return{valid:!1};const t=[];for(let r=0;r<e.length;r++){const a=tn(e[r],n[r]);if(!a.valid)return{valid:!1};t.push(a.data)}return{valid:!0,data:t}}return t===K.date&&r===K.date&&+e===+n?{valid:!0,data:e}:{valid:!1}}nn.create=(e,n)=>new nn({options:e,typeName:jn.ZodUnion,...me(n)});class rn extends fe{_parse(e){const{status:n,ctx:t}=this._processInputParams(e),r=(e,r)=>{if(le(e)||le(r))return se;const a=tn(e.value,r.value);return a.valid?((ce(e)||ce(r))&&n.dirty(),{status:n.value,value:a.data}):(re(t,{code:G.invalid_intersection_types}),se)};return t.common.async?Promise.all([this._def.left._parseAsync({data:t.data,path:t.path,parent:t}),this._def.right._parseAsync({data:t.data,path:t.path,parent:t})]).then(([e,n])=>r(e,n)):r(this._def.left._parseSync({data:t.data,path:t.path,parent:t}),this._def.right._parseSync({data:t.data,path:t.path,parent:t}))}}rn.create=(e,n,t)=>new rn({left:e,right:n,typeName:jn.ZodIntersection,...me(t)});class an extends fe{_parse(e){const{status:n,ctx:t}=this._processInputParams(e);if(t.parsedType!==K.array)return re(t,{code:G.invalid_type,expected:K.array,received:t.parsedType}),se;if(t.data.length<this._def.items.length)return re(t,{code:G.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),se;!this._def.rest&&t.data.length>this._def.items.length&&(re(t,{code:G.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const r=[...t.data].map((e,n)=>{const r=this._def.items[n]||this._def.rest;return r?r._parse(new pe(t,e,t.path,n)):null}).filter(e=>!!e);return t.common.async?Promise.all(r).then(e=>ae.mergeArray(n,e)):ae.mergeArray(n,r)}get items(){return this._def.items}rest(e){return new an({...this._def,rest:e})}}an.create=(e,n)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new an({items:e,typeName:jn.ZodTuple,rest:null,...me(n)})};class sn extends fe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:t}=this._processInputParams(e);if(t.parsedType!==K.map)return re(t,{code:G.invalid_type,expected:K.map,received:t.parsedType}),se;const r=this._def.keyType,a=this._def.valueType,s=[...t.data.entries()].map(([e,n],s)=>({key:r._parse(new pe(t,e,t.path,[s,"key"])),value:a._parse(new pe(t,n,t.path,[s,"value"]))}));if(t.common.async){const e=new Map;return Promise.resolve().then(async()=>{for(const t of s){const r=await t.key,a=await t.value;if("aborted"===r.status||"aborted"===a.status)return se;"dirty"!==r.status&&"dirty"!==a.status||n.dirty(),e.set(r.value,a.value)}return{status:n.value,value:e}})}{const e=new Map;for(const t of s){const r=t.key,a=t.value;if("aborted"===r.status||"aborted"===a.status)return se;"dirty"!==r.status&&"dirty"!==a.status||n.dirty(),e.set(r.value,a.value)}return{status:n.value,value:e}}}}sn.create=(e,n,t)=>new sn({valueType:n,keyType:e,typeName:jn.ZodMap,...me(t)});class on extends fe{_parse(e){const{status:n,ctx:t}=this._processInputParams(e);if(t.parsedType!==K.set)return re(t,{code:G.invalid_type,expected:K.set,received:t.parsedType}),se;const r=this._def;null!==r.minSize&&t.data.size<r.minSize.value&&(re(t,{code:G.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),n.dirty()),null!==r.maxSize&&t.data.size>r.maxSize.value&&(re(t,{code:G.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),n.dirty());const a=this._def.valueType;function s(e){const t=new Set;for(const r of e){if("aborted"===r.status)return se;"dirty"===r.status&&n.dirty(),t.add(r.value)}return{status:n.value,value:t}}const i=[...t.data.values()].map((e,n)=>a._parse(new pe(t,e,t.path,n)));return t.common.async?Promise.all(i).then(e=>s(e)):s(i)}min(e,n){return new on({...this._def,minSize:{value:e,message:te.toString(n)}})}max(e,n){return new on({...this._def,maxSize:{value:e,message:te.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}on.create=(e,n)=>new on({valueType:e,minSize:null,maxSize:null,typeName:jn.ZodSet,...me(n)});class ln extends fe{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}ln.create=(e,n)=>new ln({getter:e,typeName:jn.ZodLazy,...me(n)});class cn extends fe{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return re(n,{received:n.data,code:G.invalid_literal,expected:this._def.value}),se}return{status:"valid",value:e.data}}get value(){return this._def.value}}function dn(e,n){return new un({values:e,typeName:jn.ZodEnum,...me(n)})}cn.create=(e,n)=>new cn({value:e,typeName:jn.ZodLiteral,...me(n)});class un extends fe{_parse(e){if("string"!=typeof e.data){const n=this._getOrReturnCtx(e),t=this._def.values;return re(n,{expected:H.joinValues(t),received:n.parsedType,code:G.invalid_type}),se}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),t=this._def.values;return re(n,{received:n.data,code:G.invalid_enum_value,options:t}),se}return oe(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return un.create(e,{...this._def,...n})}exclude(e,n=this._def){return un.create(this.options.filter(n=>!e.includes(n)),{...this._def,...n})}}un.create=dn;class pn extends fe{_parse(e){const n=H.getValidEnumValues(this._def.values),t=this._getOrReturnCtx(e);if(t.parsedType!==K.string&&t.parsedType!==K.number){const e=H.objectValues(n);return re(t,{expected:H.joinValues(e),received:t.parsedType,code:G.invalid_type}),se}if(this._cache||(this._cache=new Set(H.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const e=H.objectValues(n);return re(t,{received:t.data,code:G.invalid_enum_value,options:e}),se}return oe(e.data)}get enum(){return this._def.values}}pn.create=(e,n)=>new pn({values:e,typeName:jn.ZodNativeEnum,...me(n)});class hn extends fe{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==K.promise&&!1===n.common.async)return re(n,{code:G.invalid_type,expected:K.promise,received:n.parsedType}),se;const t=n.parsedType===K.promise?n.data:Promise.resolve(n.data);return oe(t.then(e=>this._def.type.parseAsync(e,{path:n.path,errorMap:n.common.contextualErrorMap})))}}hn.create=(e,n)=>new hn({type:e,typeName:jn.ZodPromise,...me(n)});class mn extends fe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===jn.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:t}=this._processInputParams(e),r=this._def.effect||null,a={addIssue:e=>{re(t,e),e.fatal?n.abort():n.dirty()},get path(){return t.path}};if(a.addIssue=a.addIssue.bind(a),"preprocess"===r.type){const e=r.transform(t.data,a);if(t.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===n.value)return se;const r=await this._def.schema._parseAsync({data:e,path:t.path,parent:t});return"aborted"===r.status?se:"dirty"===r.status||"dirty"===n.value?ie(r.value):r});{if("aborted"===n.value)return se;const r=this._def.schema._parseSync({data:e,path:t.path,parent:t});return"aborted"===r.status?se:"dirty"===r.status||"dirty"===n.value?ie(r.value):r}}if("refinement"===r.type){const e=e=>{const n=r.refinement(e,a);if(t.common.async)return Promise.resolve(n);if(n instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===t.common.async){const r=this._def.schema._parseSync({data:t.data,path:t.path,parent:t});return"aborted"===r.status?se:("dirty"===r.status&&n.dirty(),e(r.value),{status:n.value,value:r.value})}return this._def.schema._parseAsync({data:t.data,path:t.path,parent:t}).then(t=>"aborted"===t.status?se:("dirty"===t.status&&n.dirty(),e(t.value).then(()=>({status:n.value,value:t.value}))))}if("transform"===r.type){if(!1===t.common.async){const e=this._def.schema._parseSync({data:t.data,path:t.path,parent:t});if(!de(e))return se;const s=r.transform(e.value,a);if(s instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:s}}return this._def.schema._parseAsync({data:t.data,path:t.path,parent:t}).then(e=>de(e)?Promise.resolve(r.transform(e.value,a)).then(e=>({status:n.value,value:e})):se)}H.assertNever(r)}}mn.create=(e,n,t)=>new mn({schema:e,typeName:jn.ZodEffects,effect:n,...me(t)}),mn.createWithPreprocess=(e,n,t)=>new mn({schema:n,effect:{type:"preprocess",transform:e},typeName:jn.ZodEffects,...me(t)});class fn extends fe{_parse(e){return this._getType(e)===K.undefined?oe(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}fn.create=(e,n)=>new fn({innerType:e,typeName:jn.ZodOptional,...me(n)});class gn extends fe{_parse(e){return this._getType(e)===K.null?oe(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}gn.create=(e,n)=>new gn({innerType:e,typeName:jn.ZodNullable,...me(n)});class vn extends fe{_parse(e){const{ctx:n}=this._processInputParams(e);let t=n.data;return n.parsedType===K.undefined&&(t=this._def.defaultValue()),this._def.innerType._parse({data:t,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}vn.create=(e,n)=>new vn({innerType:e,typeName:jn.ZodDefault,defaultValue:"function"==typeof n.default?n.default:()=>n.default,...me(n)});class bn extends fe{_parse(e){const{ctx:n}=this._processInputParams(e),t={...n,common:{...n.common,issues:[]}},r=this._def.innerType._parse({data:t.data,path:t.path,parent:{...t}});return ue(r)?r.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new J(t.common.issues)},input:t.data})})):{status:"valid",value:"valid"===r.status?r.value:this._def.catchValue({get error(){return new J(t.common.issues)},input:t.data})}}removeCatch(){return this._def.innerType}}bn.create=(e,n)=>new bn({innerType:e,typeName:jn.ZodCatch,catchValue:"function"==typeof n.catch?n.catch:()=>n.catch,...me(n)});class xn extends fe{_parse(e){if(this._getType(e)!==K.nan){const n=this._getOrReturnCtx(e);return re(n,{code:G.invalid_type,expected:K.nan,received:n.parsedType}),se}return{status:"valid",value:e.data}}}xn.create=e=>new xn({typeName:jn.ZodNaN,...me(e)}),Symbol("zod_brand");class yn extends fe{_parse(e){const{ctx:n}=this._processInputParams(e),t=n.data;return this._def.type._parse({data:t,path:n.path,parent:n})}unwrap(){return this._def.type}}class wn extends fe{_parse(e){const{status:n,ctx:t}=this._processInputParams(e);if(t.common.async)return(async()=>{const e=await this._def.in._parseAsync({data:t.data,path:t.path,parent:t});return"aborted"===e.status?se:"dirty"===e.status?(n.dirty(),ie(e.value)):this._def.out._parseAsync({data:e.value,path:t.path,parent:t})})();{const e=this._def.in._parseSync({data:t.data,path:t.path,parent:t});return"aborted"===e.status?se:"dirty"===e.status?(n.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:t.path,parent:t})}}static create(e,n){return new wn({in:e,out:n,typeName:jn.ZodPipeline})}}class kn extends fe{_parse(e){const n=this._def.innerType._parse(e),t=e=>(de(e)&&(e.value=Object.freeze(e.value)),e);return ue(n)?n.then(e=>t(e)):t(n)}unwrap(){return this._def.innerType}}var jn;kn.create=(e,n)=>new kn({innerType:e,typeName:jn.ZodReadonly,...me(n)}),en.lazycreate,function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(jn||(jn={}));const Nn=Me.create,Sn=Be.create,In=(xn.create,Ve.create,Ue.create),Cn=qe.create,_n=(Ze.create,Qe.create,We.create,He.create,Ye.create,Ke.create,Xe.create,Ge.create),An=en.create,En=(en.strictCreate,nn.create,rn.create,an.create,sn.create,on.create,ln.create,cn.create,un.create,pn.create),On=(hn.create,mn.create,fn.create,gn.create,mn.createWithPreprocess,wn.create,Nn().uuid("无效的ID格式")),Dn=Cn(),Pn=Sn().min(0,"数值不能为负数"),Tn=Nn().min(1,"此字段不能为空"),zn=Nn().optional(),Ln=Nn().regex(/^1[3-9]\d{9}$/,"请输入有效的手机号码").optional(),Rn=Nn().email("请输入有效的邮箱地址").optional(),Fn=(An({id:On,createdAt:Dn,updatedAt:Dn}),An({id:On.optional(),sku:Nn().min(1,"SKU不能为空").max(50,"SKU长度不能超过50字符"),name:Nn().min(1,"商品名称不能为空").max(100,"商品名称长度不能超过100字符"),description:Nn().max(500,"商品描述长度不能超过500字符").optional(),categoryId:On,unitId:On,brand:Nn().max(50,"品牌长度不能超过50字符").optional(),model:Nn().max(50,"型号长度不能超过50字符").optional(),barcode:Nn().max(50,"条形码长度不能超过50字符").optional(),purchasePrice:Sn().min(0,"采购价不能为负数"),salePrice:Sn().min(0,"销售价不能为负数"),minStock:Sn().min(0,"最小库存不能为负数"),maxStock:Sn().min(0,"最大库存不能为负数"),status:En(E),images:_n(Nn().url("图片地址格式不正确")).optional(),createdAt:Dn.optional(),updatedAt:Dn.optional()}).refine(e=>e.maxStock>=e.minStock,{message:"最大库存不能小于最小库存",path:["maxStock"]}).refine(e=>e.salePrice>=e.purchasePrice,{message:"销售价不能低于采购价",path:["salePrice"]})),Mn=An({id:On.optional(),name:Nn().min(1,"分类名称不能为空").max(50,"分类名称长度不能超过50字符"),parentId:On.optional(),level:Sn().min(1).max(5,"分类层级不能超过5级"),sortOrder:Sn().min(0),isActive:In(),createdAt:Dn.optional(),updatedAt:Dn.optional()}),$n=An({id:On.optional(),name:Nn().min(1,"单位名称不能为空").max(20,"单位名称长度不能超过20字符"),symbol:Nn().min(1,"单位符号不能为空").max(10,"单位符号长度不能超过10字符"),precision:Sn().min(0).max(6,"精度不能超过6位小数"),createdAt:Dn.optional(),updatedAt:Dn.optional()}),Bn=An({id:On.optional(),code:Nn().min(1,"仓库编码不能为空").max(20,"仓库编码长度不能超过20字符"),name:Nn().min(1,"仓库名称不能为空").max(50,"仓库名称长度不能超过50字符"),address:Nn().max(200,"地址长度不能超过200字符").optional(),manager:Nn().max(20,"负责人姓名长度不能超过20字符").optional(),phone:Ln,isDefault:In(),createdAt:Dn.optional(),updatedAt:Dn.optional()}),Vn=An({id:On.optional(),productId:On,warehouseId:On,currentStock:Pn,availableStock:Pn,reservedStock:Pn,avgCost:Pn,lastInDate:Dn.optional(),lastOutDate:Dn.optional(),createdAt:Dn.optional(),updatedAt:Dn.optional()}).refine(e=>e.currentStock===e.availableStock+e.reservedStock,{message:"当前库存必须等于可用库存加预留库存",path:["currentStock"]}),Un=An({id:On.optional(),transactionNo:Nn().min(1,"流水单号不能为空"),productId:On,warehouseId:On,transactionType:En(O),quantity:Sn().refine(e=>0!==e,"数量不能为0"),unitPrice:Pn,totalAmount:Sn(),referenceType:zn,referenceId:On.optional(),remark:Nn().max(200,"备注长度不能超过200字符").optional(),operator:Tn,createdAt:Dn.optional(),updatedAt:Dn.optional()}),qn=An({id:On.optional(),code:Nn().min(1,"供应商编码不能为空").max(20,"供应商编码长度不能超过20字符"),name:Nn().min(1,"供应商名称不能为空").max(100,"供应商名称长度不能超过100字符"),contactPerson:Nn().max(20,"联系人姓名长度不能超过20字符").optional(),phone:Ln,email:Rn,address:Nn().max(200,"地址长度不能超过200字符").optional(),paymentTerms:Nn().max(100,"付款条件长度不能超过100字符").optional(),creditLimit:Pn,rating:En(D),status:En(P),createdAt:Dn.optional(),updatedAt:Dn.optional()}),Zn=An({id:On.optional(),orderNo:Nn().min(1,"订单编号不能为空"),supplierId:On,orderDate:Dn,expectedDate:Dn.optional(),status:En(T),totalAmount:Pn,discountAmount:Pn,taxAmount:Pn,finalAmount:Pn,remark:Nn().max(200,"备注长度不能超过200字符").optional(),creator:Tn,createdAt:Dn.optional(),updatedAt:Dn.optional()}).refine(e=>e.finalAmount===e.totalAmount-e.discountAmount+e.taxAmount,{message:"最终金额计算错误",path:["finalAmount"]}),Qn=An({id:On.optional(),orderId:On,productId:On,quantity:Sn().min(1,"采购数量必须大于0"),unitPrice:Sn().min(0,"单价不能为负数"),discountRate:Sn().min(0).max(1,"折扣率必须在0-1之间"),amount:Pn,receivedQuantity:Pn,status:En(z),createdAt:Dn.optional(),updatedAt:Dn.optional()}).refine(e=>e.receivedQuantity<=e.quantity,{message:"收货数量不能超过采购数量",path:["receivedQuantity"]}),Wn=An({id:On.optional(),code:Nn().min(1,"客户编码不能为空").max(20,"客户编码长度不能超过20字符"),name:Nn().min(1,"客户名称不能为空").max(100,"客户名称长度不能超过100字符"),contactPerson:Nn().max(20,"联系人姓名长度不能超过20字符").optional(),phone:Ln,email:Rn,address:Nn().max(200,"地址长度不能超过200字符").optional(),customerType:En(R),creditLimit:Pn,paymentTerms:Nn().max(100,"付款条件长度不能超过100字符").optional(),discountRate:Sn().min(0).max(1,"折扣率必须在0-1之间"),level:En(F),status:En(M),createdAt:Dn.optional(),updatedAt:Dn.optional()}),Hn=An({id:On.optional(),orderNo:Nn().min(1,"订单编号不能为空"),customerId:On,orderDate:Dn,deliveryDate:Dn.optional(),status:En($),totalAmount:Pn,discountAmount:Pn,taxAmount:Pn,finalAmount:Pn,paymentStatus:En(B),remark:Nn().max(200,"备注长度不能超过200字符").optional(),creator:Tn,createdAt:Dn.optional(),updatedAt:Dn.optional()}).refine(e=>e.finalAmount===e.totalAmount-e.discountAmount+e.taxAmount,{message:"最终金额计算错误",path:["finalAmount"]}),Yn=An({id:On.optional(),orderId:On,productId:On,quantity:Sn().min(1,"销售数量必须大于0"),unitPrice:Sn().min(0,"单价不能为负数"),discountRate:Sn().min(0).max(1,"折扣率必须在0-1之间"),amount:Pn,deliveredQuantity:Pn,status:En(z),createdAt:Dn.optional(),updatedAt:Dn.optional()}).refine(e=>e.deliveredQuantity<=e.quantity,{message:"配送数量不能超过销售数量",path:["deliveredQuantity"]}),Kn=(An({id:On.optional(),deliveryNo:Nn().min(1,"出库单号不能为空"),orderId:On,customerId:On,warehouseId:On,deliveryDate:Dn,status:En(V),totalQuantity:Pn,totalAmount:Pn,deliveryPerson:Tn,remark:Nn().max(200,"备注长度不能超过200字符").optional(),createdAt:Dn.optional(),updatedAt:Dn.optional()}),An({id:On.optional(),deliveryId:On,productId:On,orderItemId:On,quantity:Sn().min(1,"出库数量必须大于0"),unitPrice:Sn().min(0,"单价不能为负数"),amount:Pn,createdAt:Dn.optional(),updatedAt:Dn.optional()}).refine(e=>e.amount===e.quantity*e.unitPrice,{message:"金额计算错误",path:["amount"]}),An({id:On.optional(),billNo:Nn().min(1,"账单编号不能为空"),supplierId:On,orderId:On.optional(),billDate:Dn,dueDate:Dn,totalAmount:Pn,paidAmount:Pn,balanceAmount:Pn,status:En(U),createdAt:Dn.optional(),updatedAt:Dn.optional()}).refine(e=>e.balanceAmount===e.totalAmount-e.paidAmount,{message:"余额计算错误",path:["balanceAmount"]}).refine(e=>e.dueDate>=e.billDate,{message:"到期日期不能早于账单日期",path:["dueDate"]}),An({id:On.optional(),billNo:Nn().min(1,"账单编号不能为空"),customerId:On,orderId:On.optional(),billDate:Dn,dueDate:Dn,totalAmount:Pn,receivedAmount:Pn,balanceAmount:Pn,status:En(q),createdAt:Dn.optional(),updatedAt:Dn.optional()}).refine(e=>e.balanceAmount===e.totalAmount-e.receivedAmount,{message:"余额计算错误",path:["balanceAmount"]}).refine(e=>e.dueDate>=e.billDate,{message:"到期日期不能早于账单日期",path:["dueDate"]}),An({id:On.optional(),paymentNo:Nn().min(1,"付款单号不能为空"),payableId:On,paymentDate:Dn,paymentMethod:En(Z),amount:Sn().min(.01,"付款金额必须大于0"),remark:Nn().max(200,"备注长度不能超过200字符").optional(),operator:Tn,createdAt:Dn.optional(),updatedAt:Dn.optional()}),An({id:On.optional(),receiptNo:Nn().min(1,"收款单号不能为空"),receivableId:On,receiptDate:Dn,paymentMethod:En(Z),amount:Sn().min(.01,"收款金额必须大于0"),remark:Nn().max(200,"备注长度不能超过200字符").optional(),operator:Tn,createdAt:Dn.optional(),updatedAt:Dn.optional()}),An({id:On.optional(),username:Nn().min(3,"用户名至少3个字符").max(20,"用户名最多20个字符").regex(/^[a-zA-Z0-9_]+$/,"用户名只能包含字母、数字和下划线"),password:Nn().min(6,"密码至少6个字符").max(50,"密码最多50个字符"),nickname:Nn().min(1,"昵称不能为空").max(20,"昵称最多20个字符"),email:Rn,phone:Ln,avatar:Nn().url("头像地址格式不正确").optional(),role:En(Q),status:En(W),lastLoginAt:Dn.optional(),createdAt:Dn.optional(),updatedAt:Dn.optional()}),An({id:On.optional(),key:Nn().min(1,"配置键不能为空").max(50,"配置键长度不能超过50字符"),value:Nn().max(500,"配置值长度不能超过500字符"),description:Nn().max(200,"描述长度不能超过200字符").optional(),category:Nn().min(1,"分类不能为空").max(50,"分类长度不能超过50字符"),createdAt:Dn.optional(),updatedAt:Dn.optional()}),(e,n)=>{try{return{success:!0,data:e.parse(n)}}catch(e){return e instanceof J?{success:!1,errors:e.errors.map(e=>`${e.path.join(".")}: ${e.message}`)}:{success:!1,errors:["验证失败"]}}}),Xn={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let Gn;const Jn=new Uint8Array(16),et=[];for(let e=0;e<256;++e)et.push((e+256).toString(16).slice(1));const nt=function(e,n,t){if(Xn.randomUUID&&!n&&!e)return Xn.randomUUID();const r=(e=e||{}).random??e.rng?.()??function(){if(!Gn){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Gn=crypto.getRandomValues.bind(crypto)}return Gn(Jn)}();if(r.length<16)throw new Error("Random bytes length must be >= 16");if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,n){if((t=t||0)<0||t+16>n.length)throw new RangeError(`UUID byte range ${t}:${t+15} is out of buffer bounds`);for(let e=0;e<16;++e)n[t+e]=r[e];return n}return function(e,n=0){return(et[e[n+0]]+et[e[n+1]]+et[e[n+2]]+et[e[n+3]]+"-"+et[e[n+4]]+et[e[n+5]]+"-"+et[e[n+6]]+et[e[n+7]]+"-"+et[e[n+8]]+et[e[n+9]]+"-"+et[e[n+10]]+et[e[n+11]]+et[e[n+12]]+et[e[n+13]]+et[e[n+14]]+et[e[n+15]]).toLowerCase()}(r)};var tt=function(e,n,t,r){return new(t||(t=Promise))(function(a,s){function i(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var n;e.done?a(e.value):(n=e.value,n instanceof t?n:new t(function(e){e(n)})).then(i,o)}l((r=r.apply(e,n||[])).next())})};const rt=new class{constructor(){this.products=new Map,this.skuIndex=new Map}initialize(){return tt(this,void 0,void 0,function*(){console.log("Product service initialized")})}findAll(){return tt(this,void 0,void 0,function*(){return Array.from(this.products.values())})}findById(e){return tt(this,void 0,void 0,function*(){return this.products.get(e)||null})}findBySku(e){return tt(this,void 0,void 0,function*(){const n=this.skuIndex.get(e);return n&&this.products.get(n)||null})}findByCategory(e){return tt(this,void 0,void 0,function*(){return Array.from(this.products.values()).filter(n=>n.categoryId===e)})}findByStatus(e){return tt(this,void 0,void 0,function*(){return Array.from(this.products.values()).filter(n=>n.status===e)})}search(e){return tt(this,void 0,void 0,function*(){const n=e.toLowerCase().trim();return n?Array.from(this.products.values()).filter(e=>{var t,r,a;return e.name.toLowerCase().includes(n)||e.sku.toLowerCase().includes(n)||(null===(t=e.description)||void 0===t?void 0:t.toLowerCase().includes(n))||(null===(r=e.brand)||void 0===r?void 0:r.toLowerCase().includes(n))||(null===(a=e.model)||void 0===a?void 0:a.toLowerCase().includes(n))}):this.findAll()})}create(e){return tt(this,void 0,void 0,function*(){var n;const t=Kn(Fn,Object.assign(Object.assign({},e),{id:nt(),createdAt:new Date,updatedAt:new Date}));if(!t.success)throw new Error(`产品数据验证失败: ${null===(n=t.errors)||void 0===n?void 0:n.join(", ")}`);if(this.skuIndex.has(e.sku))throw new Error(`SKU "${e.sku}" 已存在`);const r=Object.assign(Object.assign({},e),{id:nt(),createdAt:new Date,updatedAt:new Date});return this.products.set(r.id,r),this.skuIndex.set(r.sku,r.id),r})}update(e,n){return tt(this,void 0,void 0,function*(){var t;const r=this.products.get(e);if(!r)throw new Error(`产品不存在: ${e}`);if(n.sku&&n.sku!==r.sku&&this.skuIndex.has(n.sku))throw new Error(`SKU "${n.sku}" 已存在`);const a=Object.assign(Object.assign(Object.assign({},r),n),{updatedAt:new Date}),s=Kn(Fn,a);if(!s.success)throw new Error(`产品数据验证失败: ${null===(t=s.errors)||void 0===t?void 0:t.join(", ")}`);return n.sku&&n.sku!==r.sku&&(this.skuIndex.delete(r.sku),this.skuIndex.set(n.sku,e)),this.products.set(e,a),a})}delete(e){return tt(this,void 0,void 0,function*(){const n=this.products.get(e);return!!n&&(this.products.delete(e),this.skuIndex.delete(n.sku),!0)})}bulkCreate(e){return tt(this,void 0,void 0,function*(){const n=[],t=[];for(let r=0;r<e.length;r++)try{const t=yield this.create(e[r]);n.push(t)}catch(e){t.push({index:r,error:e instanceof Error?e.message:"未知错误"})}return{created:n,errors:t}})}getLowStockProducts(){return tt(this,void 0,void 0,function*(){return[]})}getActiveProducts(){return tt(this,void 0,void 0,function*(){return this.findByStatus(E.ACTIVE)})}updateStatus(e,n){return tt(this,void 0,void 0,function*(){return this.update(e,{status:n})})}validateSku(e,n){return tt(this,void 0,void 0,function*(){const t=this.skuIndex.get(e);return!t||t===n})}getProductStats(){return tt(this,void 0,void 0,function*(){const e=yield this.findAll();return{total:e.length,active:e.filter(e=>e.status===E.ACTIVE).length,inactive:e.filter(e=>e.status===E.INACTIVE).length,discontinued:e.filter(e=>e.status===E.DISCONTINUED).length}})}};var at=function(e,n,t,r){return new(t||(t=Promise))(function(a,s){function i(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var n;e.done?a(e.value):(n=e.value,n instanceof t?n:new t(function(e){e(n)})).then(i,o)}l((r=r.apply(e,n||[])).next())})};const st=new class{constructor(){this.categories=new Map}initialize(){return at(this,void 0,void 0,function*(){console.log("Category service initialized"),0===this.categories.size&&(yield this.createDefaultCategories())})}createDefaultCategories(){return at(this,void 0,void 0,function*(){const e=[{name:"电子产品",level:1,sortOrder:1},{name:"办公用品",level:1,sortOrder:2},{name:"食品饮料",level:1,sortOrder:3},{name:"服装纺织",level:1,sortOrder:4},{name:"机械设备",level:1,sortOrder:5}];for(const n of e)try{yield this.create(Object.assign(Object.assign({},n),{isActive:!0}))}catch(e){console.warn("Failed to create default category:",e)}})}findAll(){return at(this,void 0,void 0,function*(){return Array.from(this.categories.values())})}findById(e){return at(this,void 0,void 0,function*(){return this.categories.get(e)||null})}findByParentId(e){return at(this,void 0,void 0,function*(){return Array.from(this.categories.values()).filter(n=>n.parentId===e)})}findRootCategories(){return at(this,void 0,void 0,function*(){return this.findByParentId(void 0)})}findActiveCategories(){return at(this,void 0,void 0,function*(){return Array.from(this.categories.values()).filter(e=>e.isActive)})}findByLevel(e){return at(this,void 0,void 0,function*(){return Array.from(this.categories.values()).filter(n=>n.level===e)})}buildCategoryTree(){return at(this,void 0,void 0,function*(){const e=yield this.findAll(),n=new Map;e.forEach(e=>{n.set(e.id,Object.assign(Object.assign({},e),{children:[]}))});const t=[];n.forEach(e=>{if(e.parentId){const t=n.get(e.parentId);t&&(t.children=t.children||[],t.children.push(e))}else t.push(e)});const r=e=>{e.sort((e,n)=>e.sortOrder-n.sortOrder),e.forEach(e=>{e.children&&r(e.children)})};return r(t),t})}create(e){return at(this,void 0,void 0,function*(){var n;if(e.parentId){const n=yield this.findById(e.parentId);if(!n)throw new Error(`父分类不存在: ${e.parentId}`);if(n.level>=5)throw new Error("分类层级不能超过5级");if(e.level!==n.level+1)throw new Error("分类层级设置错误")}else if(1!==e.level)throw new Error("根分类层级必须为1");const t=Object.assign(Object.assign({},e),{id:nt(),createdAt:new Date,updatedAt:new Date}),r=Kn(Mn,t);if(!r.success)throw new Error(`分类数据验证失败: ${null===(n=r.errors)||void 0===n?void 0:n.join(", ")}`);if((yield this.findByParentId(e.parentId)).some(n=>n.name===e.name))throw new Error(`同级分类名称已存在: ${e.name}`);return this.categories.set(t.id,t),t})}update(e,n){return at(this,void 0,void 0,function*(){var t;const r=this.categories.get(e);if(!r)throw new Error(`分类不存在: ${e}`);if(void 0!==n.parentId&&n.parentId!==r.parentId){if(n.parentId===e)throw new Error("分类不能设置自己为父分类");if(yield this.wouldCreateCycle(e,n.parentId))throw new Error("不能设置子分类为父分类，这会造成循环引用")}const a=Object.assign(Object.assign(Object.assign({},r),n),{updatedAt:new Date}),s=Kn(Mn,a);if(!s.success)throw new Error(`分类数据验证失败: ${null===(t=s.errors)||void 0===t?void 0:t.join(", ")}`);if(n.name&&n.name!==r.name&&(yield this.findByParentId(a.parentId)).some(t=>t.name===n.name&&t.id!==e))throw new Error(`同级分类名称已存在: ${n.name}`);return this.categories.set(e,a),a})}delete(e){return at(this,void 0,void 0,function*(){if(!this.categories.get(e))return!1;if((yield this.findByParentId(e)).length>0)throw new Error("存在子分类，无法删除");return this.categories.delete(e),!0})}wouldCreateCycle(e,n){return at(this,void 0,void 0,function*(){if(!n)return!1;const t=new Set;let r=n;for(;r&&!t.has(r);){if(r===e)return!0;t.add(r);const n=yield this.findById(r);r=null==n?void 0:n.parentId}return!1})}moveCategory(e,n){return at(this,void 0,void 0,function*(){if(!(yield this.findById(e)))throw new Error(`分类不存在: ${e}`);let t=1;if(n){const e=yield this.findById(n);if(!e)throw new Error(`新父分类不存在: ${n}`);if(t=e.level+1,t>5)throw new Error("移动后分类层级将超过5级")}return this.update(e,{parentId:n,level:t})})}updateSortOrder(e){return at(this,void 0,void 0,function*(){const n=[];for(const{id:t,sortOrder:r}of e)try{const e=yield this.update(t,{sortOrder:r});n.push(e)}catch(e){throw console.error(`Failed to update sort order for category ${t}:`,e),e}return n})}toggleActive(e){return at(this,void 0,void 0,function*(){const n=yield this.findById(e);if(!n)throw new Error(`分类不存在: ${e}`);return this.update(e,{isActive:!n.isActive})})}getCategoryPath(e){return at(this,void 0,void 0,function*(){const n=[];let t=e;for(;t;){const e=yield this.findById(t);if(!e)break;n.unshift(e),t=e.parentId}return n})}getCategoryStats(){return at(this,void 0,void 0,function*(){const e=yield this.findAll(),n={};return e.forEach(e=>{n[e.level]=(n[e.level]||0)+1}),{total:e.length,active:e.filter(e=>e.isActive).length,inactive:e.filter(e=>!e.isActive).length,byLevel:n}})}};var it=function(e,n,t,r){return new(t||(t=Promise))(function(a,s){function i(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var n;e.done?a(e.value):(n=e.value,n instanceof t?n:new t(function(e){e(n)})).then(i,o)}l((r=r.apply(e,n||[])).next())})};const ot=new class{constructor(){this.units=new Map,this.symbolIndex=new Map,this.nameIndex=new Map}initialize(){return it(this,void 0,void 0,function*(){console.log("Unit service initialized"),0===this.units.size&&(yield this.createDefaultUnits())})}createDefaultUnits(){return it(this,void 0,void 0,function*(){const e=[{name:"个",symbol:"pcs",precision:0},{name:"千克",symbol:"kg",precision:2},{name:"克",symbol:"g",precision:2},{name:"升",symbol:"L",precision:2},{name:"毫升",symbol:"ml",precision:0},{name:"米",symbol:"m",precision:2},{name:"厘米",symbol:"cm",precision:1},{name:"平方米",symbol:"m²",precision:2},{name:"立方米",symbol:"m³",precision:2},{name:"箱",symbol:"box",precision:0},{name:"包",symbol:"pack",precision:0},{name:"袋",symbol:"bag",precision:0},{name:"瓶",symbol:"bottle",precision:0},{name:"套",symbol:"set",precision:0},{name:"组",symbol:"group",precision:0}];for(const n of e)try{yield this.create(n)}catch(e){console.warn("Failed to create default unit:",e)}})}findAll(){return it(this,void 0,void 0,function*(){return Array.from(this.units.values())})}findById(e){return it(this,void 0,void 0,function*(){return this.units.get(e)||null})}findBySymbol(e){return it(this,void 0,void 0,function*(){const n=this.symbolIndex.get(e);return n&&this.units.get(n)||null})}findByName(e){return it(this,void 0,void 0,function*(){const n=this.nameIndex.get(e);return n&&this.units.get(n)||null})}search(e){return it(this,void 0,void 0,function*(){const n=e.toLowerCase().trim();return n?Array.from(this.units.values()).filter(e=>e.name.toLowerCase().includes(n)||e.symbol.toLowerCase().includes(n)):this.findAll()})}create(e){return it(this,void 0,void 0,function*(){var n;if(this.nameIndex.has(e.name))throw new Error(`单位名称已存在: ${e.name}`);if(this.symbolIndex.has(e.symbol))throw new Error(`单位符号已存在: ${e.symbol}`);const t=Object.assign(Object.assign({},e),{id:nt(),createdAt:new Date,updatedAt:new Date}),r=Kn($n,t);if(!r.success)throw new Error(`单位数据验证失败: ${null===(n=r.errors)||void 0===n?void 0:n.join(", ")}`);return this.units.set(t.id,t),this.nameIndex.set(t.name,t.id),this.symbolIndex.set(t.symbol,t.id),t})}update(e,n){return it(this,void 0,void 0,function*(){var t;const r=this.units.get(e);if(!r)throw new Error(`单位不存在: ${e}`);if(n.name&&n.name!==r.name&&this.nameIndex.has(n.name))throw new Error(`单位名称已存在: ${n.name}`);if(n.symbol&&n.symbol!==r.symbol&&this.symbolIndex.has(n.symbol))throw new Error(`单位符号已存在: ${n.symbol}`);const a=Object.assign(Object.assign(Object.assign({},r),n),{updatedAt:new Date}),s=Kn($n,a);if(!s.success)throw new Error(`单位数据验证失败: ${null===(t=s.errors)||void 0===t?void 0:t.join(", ")}`);return n.name&&n.name!==r.name&&(this.nameIndex.delete(r.name),this.nameIndex.set(n.name,e)),n.symbol&&n.symbol!==r.symbol&&(this.symbolIndex.delete(r.symbol),this.symbolIndex.set(n.symbol,e)),this.units.set(e,a),a})}delete(e){return it(this,void 0,void 0,function*(){const n=this.units.get(e);return!!n&&(this.units.delete(e),this.nameIndex.delete(n.name),this.symbolIndex.delete(n.symbol),!0)})}validateName(e,n){return it(this,void 0,void 0,function*(){const t=this.nameIndex.get(e);return!t||t===n})}validateSymbol(e,n){return it(this,void 0,void 0,function*(){const t=this.symbolIndex.get(e);return!t||t===n})}getCommonUnits(){return it(this,void 0,void 0,function*(){const e=["pcs","kg","g","L","ml","m","cm","box","pack"],n=[];for(const t of e){const e=yield this.findBySymbol(t);e&&n.push(e)}return n})}getUnitsByPrecision(e){return it(this,void 0,void 0,function*(){return Array.from(this.units.values()).filter(n=>n.precision===e)})}bulkCreate(e){return it(this,void 0,void 0,function*(){const n=[],t=[];for(let r=0;r<e.length;r++)try{const t=yield this.create(e[r]);n.push(t)}catch(e){t.push({index:r,error:e instanceof Error?e.message:"未知错误"})}return{created:n,errors:t}})}getUnitStats(){return it(this,void 0,void 0,function*(){const e=yield this.findAll(),n={};e.forEach(e=>{n[e.precision]=(n[e.precision]||0)+1});const t=yield this.getCommonUnits();return{total:e.length,byPrecision:n,commonUnits:t.length}})}formatQuantity(e,n){return it(this,void 0,void 0,function*(){const t=yield this.findById(n);return t?`${e.toFixed(t.precision)} ${t.symbol}`:e.toString()})}parseQuantity(e){return it(this,void 0,void 0,function*(){const n=e.trim().match(/^([\d.]+)\s*(.*)$/);if(!n)return null;const t=parseFloat(n[1]);if(isNaN(t))return null;const r=n[2].trim();if(!r)return{quantity:t};let a=yield this.findBySymbol(r);return a||(a=yield this.findByName(r)),{quantity:t,unitId:null==a?void 0:a.id}})}};var lt=function(e,n,t,r){return new(t||(t=Promise))(function(a,s){function i(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var n;e.done?a(e.value):(n=e.value,n instanceof t?n:new t(function(e){e(n)})).then(i,o)}l((r=r.apply(e,n||[])).next())})};const ct=new class{constructor(){this.warehouses=new Map,this.codeIndex=new Map}initialize(){return lt(this,void 0,void 0,function*(){console.log("Warehouse service initialized"),0===this.warehouses.size&&(yield this.createDefaultWarehouses())})}createDefaultWarehouses(){return lt(this,void 0,void 0,function*(){const e=[{code:"WH001",name:"主仓库",address:"总部仓储中心",manager:"仓库管理员",phone:"021-12345678",isDefault:!0},{code:"WH002",name:"备用仓库",address:"备用仓储点",manager:"副仓管",phone:"021-87654321",isDefault:!1}];for(const n of e)try{yield this.create(n)}catch(e){console.warn("Failed to create default warehouse:",e)}})}findAll(){return lt(this,void 0,void 0,function*(){return Array.from(this.warehouses.values())})}findById(e){return lt(this,void 0,void 0,function*(){return this.warehouses.get(e)||null})}findByCode(e){return lt(this,void 0,void 0,function*(){const n=this.codeIndex.get(e);return n&&this.warehouses.get(n)||null})}findDefault(){return lt(this,void 0,void 0,function*(){return Array.from(this.warehouses.values()).find(e=>e.isDefault)||null})}search(e){return lt(this,void 0,void 0,function*(){const n=e.toLowerCase().trim();return n?Array.from(this.warehouses.values()).filter(e=>{var t,r;return e.name.toLowerCase().includes(n)||e.code.toLowerCase().includes(n)||(null===(t=e.address)||void 0===t?void 0:t.toLowerCase().includes(n))||(null===(r=e.manager)||void 0===r?void 0:r.toLowerCase().includes(n))}):this.findAll()})}create(e){return lt(this,void 0,void 0,function*(){var n;if(this.codeIndex.has(e.code))throw new Error(`仓库编码已存在: ${e.code}`);e.isDefault&&(yield this.clearDefaultStatus());const t=Object.assign(Object.assign({},e),{id:nt(),createdAt:new Date,updatedAt:new Date}),r=Kn(Bn,t);if(!r.success)throw new Error(`仓库数据验证失败: ${null===(n=r.errors)||void 0===n?void 0:n.join(", ")}`);return this.warehouses.set(t.id,t),this.codeIndex.set(t.code,t.id),t})}update(e,n){return lt(this,void 0,void 0,function*(){var t;const r=this.warehouses.get(e);if(!r)throw new Error(`仓库不存在: ${e}`);if(n.code&&n.code!==r.code&&this.codeIndex.has(n.code))throw new Error(`仓库编码已存在: ${n.code}`);!0===n.isDefault&&(yield this.clearDefaultStatus(e));const a=Object.assign(Object.assign(Object.assign({},r),n),{updatedAt:new Date}),s=Kn(Bn,a);if(!s.success)throw new Error(`仓库数据验证失败: ${null===(t=s.errors)||void 0===t?void 0:t.join(", ")}`);return n.code&&n.code!==r.code&&(this.codeIndex.delete(r.code),this.codeIndex.set(n.code,e)),this.warehouses.set(e,a),a})}delete(e){return lt(this,void 0,void 0,function*(){const n=this.warehouses.get(e);if(!n)return!1;if(n.isDefault)throw new Error("不能删除默认仓库");return this.warehouses.delete(e),this.codeIndex.delete(n.code),!0})}clearDefaultStatus(e){return lt(this,void 0,void 0,function*(){for(const[n,t]of this.warehouses)if(n!==e&&t.isDefault){const e=Object.assign(Object.assign({},t),{isDefault:!1,updatedAt:new Date});this.warehouses.set(n,e)}})}setDefault(e){return lt(this,void 0,void 0,function*(){if(!(yield this.findById(e)))throw new Error(`仓库不存在: ${e}`);return this.update(e,{isDefault:!0})})}validateCode(e,n){return lt(this,void 0,void 0,function*(){const t=this.codeIndex.get(e);return!t||t===n})}getActiveWarehouses(){return lt(this,void 0,void 0,function*(){return this.findAll()})}bulkCreate(e){return lt(this,void 0,void 0,function*(){const n=[],t=[];for(let r=0;r<e.length;r++)try{const t=yield this.create(e[r]);n.push(t)}catch(e){t.push({index:r,error:e instanceof Error?e.message:"未知错误"})}return{created:n,errors:t}})}getWarehouseStats(){return lt(this,void 0,void 0,function*(){const e=yield this.findAll();return{total:e.length,hasDefault:e.some(e=>e.isDefault),withManager:e.filter(e=>e.manager).length,withPhone:e.filter(e=>e.phone).length,withAddress:e.filter(e=>e.address).length}})}getWarehouseCapacityInfo(e){return lt(this,void 0,void 0,function*(){const n=yield this.findById(e);return n?{warehouse:n,totalProducts:0,totalValue:0}:null})}transferWarehouseManager(e,n){return lt(this,void 0,void 0,function*(){const t=yield this.findById(e),r=yield this.findById(n);if(!t||!r)throw new Error("仓库不存在");const a=t.manager,s=r.manager;return{from:yield this.update(e,{manager:s}),to:yield this.update(n,{manager:a})}})}getWarehousesByManager(e){return lt(this,void 0,void 0,function*(){return Array.from(this.warehouses.values()).filter(n=>n.manager===e)})}ensureDefaultWarehouse(){return lt(this,void 0,void 0,function*(){const e=yield this.findDefault();if(e)return e;const n=yield this.findAll();return n.length>0?this.setDefault(n[0].id):this.create({code:"DEFAULT",name:"默认仓库",isDefault:!0})})}};var dt=function(e,n,t,r){return new(t||(t=Promise))(function(a,s){function i(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var n;e.done?a(e.value):(n=e.value,n instanceof t?n:new t(function(e){e(n)})).then(i,o)}l((r=r.apply(e,n||[])).next())})};const ut=new class{constructor(){this.stocks=new Map,this.transactions=new Map,this.stockIndex=new Map}initialize(){return dt(this,void 0,void 0,function*(){console.log("Inventory stock service initialized")})}findAllStocks(){return dt(this,void 0,void 0,function*(){return Array.from(this.stocks.values())})}findStockById(e){return dt(this,void 0,void 0,function*(){return this.stocks.get(e)||null})}findStockByProductAndWarehouse(e,n){return dt(this,void 0,void 0,function*(){const t=`${e}:${n}`,r=this.stockIndex.get(t);return r&&this.stocks.get(r)||null})}findStocksByProduct(e){return dt(this,void 0,void 0,function*(){return Array.from(this.stocks.values()).filter(n=>n.productId===e)})}findStocksByWarehouse(e){return dt(this,void 0,void 0,function*(){return Array.from(this.stocks.values()).filter(n=>n.warehouseId===e)})}findLowStockItems(){return dt(this,void 0,void 0,function*(){const e=yield this.findAllStocks(),n=[];for(const t of e){const e=yield rt.findById(t.productId);e&&t.currentStock<=e.minStock&&n.push(t)}return n})}findOutOfStockItems(){return dt(this,void 0,void 0,function*(){return Array.from(this.stocks.values()).filter(e=>e.currentStock<=0)})}createOrUpdateStock(e){return dt(this,void 0,void 0,function*(){var n;if(!(yield rt.findById(e.productId)))throw new Error(`产品不存在: ${e.productId}`);if(!(yield ct.findById(e.warehouseId)))throw new Error(`仓库不存在: ${e.warehouseId}`);const t=yield this.findStockByProductAndWarehouse(e.productId,e.warehouseId);if(t)return this.updateStock(t.id,e);const r=Object.assign(Object.assign({},e),{id:nt(),createdAt:new Date,updatedAt:new Date}),a=Kn(Vn,r);if(!a.success)throw new Error(`库存数据验证失败: ${null===(n=a.errors)||void 0===n?void 0:n.join(", ")}`);const s=`${r.productId}:${r.warehouseId}`;return this.stocks.set(r.id,r),this.stockIndex.set(s,r.id),r})}updateStock(e,n){return dt(this,void 0,void 0,function*(){var t;const r=this.stocks.get(e);if(!r)throw new Error(`库存记录不存在: ${e}`);const a=Object.assign(Object.assign(Object.assign({},r),n),{updatedAt:new Date}),s=Kn(Vn,a);if(!s.success)throw new Error(`库存数据验证失败: ${null===(t=s.errors)||void 0===t?void 0:t.join(", ")}`);return this.stocks.set(e,a),a})}findAllTransactions(){return dt(this,void 0,void 0,function*(){return Array.from(this.transactions.values())})}findTransactionById(e){return dt(this,void 0,void 0,function*(){return this.transactions.get(e)||null})}findTransactionsByProduct(e){return dt(this,void 0,void 0,function*(){return Array.from(this.transactions.values()).filter(n=>n.productId===e)})}findTransactionsByWarehouse(e){return dt(this,void 0,void 0,function*(){return Array.from(this.transactions.values()).filter(n=>n.warehouseId===e)})}findTransactionsByType(e){return dt(this,void 0,void 0,function*(){return Array.from(this.transactions.values()).filter(n=>n.transactionType===e)})}findTransactionsByDateRange(e,n){return dt(this,void 0,void 0,function*(){return Array.from(this.transactions.values()).filter(t=>t.createdAt>=e&&t.createdAt<=n)})}stockIn(e){return dt(this,void 0,void 0,function*(){if(e.quantity<=0)throw new Error("入库数量必须大于0");return this.processStockTransaction(Object.assign(Object.assign({},e),{transactionType:O.IN}))})}stockOut(e){return dt(this,void 0,void 0,function*(){if(e.quantity<=0)throw new Error("出库数量必须大于0");const n=yield this.findStockByProductAndWarehouse(e.productId,e.warehouseId);if(!n||n.availableStock<e.quantity)throw new Error("库存不足，无法出库");return this.processStockTransaction(Object.assign(Object.assign({},e),{transactionType:O.OUT,quantity:-e.quantity}))})}stockAdjust(e){return dt(this,void 0,void 0,function*(){if(e.newQuantity<0)throw new Error("调整后的库存数量不能为负数");const n=yield this.findStockByProductAndWarehouse(e.productId,e.warehouseId),t=n?n.currentStock:0,r=e.newQuantity-t;if(0===r)throw new Error("调整数量为0，无需调整");return this.processStockTransaction({productId:e.productId,warehouseId:e.warehouseId,quantity:r,unitPrice:e.unitPrice,remark:e.remark,operator:e.operator,transactionType:O.ADJUST})})}processStockTransaction(e){return dt(this,void 0,void 0,function*(){var n;const t=yield this.generateTransactionNo(e.transactionType),r={id:nt(),transactionNo:t,productId:e.productId,warehouseId:e.warehouseId,transactionType:e.transactionType,quantity:e.quantity,unitPrice:e.unitPrice,totalAmount:e.quantity*e.unitPrice,referenceType:e.referenceType,referenceId:e.referenceId,remark:e.remark,operator:e.operator,createdAt:new Date,updatedAt:new Date},a=Kn(Un,r);if(!a.success)throw new Error(`库存流水数据验证失败: ${null===(n=a.errors)||void 0===n?void 0:n.join(", ")}`);let s=yield this.findStockByProductAndWarehouse(e.productId,e.warehouseId);s||(s=yield this.createOrUpdateStock({productId:e.productId,warehouseId:e.warehouseId,currentStock:0,availableStock:0,reservedStock:0,minStock:10,maxStock:1e3,avgCost:e.unitPrice,unitPrice:e.unitPrice}));const i=s.currentStock+e.quantity,o=s.availableStock+e.quantity;let l=s.avgCost;if(e.transactionType===O.IN&&e.quantity>0){const n=s.currentStock*s.avgCost+e.quantity*e.unitPrice,t=s.currentStock+e.quantity;l=t>0?n/t:e.unitPrice}const c=yield this.updateStock(s.id,{currentStock:i,availableStock:o,avgCost:l,lastInDate:e.transactionType===O.IN?new Date:s.lastInDate,lastOutDate:e.transactionType===O.OUT?new Date:s.lastOutDate});return this.transactions.set(r.id,r),{stock:c,transaction:r}})}generateTransactionNo(e){return dt(this,void 0,void 0,function*(){const n=(new Date).toISOString().slice(0,10).replace(/-/g,"");return`${{[O.IN]:"IN",[O.OUT]:"OUT",[O.ADJUST]:"ADJ"}[e]}${n}${String(this.transactions.size+1).padStart(4,"0")}`})}reserveStock(e,n,t){return dt(this,void 0,void 0,function*(){if(t<=0)throw new Error("预留数量必须大于0");const r=yield this.findStockByProductAndWarehouse(e,n);if(!r)throw new Error("库存记录不存在");if(r.availableStock<t)throw new Error("可用库存不足，无法预留");return this.updateStock(r.id,{availableStock:r.availableStock-t,reservedStock:r.reservedStock+t})})}releaseReservedStock(e,n,t){return dt(this,void 0,void 0,function*(){if(t<=0)throw new Error("释放数量必须大于0");const r=yield this.findStockByProductAndWarehouse(e,n);if(!r)throw new Error("库存记录不存在");if(r.reservedStock<t)throw new Error("预留库存不足，无法释放");return this.updateStock(r.id,{availableStock:r.availableStock+t,reservedStock:r.reservedStock-t})})}getInventorySummary(){return dt(this,void 0,void 0,function*(){const e=yield this.findAllStocks(),n=yield this.findLowStockItems(),t=yield this.findOutOfStockItems(),r=e.reduce((e,n)=>e+n.currentStock*n.avgCost,0);return{totalProducts:e.length,totalValue:r,lowStockCount:n.length,outOfStockCount:t.length,totalTransactions:this.transactions.size}})}getStockMovementReport(e,n){return dt(this,void 0,void 0,function*(){const t=yield this.findTransactionsByDateRange(e,n),r=t.reduce((e,n)=>{switch(n.transactionType){case O.IN:e.totalIn+=n.quantity,e.valueIn+=n.totalAmount;break;case O.OUT:e.totalOut+=Math.abs(n.quantity),e.valueOut+=Math.abs(n.totalAmount);break;case O.ADJUST:e.totalAdjust+=Math.abs(n.quantity)}return e},{totalIn:0,totalOut:0,totalAdjust:0,valueIn:0,valueOut:0});return{transactions:t,summary:r}})}getTopProductsByValue(){return dt(this,arguments,void 0,function*(e=10){const n=yield this.findAllStocks();return(yield Promise.all(n.map(e=>dt(this,void 0,void 0,function*(){const n=yield rt.findById(e.productId);return{stock:e,product:n,totalValue:e.currentStock*e.avgCost}})))).sort((e,n)=>n.totalValue-e.totalValue).slice(0,e)})}};var pt=function(e,n,t,r){return new(t||(t=Promise))(function(a,s){function i(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var n;e.done?a(e.value):(n=e.value,n instanceof t?n:new t(function(e){e(n)})).then(i,o)}l((r=r.apply(e,n||[])).next())})};const ht=new class{constructor(){this.suppliers=new Map,this.codeIndex=new Map}initialize(){return pt(this,void 0,void 0,function*(){console.log("Supplier service initialized"),0===this.suppliers.size&&(yield this.createDefaultSuppliers())})}createDefaultSuppliers(){return pt(this,void 0,void 0,function*(){const e=[{code:"SUP001",name:"示例供应商A",contactPerson:"张经理",phone:"021-12345678",email:"zhang@supplier-a.com",address:"上海市浦东新区示例路123号",paymentTerms:"30天付款",creditLimit:1e5,rating:D.A,status:P.ACTIVE},{code:"SUP002",name:"示例供应商B",contactPerson:"李总",phone:"010-87654321",email:"li@supplier-b.com",address:"北京市朝阳区示例大街456号",paymentTerms:"60天付款",creditLimit:5e4,rating:D.B,status:P.ACTIVE}];for(const n of e)try{yield this.create(n)}catch(e){console.warn("Failed to create default supplier:",e)}})}findAll(){return pt(this,void 0,void 0,function*(){return Array.from(this.suppliers.values())})}findById(e){return pt(this,void 0,void 0,function*(){return this.suppliers.get(e)||null})}findByCode(e){return pt(this,void 0,void 0,function*(){const n=this.codeIndex.get(e);return n&&this.suppliers.get(n)||null})}findByStatus(e){return pt(this,void 0,void 0,function*(){return Array.from(this.suppliers.values()).filter(n=>n.status===e)})}findByRating(e){return pt(this,void 0,void 0,function*(){return Array.from(this.suppliers.values()).filter(n=>n.rating===e)})}findActiveSuppliers(){return pt(this,void 0,void 0,function*(){return this.findByStatus(P.ACTIVE)})}search(e){return pt(this,void 0,void 0,function*(){const n=e.toLowerCase().trim();return n?Array.from(this.suppliers.values()).filter(e=>{var t,r,a;return e.name.toLowerCase().includes(n)||e.code.toLowerCase().includes(n)||(null===(t=e.contactPerson)||void 0===t?void 0:t.toLowerCase().includes(n))||(null===(r=e.email)||void 0===r?void 0:r.toLowerCase().includes(n))||(null===(a=e.phone)||void 0===a?void 0:a.toLowerCase().includes(n))}):this.findAll()})}create(e){return pt(this,void 0,void 0,function*(){var n;if(this.codeIndex.has(e.code))throw new Error(`供应商编码已存在: ${e.code}`);const t=Object.assign(Object.assign({},e),{id:nt(),createdAt:new Date,updatedAt:new Date}),r=Kn(qn,t);if(!r.success)throw new Error(`供应商数据验证失败: ${null===(n=r.errors)||void 0===n?void 0:n.join(", ")}`);return this.suppliers.set(t.id,t),this.codeIndex.set(t.code,t.id),t})}update(e,n){return pt(this,void 0,void 0,function*(){var t;const r=this.suppliers.get(e);if(!r)throw new Error(`供应商不存在: ${e}`);if(n.code&&n.code!==r.code&&this.codeIndex.has(n.code))throw new Error(`供应商编码已存在: ${n.code}`);const a=Object.assign(Object.assign(Object.assign({},r),n),{updatedAt:new Date}),s=Kn(qn,a);if(!s.success)throw new Error(`供应商数据验证失败: ${null===(t=s.errors)||void 0===t?void 0:t.join(", ")}`);return n.code&&n.code!==r.code&&(this.codeIndex.delete(r.code),this.codeIndex.set(n.code,e)),this.suppliers.set(e,a),a})}delete(e){return pt(this,void 0,void 0,function*(){const n=this.suppliers.get(e);return!!n&&(this.suppliers.delete(e),this.codeIndex.delete(n.code),!0)})}validateCode(e,n){return pt(this,void 0,void 0,function*(){const t=this.codeIndex.get(e);return!t||t===n})}updateStatus(e,n){return pt(this,void 0,void 0,function*(){return this.update(e,{status:n})})}updateRating(e,n){return pt(this,void 0,void 0,function*(){return this.update(e,{rating:n})})}bulkCreate(e){return pt(this,void 0,void 0,function*(){const n=[],t=[];for(let r=0;r<e.length;r++)try{const t=yield this.create(e[r]);n.push(t)}catch(e){t.push({index:r,error:e instanceof Error?e.message:"未知错误"})}return{created:n,errors:t}})}getSupplierStats(){return pt(this,void 0,void 0,function*(){const e=yield this.findAll(),n={[D.A]:0,[D.B]:0,[D.C]:0,[D.D]:0};e.forEach(e=>{n[e.rating]++});const t=e.reduce((e,n)=>e+n.creditLimit,0);return{total:e.length,active:e.filter(e=>e.status===P.ACTIVE).length,inactive:e.filter(e=>e.status===P.INACTIVE).length,byRating:n,totalCreditLimit:t,averageCreditLimit:e.length>0?t/e.length:0}})}getTopSuppliersByCredit(){return pt(this,arguments,void 0,function*(e=10){return(yield this.findAll()).sort((e,n)=>n.creditLimit-e.creditLimit).slice(0,e)})}getSuppliersByPaymentTerms(e){return pt(this,void 0,void 0,function*(){return Array.from(this.suppliers.values()).filter(n=>n.paymentTerms===e)})}updateCreditLimit(e,n){return pt(this,void 0,void 0,function*(){if(n<0)throw new Error("信用额度不能为负数");return this.update(e,{creditLimit:n})})}getSupplierPerformance(e){return pt(this,void 0,void 0,function*(){const n=yield this.findById(e);return n?{supplier:n,totalOrders:0,totalValue:0,averageOrderValue:0,onTimeDeliveryRate:0}:null})}getSupplierContacts(){return pt(this,void 0,void 0,function*(){return(yield this.findAll()).map(e=>({supplier:e,hasContact:!!e.contactPerson,hasPhone:!!e.phone,hasEmail:!!e.email}))})}validateEmail(e,n){return pt(this,void 0,void 0,function*(){return!e||!(yield this.findAll()).find(t=>t.email===e&&t.id!==n)})}generateSupplierCode(){return pt(this,void 0,void 0,function*(){const e=(yield this.findAll()).map(e=>e.code).filter(e=>/^SUP\d{3}$/.test(e)).map(e=>parseInt(e.substring(3))).reduce((e,n)=>Math.max(e,n),0);return`SUP${String(e+1).padStart(3,"0")}`})}getSuppliersByRegion(e){return pt(this,void 0,void 0,function*(){return Array.from(this.suppliers.values()).filter(n=>{var t;return null===(t=n.address)||void 0===t?void 0:t.includes(e)})})}};var mt=function(e,n,t,r){return new(t||(t=Promise))(function(a,s){function i(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var n;e.done?a(e.value):(n=e.value,n instanceof t?n:new t(function(e){e(n)})).then(i,o)}l((r=r.apply(e,n||[])).next())})};const ft=new class{constructor(){this.customers=new Map,this.codeIndex=new Map}initialize(){return mt(this,void 0,void 0,function*(){console.log("Customer service initialized"),0===this.customers.size&&(yield this.createDefaultCustomers())})}createDefaultCustomers(){return mt(this,void 0,void 0,function*(){const e=[{code:"CUS001",name:"优质客户A公司",contactPerson:"王总",phone:"021-11111111",email:"wang@customer-a.com",address:"上海市黄浦区商业街88号",customerType:R.COMPANY,creditLimit:2e5,paymentTerms:"月结30天",discountRate:.05,level:F.VIP,status:M.ACTIVE},{code:"CUS002",name:"李明",contactPerson:"李明",phone:"138-8888-8888",email:"liming@email.com",address:"北京市海淀区中关村大街1号",customerType:R.INDIVIDUAL,creditLimit:5e4,discountRate:.02,level:F.GOLD,status:M.ACTIVE}];for(const n of e)try{yield this.create(n)}catch(e){console.warn("Failed to create default customer:",e)}})}findAll(){return mt(this,void 0,void 0,function*(){return Array.from(this.customers.values())})}findById(e){return mt(this,void 0,void 0,function*(){return this.customers.get(e)||null})}findByCode(e){return mt(this,void 0,void 0,function*(){const n=this.codeIndex.get(e);return n&&this.customers.get(n)||null})}findByStatus(e){return mt(this,void 0,void 0,function*(){return Array.from(this.customers.values()).filter(n=>n.status===e)})}findByType(e){return mt(this,void 0,void 0,function*(){return Array.from(this.customers.values()).filter(n=>n.customerType===e)})}findByLevel(e){return mt(this,void 0,void 0,function*(){return Array.from(this.customers.values()).filter(n=>n.level===e)})}findActiveCustomers(){return mt(this,void 0,void 0,function*(){return this.findByStatus(M.ACTIVE)})}findVIPCustomers(){return mt(this,void 0,void 0,function*(){return this.findByLevel(F.VIP)})}search(e){return mt(this,void 0,void 0,function*(){const n=e.toLowerCase().trim();return n?Array.from(this.customers.values()).filter(e=>{var t,r,a;return e.name.toLowerCase().includes(n)||e.code.toLowerCase().includes(n)||(null===(t=e.contactPerson)||void 0===t?void 0:t.toLowerCase().includes(n))||(null===(r=e.email)||void 0===r?void 0:r.toLowerCase().includes(n))||(null===(a=e.phone)||void 0===a?void 0:a.toLowerCase().includes(n))}):this.findAll()})}create(e){return mt(this,void 0,void 0,function*(){var n;if(this.codeIndex.has(e.code))throw new Error(`客户编码已存在: ${e.code}`);const t=Object.assign(Object.assign({},e),{id:nt(),createdAt:new Date,updatedAt:new Date}),r=Kn(Wn,t);if(!r.success)throw new Error(`客户数据验证失败: ${null===(n=r.errors)||void 0===n?void 0:n.join(", ")}`);return this.customers.set(t.id,t),this.codeIndex.set(t.code,t.id),t})}update(e,n){return mt(this,void 0,void 0,function*(){var t;const r=this.customers.get(e);if(!r)throw new Error(`客户不存在: ${e}`);if(n.code&&n.code!==r.code&&this.codeIndex.has(n.code))throw new Error(`客户编码已存在: ${n.code}`);const a=Object.assign(Object.assign(Object.assign({},r),n),{updatedAt:new Date}),s=Kn(Wn,a);if(!s.success)throw new Error(`客户数据验证失败: ${null===(t=s.errors)||void 0===t?void 0:t.join(", ")}`);return n.code&&n.code!==r.code&&(this.codeIndex.delete(r.code),this.codeIndex.set(n.code,e)),this.customers.set(e,a),a})}delete(e){return mt(this,void 0,void 0,function*(){const n=this.customers.get(e);return!!n&&(this.customers.delete(e),this.codeIndex.delete(n.code),!0)})}validateCode(e,n){return mt(this,void 0,void 0,function*(){const t=this.codeIndex.get(e);return!t||t===n})}updateStatus(e,n){return mt(this,void 0,void 0,function*(){return this.update(e,{status:n})})}updateLevel(e,n){return mt(this,void 0,void 0,function*(){return this.update(e,{level:n})})}updateCreditLimit(e,n){return mt(this,void 0,void 0,function*(){if(n<0)throw new Error("信用额度不能为负数");return this.update(e,{creditLimit:n})})}updateDiscountRate(e,n){return mt(this,void 0,void 0,function*(){if(n<0||n>1)throw new Error("折扣率必须在0-1之间");return this.update(e,{discountRate:n})})}bulkCreate(e){return mt(this,void 0,void 0,function*(){const n=[],t=[];for(let r=0;r<e.length;r++)try{const t=yield this.create(e[r]);n.push(t)}catch(e){t.push({index:r,error:e instanceof Error?e.message:"未知错误"})}return{created:n,errors:t}})}getCustomerStats(){return mt(this,void 0,void 0,function*(){const e=yield this.findAll(),n={[R.INDIVIDUAL]:0,[R.COMPANY]:0},t={[F.VIP]:0,[F.GOLD]:0,[F.SILVER]:0,[F.BRONZE]:0};e.forEach(e=>{n[e.customerType]++,t[e.level]++});const r=e.reduce((e,n)=>e+n.creditLimit,0),a=e.reduce((e,n)=>e+n.discountRate,0);return{total:e.length,active:e.filter(e=>e.status===M.ACTIVE).length,inactive:e.filter(e=>e.status===M.INACTIVE).length,byType:n,byLevel:t,totalCreditLimit:r,averageCreditLimit:e.length>0?r/e.length:0,averageDiscountRate:e.length>0?a/e.length:0}})}getTopCustomersByCredit(){return mt(this,arguments,void 0,function*(e=10){return(yield this.findAll()).sort((e,n)=>n.creditLimit-e.creditLimit).slice(0,e)})}getCustomersByPaymentTerms(e){return mt(this,void 0,void 0,function*(){return Array.from(this.customers.values()).filter(n=>n.paymentTerms===e)})}promoteCustomerLevel(e){return mt(this,void 0,void 0,function*(){const n=yield this.findById(e);if(!n)throw new Error(`客户不存在: ${e}`);let t;switch(n.level){case F.BRONZE:t=F.SILVER;break;case F.SILVER:t=F.GOLD;break;case F.GOLD:t=F.VIP;break;case F.VIP:throw new Error("客户已是VIP级别，无法继续升级");default:throw new Error("无效的客户级别")}return this.updateLevel(e,t)})}demoteCustomerLevel(e){return mt(this,void 0,void 0,function*(){const n=yield this.findById(e);if(!n)throw new Error(`客户不存在: ${e}`);let t;switch(n.level){case F.VIP:t=F.GOLD;break;case F.GOLD:t=F.SILVER;break;case F.SILVER:t=F.BRONZE;break;case F.BRONZE:throw new Error("客户已是Bronze级别，无法继续降级");default:throw new Error("无效的客户级别")}return this.updateLevel(e,t)})}getCustomerPerformance(e){return mt(this,void 0,void 0,function*(){const n=yield this.findById(e);return n?{customer:n,totalOrders:0,totalValue:0,averageOrderValue:0}:null})}getCustomerContacts(){return mt(this,void 0,void 0,function*(){return(yield this.findAll()).map(e=>({customer:e,hasContact:!!e.contactPerson,hasPhone:!!e.phone,hasEmail:!!e.email}))})}validateEmail(e,n){return mt(this,void 0,void 0,function*(){return!e||!(yield this.findAll()).find(t=>t.email===e&&t.id!==n)})}generateCustomerCode(){return mt(this,void 0,void 0,function*(){const e=(yield this.findAll()).map(e=>e.code).filter(e=>/^CUS\d{3}$/.test(e)).map(e=>parseInt(e.substring(3))).reduce((e,n)=>Math.max(e,n),0);return`CUS${String(e+1).padStart(3,"0")}`})}getCustomersByRegion(e){return mt(this,void 0,void 0,function*(){return Array.from(this.customers.values()).filter(n=>{var t;return null===(t=n.address)||void 0===t?void 0:t.includes(e)})})}calculateCustomerDiscount(e,n){return mt(this,void 0,void 0,function*(){const t=yield this.findById(e);if(!t)return null;const r=n*t.discountRate;return{customer:t,originalAmount:n,discountAmount:r,finalAmount:n-r,discountRate:t.discountRate}})}bulkUpdateLevels(e){return mt(this,void 0,void 0,function*(){const n=[],t=[];for(const{id:r,level:a}of e)try{const e=yield this.updateLevel(r,a);n.push(e)}catch(e){t.push({id:r,error:e instanceof Error?e.message:"未知错误"})}return{updated:n,errors:t}})}};var gt=function(e,n,t,r){return new(t||(t=Promise))(function(a,s){function i(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var n;e.done?a(e.value):(n=e.value,n instanceof t?n:new t(function(e){e(n)})).then(i,o)}l((r=r.apply(e,n||[])).next())})},vt=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(t[r[a]]=e[r[a]])}return t};const bt=new class{constructor(){this.orders=new Map,this.orderItems=new Map,this.orderNoIndex=new Map,this.orderItemsByOrder=new Map}initialize(){return gt(this,void 0,void 0,function*(){console.log("Purchase order service initialized"),0===this.orders.size&&(yield this.createDefaultOrders())})}createDefaultOrders(){return gt(this,void 0,void 0,function*(){var e,n,t,r;try{const a=yield ht.findAll(),s=yield rt.findAll();if(0===a.length||0===s.length)return void console.log("No suppliers or products found, skipping default orders creation");const i=[{supplierId:a[0].id,orderDate:new Date(Date.now()-6048e5),expectedDate:new Date(Date.now()+2592e5),status:T.CONFIRMED,discountAmount:0,taxAmount:0,remark:"示例采购订单A",creator:"系统管理员",items:[{productId:null===(e=s[0])||void 0===e?void 0:e.id,quantity:100,unitPrice:50,discountRate:0,receivedQuantity:60},{productId:null===(n=s[1])||void 0===n?void 0:n.id,quantity:50,unitPrice:120,discountRate:.05,receivedQuantity:0}]},{supplierId:(null===(t=a[1])||void 0===t?void 0:t.id)||a[0].id,orderDate:new Date(Date.now()-2592e5),expectedDate:new Date(Date.now()+6048e5),status:T.DRAFT,discountAmount:100,taxAmount:0,remark:"示例采购订单B",creator:"采购员",items:[{productId:(null===(r=s[2])||void 0===r?void 0:r.id)||s[0].id,quantity:200,unitPrice:25,discountRate:0,receivedQuantity:0}]}];for(const e of i)try{const{items:n}=e,t=vt(e,["items"]),r=yield this.create(t);for(const e of n)e.productId&&(yield this.addOrderItem(r.id,e))}catch(e){console.warn("Failed to create default purchase order:",e)}}catch(e){console.warn("Failed to create default purchase orders:",e)}})}findAll(){return gt(this,void 0,void 0,function*(){const e=Array.from(this.orders.values());for(const n of e)yield this.loadOrderRelations(n);return e})}findById(e){return gt(this,void 0,void 0,function*(){const n=this.orders.get(e);return n?(yield this.loadOrderRelations(n),n):null})}findByOrderNo(e){return gt(this,void 0,void 0,function*(){const n=this.orderNoIndex.get(e);return n?this.findById(n):null})}findBySupplier(e){return gt(this,void 0,void 0,function*(){const n=Array.from(this.orders.values()).filter(n=>n.supplierId===e);for(const e of n)yield this.loadOrderRelations(e);return n})}findByStatus(e){return gt(this,void 0,void 0,function*(){const n=Array.from(this.orders.values()).filter(n=>n.status===e);for(const e of n)yield this.loadOrderRelations(e);return n})}findByDateRange(e,n){return gt(this,void 0,void 0,function*(){const t=Array.from(this.orders.values()).filter(t=>t.orderDate>=e&&t.orderDate<=n);for(const e of t)yield this.loadOrderRelations(e);return t})}create(e){return gt(this,void 0,void 0,function*(){var n;if(!(yield ht.findById(e.supplierId)))throw new Error(`供应商不存在: ${e.supplierId}`);const t=yield this.generateOrderNo(),r=Object.assign(Object.assign({},e),{id:nt(),orderNo:t,totalAmount:0,finalAmount:0,createdAt:new Date,updatedAt:new Date}),a=Kn(Zn,r);if(!a.success)throw new Error(`采购订单数据验证失败: ${null===(n=a.errors)||void 0===n?void 0:n.join(", ")}`);return this.orders.set(r.id,r),this.orderNoIndex.set(r.orderNo,r.id),this.orderItemsByOrder.set(r.id,[]),r})}update(e,n){return gt(this,void 0,void 0,function*(){var t;const r=this.orders.get(e);if(!r)throw new Error(`采购订单不存在: ${e}`);const a=Object.assign(Object.assign(Object.assign({},r),n),{updatedAt:new Date}),s=Kn(Zn,a);if(!s.success)throw new Error(`采购订单数据验证失败: ${null===(t=s.errors)||void 0===t?void 0:t.join(", ")}`);return this.orders.set(e,a),a})}delete(e){return gt(this,void 0,void 0,function*(){const n=this.orders.get(e);if(!n)return!1;const t=this.orderItemsByOrder.get(e)||[];for(const e of t)this.orderItems.delete(e);return this.orders.delete(e),this.orderNoIndex.delete(n.orderNo),this.orderItemsByOrder.delete(e),!0})}updateStatus(e,n){return gt(this,void 0,void 0,function*(){return this.update(e,{status:n})})}addOrderItem(e,n){return gt(this,void 0,void 0,function*(){var t;if(!this.orders.get(e))throw new Error(`采购订单不存在: ${e}`);if(!(yield rt.findById(n.productId)))throw new Error(`产品不存在: ${n.productId}`);const r=n.quantity*n.unitPrice*(1-n.discountRate);let a=z.PENDING;n.receivedQuantity>0&&(a=n.receivedQuantity>=n.quantity?z.COMPLETED:z.PARTIAL);const s=Object.assign(Object.assign({},n),{id:nt(),orderId:e,amount:r,status:a,createdAt:new Date,updatedAt:new Date}),i=Kn(Qn,s);if(!i.success)throw new Error(`订单项目数据验证失败: ${null===(t=i.errors)||void 0===t?void 0:t.join(", ")}`);this.orderItems.set(s.id,s);const o=this.orderItemsByOrder.get(e)||[];return o.push(s.id),this.orderItemsByOrder.set(e,o),yield this.recalculateOrderTotals(e),s})}updateOrderItem(e,n){return gt(this,void 0,void 0,function*(){var t;const r=this.orderItems.get(e);if(!r)throw new Error(`订单项目不存在: ${e}`);const a=void 0!==n.quantity?n.quantity:r.quantity,s=void 0!==n.unitPrice?n.unitPrice:r.unitPrice,i=void 0!==n.discountRate?n.discountRate:r.discountRate,o=void 0!==n.receivedQuantity?n.receivedQuantity:r.receivedQuantity,l=a*s*(1-i);let c=z.PENDING;o>0&&(c=o>=a?z.COMPLETED:z.PARTIAL);const d=Object.assign(Object.assign(Object.assign({},r),n),{amount:l,status:c,updatedAt:new Date}),u=Kn(Qn,d);if(!u.success)throw new Error(`订单项目数据验证失败: ${null===(t=u.errors)||void 0===t?void 0:t.join(", ")}`);return this.orderItems.set(e,d),yield this.recalculateOrderTotals(r.orderId),d})}removeOrderItem(e){return gt(this,void 0,void 0,function*(){const n=this.orderItems.get(e);if(!n)return!1;const t=n.orderId;this.orderItems.delete(e);const r=(this.orderItemsByOrder.get(t)||[]).filter(n=>n!==e);return this.orderItemsByOrder.set(t,r),yield this.recalculateOrderTotals(t),!0})}getOrderItems(e){return gt(this,void 0,void 0,function*(){const n=(this.orderItemsByOrder.get(e)||[]).map(e=>this.orderItems.get(e)).filter(Boolean);for(const e of n)yield this.loadOrderItemRelations(e);return n})}loadOrderRelations(e){return gt(this,void 0,void 0,function*(){e.supplier=(yield ht.findById(e.supplierId))||void 0,e.items=yield this.getOrderItems(e.id)})}loadOrderItemRelations(e){return gt(this,void 0,void 0,function*(){e.product=(yield rt.findById(e.productId))||void 0})}recalculateOrderTotals(e){return gt(this,void 0,void 0,function*(){const n=this.orders.get(e);if(!n)return;const t=(yield this.getOrderItems(e)).reduce((e,n)=>e+n.amount,0),r=t-n.discountAmount+n.taxAmount;yield this.update(e,{totalAmount:t,finalAmount:r})})}generateOrderNo(){return gt(this,void 0,void 0,function*(){return`PO${(new Date).toISOString().slice(0,10).replace(/-/g,"")}${String(this.orders.size+1).padStart(4,"0")}`})}getOrderStats(){return gt(this,void 0,void 0,function*(){const e=yield this.findAll(),n={[T.DRAFT]:0,[T.CONFIRMED]:0,[T.PARTIAL]:0,[T.COMPLETED]:0,[T.CANCELLED]:0};let t=0,r=0,a=0;const s=new Date;return e.forEach(e=>{n[e.status]++,t+=e.finalAmount,e.status!==T.CONFIRMED&&e.status!==T.PARTIAL||(r++,e.expectedDate&&e.expectedDate<s&&a++)}),{total:e.length,byStatus:n,totalValue:t,averageOrderValue:e.length>0?t/e.length:0,pendingOrders:r,overdueOrders:a}})}getTopSuppliersByOrderValue(){return gt(this,arguments,void 0,function*(e=10){const n=yield this.findAll(),t=new Map;return n.forEach(e=>{if(e.supplier){const n=t.get(e.supplierId)||{supplier:e.supplier,orderCount:0,totalValue:0};n.orderCount++,n.totalValue+=e.finalAmount,t.set(e.supplierId,n)}}),Array.from(t.values()).map(e=>Object.assign(Object.assign({},e),{averageOrderValue:e.orderCount>0?e.totalValue/e.orderCount:0})).sort((e,n)=>n.totalValue-e.totalValue).slice(0,e)})}getOrdersByMonth(e){return gt(this,void 0,void 0,function*(){const n=yield this.findAll(),t=new Array(12).fill(null).map((e,n)=>({month:n+1,orderCount:0,totalValue:0}));return n.forEach(n=>{if(n.orderDate.getFullYear()===e){const e=n.orderDate.getMonth();t[e].orderCount++,t[e].totalValue+=n.finalAmount}}),t})}search(e){return gt(this,void 0,void 0,function*(){const n=e.toLowerCase().trim();return n?(yield this.findAll()).filter(e=>{var t,r;return e.orderNo.toLowerCase().includes(n)||(null===(t=e.supplier)||void 0===t?void 0:t.name.toLowerCase().includes(n))||(null===(r=e.supplier)||void 0===r?void 0:r.code.toLowerCase().includes(n))||e.creator.toLowerCase().includes(n)||e.remark&&e.remark.toLowerCase().includes(n)}):this.findAll()})}};var xt=function(e,n,t,r){return new(t||(t=Promise))(function(a,s){function i(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var n;e.done?a(e.value):(n=e.value,n instanceof t?n:new t(function(e){e(n)})).then(i,o)}l((r=r.apply(e,n||[])).next())})},yt=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(t[r[a]]=e[r[a]])}return t};const wt=new class{constructor(){this.receipts=new Map,this.receiptItems=new Map,this.receiptNoIndex=new Map,this.receiptItemsByReceipt=new Map}initialize(){return xt(this,void 0,void 0,function*(){console.log("Purchase receipt service initialized"),0===this.receipts.size&&(yield this.createDefaultReceipts())})}createDefaultReceipts(){return xt(this,void 0,void 0,function*(){try{const e=yield bt.findAll(),n=yield ct.findAll();if(0===e.length||0===n.length)return void console.log("No orders or warehouses found, skipping default receipts creation");const t=e.filter(e=>"confirmed"===e.status&&e.items&&e.items.length>0);if(0===t.length)return void console.log("No confirmed orders found, skipping default receipts creation");const r=n.find(e=>e.isDefault)||n[0],a=[{orderId:t[0].id,supplierId:t[0].supplierId,warehouseId:r.id,receiptDate:new Date(Date.now()-1728e5),status:L.CONFIRMED,receiver:"仓库管理员",remark:"示例收货单A - 部分收货",partialReceipt:!0}];for(const e of a)try{const{partialReceipt:n}=e,t=yt(e,["partialReceipt"]),r=yield this.create(t),a=yield bt.findById(e.orderId);if(a&&a.items)for(const e of a.items){const t=n?Math.floor(.6*e.quantity):e.quantity;t>0&&(yield this.addReceiptItem(r.id,{productId:e.productId,orderItemId:e.id,quantity:t,unitPrice:e.unitPrice}))}}catch(e){console.warn("Failed to create default purchase receipt:",e)}}catch(e){console.warn("Failed to create default purchase receipts:",e)}})}findAll(){return xt(this,void 0,void 0,function*(){const e=Array.from(this.receipts.values());for(const n of e)yield this.loadReceiptRelations(n);return e})}findById(e){return xt(this,void 0,void 0,function*(){const n=this.receipts.get(e);return n?(yield this.loadReceiptRelations(n),n):null})}findByReceiptNo(e){return xt(this,void 0,void 0,function*(){const n=this.receiptNoIndex.get(e);return n?this.findById(n):null})}findByOrder(e){return xt(this,void 0,void 0,function*(){const n=Array.from(this.receipts.values()).filter(n=>n.orderId===e);for(const e of n)yield this.loadReceiptRelations(e);return n})}findBySupplier(e){return xt(this,void 0,void 0,function*(){const n=Array.from(this.receipts.values()).filter(n=>n.supplierId===e);for(const e of n)yield this.loadReceiptRelations(e);return n})}findByWarehouse(e){return xt(this,void 0,void 0,function*(){const n=Array.from(this.receipts.values()).filter(n=>n.warehouseId===e);for(const e of n)yield this.loadReceiptRelations(e);return n})}findByDateRange(e,n){return xt(this,void 0,void 0,function*(){const t=Array.from(this.receipts.values()).filter(t=>t.receiptDate>=e&&t.receiptDate<=n);for(const e of t)yield this.loadReceiptRelations(e);return t})}create(e){return xt(this,void 0,void 0,function*(){if(!(yield bt.findById(e.orderId)))throw new Error(`采购订单不存在: ${e.orderId}`);if(!(yield ht.findById(e.supplierId)))throw new Error(`供应商不存在: ${e.supplierId}`);if(!(yield ct.findById(e.warehouseId)))throw new Error(`仓库不存在: ${e.warehouseId}`);const n=yield this.generateReceiptNo(),t=Object.assign(Object.assign({},e),{id:nt(),receiptNo:n,totalQuantity:0,totalAmount:0,createdAt:new Date,updatedAt:new Date});return this.receipts.set(t.id,t),this.receiptNoIndex.set(t.receiptNo,t.id),this.receiptItemsByReceipt.set(t.id,[]),t})}update(e,n){return xt(this,void 0,void 0,function*(){const t=this.receipts.get(e);if(!t)throw new Error(`采购收货单不存在: ${e}`);const r=Object.assign(Object.assign(Object.assign({},t),n),{updatedAt:new Date});return this.receipts.set(e,r),r})}delete(e){return xt(this,void 0,void 0,function*(){const n=this.receipts.get(e);if(!n)return!1;const t=this.receiptItemsByReceipt.get(e)||[];for(const e of t)this.receiptItems.delete(e);return this.receipts.delete(e),this.receiptNoIndex.delete(n.receiptNo),this.receiptItemsByReceipt.delete(e),!0})}updateStatus(e,n){return xt(this,void 0,void 0,function*(){const t=yield this.update(e,{status:n});return n===L.CONFIRMED&&(yield this.updateInventoryOnConfirm(e)),t})}addReceiptItem(e,n){return xt(this,void 0,void 0,function*(){if(!this.receipts.get(e))throw new Error(`采购收货单不存在: ${e}`);if(!(yield rt.findById(n.productId)))throw new Error(`产品不存在: ${n.productId}`);const t=n.quantity*n.unitPrice,r=Object.assign(Object.assign({},n),{id:nt(),receiptId:e,amount:t,createdAt:new Date,updatedAt:new Date});this.receiptItems.set(r.id,r);const a=this.receiptItemsByReceipt.get(e)||[];return a.push(r.id),this.receiptItemsByReceipt.set(e,a),yield this.recalculateReceiptTotals(e),r})}updateReceiptItem(e,n){return xt(this,void 0,void 0,function*(){const t=this.receiptItems.get(e);if(!t)throw new Error(`收货项目不存在: ${e}`);const r=(void 0!==n.quantity?n.quantity:t.quantity)*(void 0!==n.unitPrice?n.unitPrice:t.unitPrice),a=Object.assign(Object.assign(Object.assign({},t),n),{amount:r,updatedAt:new Date});return this.receiptItems.set(e,a),yield this.recalculateReceiptTotals(t.receiptId),a})}removeReceiptItem(e){return xt(this,void 0,void 0,function*(){const n=this.receiptItems.get(e);if(!n)return!1;const t=n.receiptId;this.receiptItems.delete(e);const r=(this.receiptItemsByReceipt.get(t)||[]).filter(n=>n!==e);return this.receiptItemsByReceipt.set(t,r),yield this.recalculateReceiptTotals(t),!0})}getReceiptItems(e){return xt(this,void 0,void 0,function*(){const n=(this.receiptItemsByReceipt.get(e)||[]).map(e=>this.receiptItems.get(e)).filter(Boolean);for(const e of n)yield this.loadReceiptItemRelations(e);return n})}updateInventoryOnConfirm(e){return xt(this,void 0,void 0,function*(){const n=yield this.findById(e);if(n&&n.items){for(const t of n.items)try{yield ut.stockIn({productId:t.productId,warehouseId:n.warehouseId,quantity:t.quantity,unitPrice:t.unitPrice,referenceId:e,remark:`采购收货 - ${n.receiptNo}`,operator:n.receiver})}catch(e){console.error(`Failed to update inventory for item ${t.id}:`,e)}for(const e of n.items)if(e.orderItemId)try{const t=yield bt.findById(n.orderId);if(t&&t.items){const n=t.items.find(n=>n.id===e.orderItemId);if(n){const t=n.receivedQuantity+e.quantity;yield bt.updateOrderItem(e.orderItemId,{receivedQuantity:t})}}}catch(n){console.error(`Failed to update order item ${e.orderItemId}:`,n)}}})}loadReceiptRelations(e){return xt(this,void 0,void 0,function*(){e.order=(yield bt.findById(e.orderId))||void 0,e.supplier=(yield ht.findById(e.supplierId))||void 0,e.warehouse=(yield ct.findById(e.warehouseId))||void 0,e.items=yield this.getReceiptItems(e.id)})}loadReceiptItemRelations(e){return xt(this,void 0,void 0,function*(){e.product=(yield rt.findById(e.productId))||void 0,e.orderItemId})}recalculateReceiptTotals(e){return xt(this,void 0,void 0,function*(){if(!this.receipts.get(e))return;const n=yield this.getReceiptItems(e),t=n.reduce((e,n)=>e+n.quantity,0),r=n.reduce((e,n)=>e+n.amount,0);yield this.update(e,{totalQuantity:t,totalAmount:r})})}generateReceiptNo(){return xt(this,void 0,void 0,function*(){return`PR${(new Date).toISOString().slice(0,10).replace(/-/g,"")}${String(this.receipts.size+1).padStart(4,"0")}`})}getReceiptStats(){return xt(this,void 0,void 0,function*(){const e=yield this.findAll(),n={[L.DRAFT]:0,[L.CONFIRMED]:0};let t=0,r=0;return e.forEach(e=>{n[e.status]++,t+=e.totalQuantity,r+=e.totalAmount}),{total:e.length,byStatus:n,totalQuantity:t,totalValue:r,averageReceiptValue:e.length>0?r/e.length:0}})}getReceiptsByMonth(e){return xt(this,void 0,void 0,function*(){const n=yield this.findAll(),t=new Array(12).fill(null).map((e,n)=>({month:n+1,receiptCount:0,totalQuantity:0,totalValue:0}));return n.forEach(n=>{if(n.receiptDate.getFullYear()===e){const e=n.receiptDate.getMonth();t[e].receiptCount++,t[e].totalQuantity+=n.totalQuantity,t[e].totalValue+=n.totalAmount}}),t})}search(e){return xt(this,void 0,void 0,function*(){const n=e.toLowerCase().trim();return n?(yield this.findAll()).filter(e=>{var t,r;return e.receiptNo.toLowerCase().includes(n)||(null===(t=e.supplier)||void 0===t?void 0:t.name.toLowerCase().includes(n))||(null===(r=e.warehouse)||void 0===r?void 0:r.name.toLowerCase().includes(n))||e.receiver.toLowerCase().includes(n)||e.remark&&e.remark.toLowerCase().includes(n)}):this.findAll()})}getPendingReceiptsForOrder(e){return xt(this,void 0,void 0,function*(){const n=yield bt.findById(e);if(!n||!n.items)return{orderItems:[],canReceive:!1};const t=n.items.map(e=>Object.assign(Object.assign({},e),{pendingQuantity:e.quantity-e.receivedQuantity,canReceive:e.quantity>e.receivedQuantity})),r=t.some(e=>e.canReceive);return{orderItems:t,canReceive:r}})}};var kt=function(e,n,t,r){return new(t||(t=Promise))(function(a,s){function i(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var n;e.done?a(e.value):(n=e.value,n instanceof t?n:new t(function(e){e(n)})).then(i,o)}l((r=r.apply(e,n||[])).next())})},jt=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(t[r[a]]=e[r[a]])}return t};const Nt=new class{constructor(){this.orders=new Map,this.orderItems=new Map,this.orderNoIndex=new Map,this.orderItemsByOrder=new Map}initialize(){return kt(this,void 0,void 0,function*(){console.log("Sales order service initialized"),0===this.orders.size&&(yield this.createDefaultOrders())})}createDefaultOrders(){return kt(this,void 0,void 0,function*(){var e,n,t,r;try{const a=yield ft.findAll(),s=yield rt.findAll();if(0===a.length||0===s.length)return void console.log("No customers or products found, skipping default sales orders creation");const i=[{customerId:a[0].id,orderDate:new Date(Date.now()-432e6),deliveryDate:new Date(Date.now()+1728e5),status:$.CONFIRMED,paymentStatus:B.PARTIAL,discountAmount:50,taxAmount:0,remark:"示例销售订单A",creator:"销售员",items:[{productId:null===(e=s[0])||void 0===e?void 0:e.id,quantity:20,unitPrice:55,discountRate:0,deliveredQuantity:10},{productId:null===(n=s[1])||void 0===n?void 0:n.id,quantity:15,unitPrice:125,discountRate:.03,deliveredQuantity:0}]},{customerId:(null===(t=a[1])||void 0===t?void 0:t.id)||a[0].id,orderDate:new Date(Date.now()-1728e5),deliveryDate:new Date(Date.now()+432e6),status:$.DRAFT,paymentStatus:B.UNPAID,discountAmount:0,taxAmount:80,remark:"示例销售订单B",creator:"销售主管",items:[{productId:(null===(r=s[2])||void 0===r?void 0:r.id)||s[0].id,quantity:50,unitPrice:28,discountRate:0,deliveredQuantity:0}]}];for(const e of i)try{const{items:n}=e,t=jt(e,["items"]),r=yield this.create(t);for(const e of n)e.productId&&(yield this.addOrderItem(r.id,e))}catch(e){console.warn("Failed to create default sales order:",e)}}catch(e){console.warn("Failed to create default sales orders:",e)}})}findAll(){return kt(this,void 0,void 0,function*(){const e=Array.from(this.orders.values());for(const n of e)yield this.loadOrderRelations(n);return e})}findById(e){return kt(this,void 0,void 0,function*(){const n=this.orders.get(e);return n?(yield this.loadOrderRelations(n),n):null})}findByOrderNo(e){return kt(this,void 0,void 0,function*(){const n=this.orderNoIndex.get(e);return n?this.findById(n):null})}findByCustomer(e){return kt(this,void 0,void 0,function*(){const n=Array.from(this.orders.values()).filter(n=>n.customerId===e);for(const e of n)yield this.loadOrderRelations(e);return n})}findByStatus(e){return kt(this,void 0,void 0,function*(){const n=Array.from(this.orders.values()).filter(n=>n.status===e);for(const e of n)yield this.loadOrderRelations(e);return n})}findByDateRange(e,n){return kt(this,void 0,void 0,function*(){const t=Array.from(this.orders.values()).filter(t=>t.orderDate>=e&&t.orderDate<=n);for(const e of t)yield this.loadOrderRelations(e);return t})}create(e){return kt(this,void 0,void 0,function*(){var n;if(!(yield ft.findById(e.customerId)))throw new Error(`客户不存在: ${e.customerId}`);const t=yield this.generateOrderNo(),r=Object.assign(Object.assign({},e),{id:nt(),orderNo:t,totalAmount:0,finalAmount:0,createdAt:new Date,updatedAt:new Date}),a=Kn(Hn,r);if(!a.success)throw new Error(`销售订单数据验证失败: ${null===(n=a.errors)||void 0===n?void 0:n.join(", ")}`);return this.orders.set(r.id,r),this.orderNoIndex.set(r.orderNo,r.id),this.orderItemsByOrder.set(r.id,[]),r})}update(e,n){return kt(this,void 0,void 0,function*(){var t;const r=this.orders.get(e);if(!r)throw new Error(`销售订单不存在: ${e}`);const a=Object.assign(Object.assign(Object.assign({},r),n),{updatedAt:new Date}),s=Kn(Hn,a);if(!s.success)throw new Error(`销售订单数据验证失败: ${null===(t=s.errors)||void 0===t?void 0:t.join(", ")}`);return this.orders.set(e,a),a})}delete(e){return kt(this,void 0,void 0,function*(){const n=this.orders.get(e);if(!n)return!1;const t=this.orderItemsByOrder.get(e)||[];for(const e of t)this.orderItems.delete(e);return this.orders.delete(e),this.orderNoIndex.delete(n.orderNo),this.orderItemsByOrder.delete(e),!0})}updateStatus(e,n){return kt(this,void 0,void 0,function*(){return this.update(e,{status:n})})}updatePaymentStatus(e,n){return kt(this,void 0,void 0,function*(){return this.update(e,{paymentStatus:n})})}addOrderItem(e,n){return kt(this,void 0,void 0,function*(){var t;if(!this.orders.get(e))throw new Error(`销售订单不存在: ${e}`);if(!(yield rt.findById(n.productId)))throw new Error(`产品不存在: ${n.productId}`);const r=n.quantity*n.unitPrice*(1-n.discountRate);let a=z.PENDING;n.deliveredQuantity>0&&(a=n.deliveredQuantity>=n.quantity?z.COMPLETED:z.PARTIAL);const s=Object.assign(Object.assign({},n),{id:nt(),orderId:e,amount:r,status:a,createdAt:new Date,updatedAt:new Date}),i=Kn(Yn,s);if(!i.success)throw new Error(`订单项目数据验证失败: ${null===(t=i.errors)||void 0===t?void 0:t.join(", ")}`);this.orderItems.set(s.id,s);const o=this.orderItemsByOrder.get(e)||[];return o.push(s.id),this.orderItemsByOrder.set(e,o),yield this.recalculateOrderTotals(e),s})}updateOrderItem(e,n){return kt(this,void 0,void 0,function*(){var t;const r=this.orderItems.get(e);if(!r)throw new Error(`订单项目不存在: ${e}`);const a=void 0!==n.quantity?n.quantity:r.quantity,s=void 0!==n.unitPrice?n.unitPrice:r.unitPrice,i=void 0!==n.discountRate?n.discountRate:r.discountRate,o=void 0!==n.deliveredQuantity?n.deliveredQuantity:r.deliveredQuantity,l=a*s*(1-i);let c=z.PENDING;o>0&&(c=o>=a?z.COMPLETED:z.PARTIAL);const d=Object.assign(Object.assign(Object.assign({},r),n),{amount:l,status:c,updatedAt:new Date}),u=Kn(Yn,d);if(!u.success)throw new Error(`订单项目数据验证失败: ${null===(t=u.errors)||void 0===t?void 0:t.join(", ")}`);return this.orderItems.set(e,d),yield this.recalculateOrderTotals(r.orderId),d})}removeOrderItem(e){return kt(this,void 0,void 0,function*(){const n=this.orderItems.get(e);if(!n)return!1;const t=n.orderId;this.orderItems.delete(e);const r=(this.orderItemsByOrder.get(t)||[]).filter(n=>n!==e);return this.orderItemsByOrder.set(t,r),yield this.recalculateOrderTotals(t),!0})}getOrderItems(e){return kt(this,void 0,void 0,function*(){const n=(this.orderItemsByOrder.get(e)||[]).map(e=>this.orderItems.get(e)).filter(Boolean);for(const e of n)yield this.loadOrderItemRelations(e);return n})}loadOrderRelations(e){return kt(this,void 0,void 0,function*(){e.customer=(yield ft.findById(e.customerId))||void 0,e.items=yield this.getOrderItems(e.id)})}loadOrderItemRelations(e){return kt(this,void 0,void 0,function*(){e.product=(yield rt.findById(e.productId))||void 0})}recalculateOrderTotals(e){return kt(this,void 0,void 0,function*(){const n=this.orders.get(e);if(!n)return;const t=(yield this.getOrderItems(e)).reduce((e,n)=>e+n.amount,0),r=t-n.discountAmount+n.taxAmount;yield this.update(e,{totalAmount:t,finalAmount:r})})}generateOrderNo(){return kt(this,void 0,void 0,function*(){return`SO${(new Date).toISOString().slice(0,10).replace(/-/g,"")}${String(this.orders.size+1).padStart(4,"0")}`})}getOrderStats(){return kt(this,void 0,void 0,function*(){const e=yield this.findAll(),n={[$.DRAFT]:0,[$.CONFIRMED]:0,[$.SHIPPED]:0,[$.COMPLETED]:0,[$.CANCELLED]:0},t={[B.UNPAID]:0,[B.PARTIAL]:0,[B.PAID]:0};let r=0,a=0,s=0;const i=new Date;return e.forEach(e=>{n[e.status]++,t[e.paymentStatus]++,r+=e.finalAmount,e.status!==$.CONFIRMED&&e.status!==$.SHIPPED||(a++,e.deliveryDate&&e.deliveryDate<i&&s++)}),{total:e.length,byStatus:n,byPaymentStatus:t,totalValue:r,averageOrderValue:e.length>0?r/e.length:0,pendingOrders:a,overdueOrders:s}})}getTopCustomersByOrderValue(){return kt(this,arguments,void 0,function*(e=10){const n=yield this.findAll(),t=new Map;return n.forEach(e=>{if(e.customer){const n=t.get(e.customerId)||{customer:e.customer,orderCount:0,totalValue:0};n.orderCount++,n.totalValue+=e.finalAmount,t.set(e.customerId,n)}}),Array.from(t.values()).map(e=>Object.assign(Object.assign({},e),{averageOrderValue:e.orderCount>0?e.totalValue/e.orderCount:0})).sort((e,n)=>n.totalValue-e.totalValue).slice(0,e)})}getOrdersByMonth(e){return kt(this,void 0,void 0,function*(){const n=yield this.findAll(),t=new Array(12).fill(null).map((e,n)=>({month:n+1,orderCount:0,totalValue:0}));return n.forEach(n=>{if(n.orderDate.getFullYear()===e){const e=n.orderDate.getMonth();t[e].orderCount++,t[e].totalValue+=n.finalAmount}}),t})}search(e){return kt(this,void 0,void 0,function*(){const n=e.toLowerCase().trim();return n?(yield this.findAll()).filter(e=>{var t,r;return e.orderNo.toLowerCase().includes(n)||(null===(t=e.customer)||void 0===t?void 0:t.name.toLowerCase().includes(n))||(null===(r=e.customer)||void 0===r?void 0:r.code.toLowerCase().includes(n))||e.creator.toLowerCase().includes(n)||e.remark&&e.remark.toLowerCase().includes(n)}):this.findAll()})}getPendingDeliveriesForOrder(e){return kt(this,void 0,void 0,function*(){const n=yield this.findById(e);if(!n||!n.items)return{orderItems:[],canDeliver:!1};const t=n.items.map(e=>Object.assign(Object.assign({},e),{pendingQuantity:e.quantity-e.deliveredQuantity,canDeliver:e.quantity>e.deliveredQuantity})),r=t.some(e=>e.canDeliver);return{orderItems:t,canDeliver:r}})}};var St=function(e,n,t,r){return new(t||(t=Promise))(function(a,s){function i(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var n;e.done?a(e.value):(n=e.value,n instanceof t?n:new t(function(e){e(n)})).then(i,o)}l((r=r.apply(e,n||[])).next())})},It=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(t[r[a]]=e[r[a]])}return t};const Ct=new class{constructor(){this.deliveries=new Map,this.deliveryItems=new Map,this.deliveryNoIndex=new Map,this.deliveryItemsByDelivery=new Map}initialize(){return St(this,void 0,void 0,function*(){console.log("Sales delivery service initialized"),0===this.deliveries.size&&(yield this.createDefaultDeliveries())})}createDefaultDeliveries(){return St(this,void 0,void 0,function*(){try{const e=yield Nt.findAll(),n=yield ct.findAll();if(0===e.length||0===n.length)return void console.log("No orders or warehouses found, skipping default deliveries creation");const t=e.filter(e=>"confirmed"===e.status&&e.items&&e.items.length>0);if(0===t.length)return void console.log("No confirmed orders found, skipping default deliveries creation");const r=n.find(e=>e.isDefault)||n[0],a=[{orderId:t[0].id,customerId:t[0].customerId,warehouseId:r.id,deliveryDate:new Date(Date.now()-864e5),status:V.COMPLETED,deliveryPerson:"配送员张三",remark:"示例出库单A - 部分出库",partialDelivery:!0}];for(const e of a)try{const{partialDelivery:n}=e,t=It(e,["partialDelivery"]),r=yield this.create(t),a=yield Nt.findById(e.orderId);if(a&&a.items)for(const e of a.items){const t=n?Math.floor(.5*e.quantity):e.quantity;t>0&&(yield this.addDeliveryItem(r.id,{productId:e.productId,orderItemId:e.id,quantity:t,unitPrice:e.unitPrice}))}}catch(e){console.warn("Failed to create default sales delivery:",e)}}catch(e){console.warn("Failed to create default sales deliveries:",e)}})}findAll(){return St(this,void 0,void 0,function*(){const e=Array.from(this.deliveries.values());for(const n of e)yield this.loadDeliveryRelations(n);return e})}findById(e){return St(this,void 0,void 0,function*(){const n=this.deliveries.get(e);return n?(yield this.loadDeliveryRelations(n),n):null})}findByDeliveryNo(e){return St(this,void 0,void 0,function*(){const n=this.deliveryNoIndex.get(e);return n?this.findById(n):null})}findByOrder(e){return St(this,void 0,void 0,function*(){const n=Array.from(this.deliveries.values()).filter(n=>n.orderId===e);for(const e of n)yield this.loadDeliveryRelations(e);return n})}findByCustomer(e){return St(this,void 0,void 0,function*(){const n=Array.from(this.deliveries.values()).filter(n=>n.customerId===e);for(const e of n)yield this.loadDeliveryRelations(e);return n})}findByWarehouse(e){return St(this,void 0,void 0,function*(){const n=Array.from(this.deliveries.values()).filter(n=>n.warehouseId===e);for(const e of n)yield this.loadDeliveryRelations(e);return n})}findByDateRange(e,n){return St(this,void 0,void 0,function*(){const t=Array.from(this.deliveries.values()).filter(t=>t.deliveryDate>=e&&t.deliveryDate<=n);for(const e of t)yield this.loadDeliveryRelations(e);return t})}create(e){return St(this,void 0,void 0,function*(){if(!(yield Nt.findById(e.orderId)))throw new Error(`销售订单不存在: ${e.orderId}`);if(!(yield ft.findById(e.customerId)))throw new Error(`客户不存在: ${e.customerId}`);if(!(yield ct.findById(e.warehouseId)))throw new Error(`仓库不存在: ${e.warehouseId}`);const n=yield this.generateDeliveryNo(),t=Object.assign(Object.assign({},e),{id:nt(),deliveryNo:n,totalQuantity:0,totalAmount:0,createdAt:new Date,updatedAt:new Date});return this.deliveries.set(t.id,t),this.deliveryNoIndex.set(t.deliveryNo,t.id),this.deliveryItemsByDelivery.set(t.id,[]),t})}update(e,n){return St(this,void 0,void 0,function*(){const t=this.deliveries.get(e);if(!t)throw new Error(`销售出库单不存在: ${e}`);const r=Object.assign(Object.assign(Object.assign({},t),n),{updatedAt:new Date});return this.deliveries.set(e,r),r})}delete(e){return St(this,void 0,void 0,function*(){const n=this.deliveries.get(e);if(!n)return!1;const t=this.deliveryItemsByDelivery.get(e)||[];for(const e of t)this.deliveryItems.delete(e);return this.deliveries.delete(e),this.deliveryNoIndex.delete(n.deliveryNo),this.deliveryItemsByDelivery.delete(e),!0})}updateStatus(e,n){return St(this,void 0,void 0,function*(){const t=yield this.update(e,{status:n});return n===V.COMPLETED&&(yield this.updateInventoryOnComplete(e)),t})}addDeliveryItem(e,n){return St(this,void 0,void 0,function*(){if(!this.deliveries.get(e))throw new Error(`销售出库单不存在: ${e}`);if(!(yield rt.findById(n.productId)))throw new Error(`产品不存在: ${n.productId}`);const t=n.quantity*n.unitPrice,r=Object.assign(Object.assign({},n),{id:nt(),deliveryId:e,amount:t,createdAt:new Date,updatedAt:new Date});this.deliveryItems.set(r.id,r);const a=this.deliveryItemsByDelivery.get(e)||[];return a.push(r.id),this.deliveryItemsByDelivery.set(e,a),yield this.recalculateDeliveryTotals(e),r})}updateDeliveryItem(e,n){return St(this,void 0,void 0,function*(){const t=this.deliveryItems.get(e);if(!t)throw new Error(`出库项目不存在: ${e}`);const r=(void 0!==n.quantity?n.quantity:t.quantity)*(void 0!==n.unitPrice?n.unitPrice:t.unitPrice),a=Object.assign(Object.assign(Object.assign({},t),n),{amount:r,updatedAt:new Date});return this.deliveryItems.set(e,a),yield this.recalculateDeliveryTotals(t.deliveryId),a})}removeDeliveryItem(e){return St(this,void 0,void 0,function*(){const n=this.deliveryItems.get(e);if(!n)return!1;const t=n.deliveryId;this.deliveryItems.delete(e);const r=(this.deliveryItemsByDelivery.get(t)||[]).filter(n=>n!==e);return this.deliveryItemsByDelivery.set(t,r),yield this.recalculateDeliveryTotals(t),!0})}getDeliveryItems(e){return St(this,void 0,void 0,function*(){const n=(this.deliveryItemsByDelivery.get(e)||[]).map(e=>this.deliveryItems.get(e)).filter(Boolean);for(const e of n)yield this.loadDeliveryItemRelations(e);return n})}updateInventoryOnComplete(e){return St(this,void 0,void 0,function*(){const n=yield this.findById(e);if(n&&n.items){for(const t of n.items)try{yield ut.stockOut({productId:t.productId,warehouseId:n.warehouseId,quantity:t.quantity,unitPrice:t.unitPrice,referenceId:e,remark:`销售出库 - ${n.deliveryNo}`,operator:n.deliveryPerson})}catch(e){console.error(`Failed to update inventory for item ${t.id}:`,e)}for(const e of n.items)if(e.orderItemId)try{const t=yield Nt.findById(n.orderId);if(t&&t.items){const n=t.items.find(n=>n.id===e.orderItemId);if(n){const t=n.deliveredQuantity+e.quantity;yield Nt.updateOrderItem(e.orderItemId,{deliveredQuantity:t})}}}catch(n){console.error(`Failed to update order item ${e.orderItemId}:`,n)}}})}loadDeliveryRelations(e){return St(this,void 0,void 0,function*(){e.order=(yield Nt.findById(e.orderId))||void 0,e.customer=(yield ft.findById(e.customerId))||void 0,e.warehouse=(yield ct.findById(e.warehouseId))||void 0,e.items=yield this.getDeliveryItems(e.id)})}loadDeliveryItemRelations(e){return St(this,void 0,void 0,function*(){e.product=(yield rt.findById(e.productId))||void 0})}recalculateDeliveryTotals(e){return St(this,void 0,void 0,function*(){if(!this.deliveries.get(e))return;const n=yield this.getDeliveryItems(e),t=n.reduce((e,n)=>e+n.quantity,0),r=n.reduce((e,n)=>e+n.amount,0);yield this.update(e,{totalQuantity:t,totalAmount:r})})}generateDeliveryNo(){return St(this,void 0,void 0,function*(){return`SD${(new Date).toISOString().slice(0,10).replace(/-/g,"")}${String(this.deliveries.size+1).padStart(4,"0")}`})}getDeliveryStats(){return St(this,void 0,void 0,function*(){const e=yield this.findAll(),n={[V.DRAFT]:0,[V.CONFIRMED]:0,[V.SHIPPED]:0,[V.COMPLETED]:0,[V.CANCELLED]:0};let t=0,r=0;return e.forEach(e=>{n[e.status]++,t+=e.totalQuantity,r+=e.totalAmount}),{total:e.length,byStatus:n,totalQuantity:t,totalValue:r,averageDeliveryValue:e.length>0?r/e.length:0}})}getDeliveriesByMonth(e){return St(this,void 0,void 0,function*(){const n=yield this.findAll(),t=new Array(12).fill(null).map((e,n)=>({month:n+1,deliveryCount:0,totalQuantity:0,totalValue:0}));return n.forEach(n=>{if(n.deliveryDate.getFullYear()===e){const e=n.deliveryDate.getMonth();t[e].deliveryCount++,t[e].totalQuantity+=n.totalQuantity,t[e].totalValue+=n.totalAmount}}),t})}search(e){return St(this,void 0,void 0,function*(){const n=e.toLowerCase().trim();return n?(yield this.findAll()).filter(e=>{var t,r;return e.deliveryNo.toLowerCase().includes(n)||(null===(t=e.customer)||void 0===t?void 0:t.name.toLowerCase().includes(n))||(null===(r=e.warehouse)||void 0===r?void 0:r.name.toLowerCase().includes(n))||e.deliveryPerson.toLowerCase().includes(n)||e.remark&&e.remark.toLowerCase().includes(n)}):this.findAll()})}getPendingDeliveriesForOrder(e){return St(this,void 0,void 0,function*(){const n=yield Nt.findById(e);if(!n||!n.items)return{orderItems:[],canDeliver:!1};const t=n.items.map(e=>Object.assign(Object.assign({},e),{pendingQuantity:e.quantity-e.deliveredQuantity,canDeliver:e.quantity>e.deliveredQuantity})),r=t.some(e=>e.canDeliver);return{orderItems:t,canDeliver:r}})}};var _t=function(e,n,t,r){return new(t||(t=Promise))(function(a,s){function i(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var n;e.done?a(e.value):(n=e.value,n instanceof t?n:new t(function(e){e(n)})).then(i,o)}l((r=r.apply(e,n||[])).next())})};const At=new class{constructor(){this.initialized=!1}initialize(){return _t(this,void 0,void 0,function*(){if(this.initialized)console.log("Business services already initialized");else{console.log("Initializing business services...");try{yield Promise.all([st.initialize(),ot.initialize(),ct.initialize(),ht.initialize(),ft.initialize()]),yield rt.initialize(),yield ut.initialize(),yield bt.initialize(),yield wt.initialize(),yield Nt.initialize(),yield Ct.initialize(),this.initialized=!0,console.log("All business services initialized successfully")}catch(e){throw console.error("Failed to initialize business services:",e),e}}})}getSystemStatus(){return _t(this,void 0,void 0,function*(){const e=[];try{const n=yield st.getCategoryStats();e.push({name:"CategoryService",status:"active",details:n});const t=yield ot.getUnitStats();e.push({name:"UnitService",status:"active",details:t});const r=yield ct.getWarehouseStats();e.push({name:"WarehouseService",status:"active",details:r});const a=yield rt.getProductStats();e.push({name:"ProductService",status:"active",details:a});const s=yield ht.getSupplierStats();e.push({name:"SupplierService",status:"active",details:s});const i=yield ft.getCustomerStats();e.push({name:"CustomerService",status:"active",details:i});const o=yield ut.getInventorySummary();e.push({name:"InventoryStockService",status:"active",details:o});const l=yield bt.getOrderStats();e.push({name:"PurchaseOrderService",status:"active",details:l});const c=yield wt.getReceiptStats();e.push({name:"PurchaseReceiptService",status:"active",details:c});const d=yield Nt.getOrderStats();e.push({name:"SalesOrderService",status:"active",details:d});const u=yield Ct.getDeliveryStats();e.push({name:"SalesDeliveryService",status:"active",details:u})}catch(n){e.push({name:"Unknown",status:"error",details:{error:n instanceof Error?n.message:"未知错误"}})}return{initialized:this.initialized,services:e}})}getBusinessSummary(){return _t(this,void 0,void 0,function*(){const[e,n,t,r,a,s,i,o,l,c,d]=yield Promise.all([st.getCategoryStats(),ot.getUnitStats(),ct.getWarehouseStats(),rt.getProductStats(),ht.getSupplierStats(),ft.getCustomerStats(),ut.getInventorySummary(),bt.getOrderStats(),wt.getReceiptStats(),Nt.getOrderStats(),Ct.getDeliveryStats()]);return{categories:e.total,units:n.total,warehouses:t.total,products:r.total,suppliers:a.total,customers:s.total,stockItems:i.totalProducts,transactions:i.totalTransactions,lowStockItems:i.lowStockCount,totalInventoryValue:i.totalValue,purchaseOrders:o.total,totalPurchaseValue:o.totalValue,purchaseReceipts:l.total,totalReceiptValue:l.totalValue,salesOrders:c.total,totalSalesValue:c.totalValue,salesDeliveries:d.total,totalDeliveryValue:d.totalValue}})}validateSystemIntegrity(){return _t(this,void 0,void 0,function*(){const e=[],n=[];try{const t=yield st.findAll(),r=yield ot.findAll(),a=yield ct.findAll();0===t.length&&n.push("系统中没有商品分类数据"),0===r.length&&n.push("系统中没有计量单位数据"),0===a.length&&e.push("系统中没有仓库数据，无法进行库存管理"),(yield ct.findDefault())||e.push("系统中没有设置默认仓库");const s=yield rt.findAll();for(const n of s)(yield st.findById(n.categoryId))||e.push(`产品 ${n.name} 关联的分类不存在: ${n.categoryId}`),(yield ot.findById(n.unitId))||e.push(`产品 ${n.name} 关联的单位不存在: ${n.unitId}`);const i=yield ut.findAllStocks();for(const n of i)(yield rt.findById(n.productId))||e.push(`库存记录关联的产品不存在: ${n.productId}`),(yield ct.findById(n.warehouseId))||e.push(`库存记录关联的仓库不存在: ${n.warehouseId}`),n.currentStock!==n.availableStock+n.reservedStock&&e.push(`库存记录数量逻辑错误: 产品 ${n.productId} 在仓库 ${n.warehouseId}`)}catch(n){e.push(`系统完整性检查失败: ${n instanceof Error?n.message:"未知错误"}`)}return{valid:0===e.length,issues:e,warnings:n}})}resetAllData(){return _t(this,void 0,void 0,function*(){console.warn("Resetting all business data..."),console.warn("Data reset operation logged but not executed for safety")})}isInitialized(){return this.initialized}};var Et=function(e,n,t,r){return new(t||(t=Promise))(function(a,s){function i(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var n;e.done?a(e.value):(n=e.value,n instanceof t?n:new t(function(e){e(n)})).then(i,o)}l((r=r.apply(e,n||[])).next())})};const Ot=new class{constructor(){this.recentActivities=[]}initialize(){return Et(this,void 0,void 0,function*(){console.log("Dashboard service initialized")})}getOverview(){return Et(this,void 0,void 0,function*(){const[e,n,t,r,a]=yield Promise.all([rt.getProductStats(),ht.getSupplierStats(),ft.getCustomerStats(),ct.getWarehouseStats(),ut.getInventorySummary()]),s=yield ut.findLowStockItems(),i=yield ut.findOutOfStockItems();return{totalProducts:e.total,totalSuppliers:n.total,totalCustomers:t.total,totalWarehouses:r.total,lowStockItems:s.length,outOfStockItems:i.length,totalInventoryValue:a.totalValue,recentTransactions:a.totalTransactions}})}getQuickStats(){return Et(this,void 0,void 0,function*(){const[e,n,t,r,a,s,i]=yield Promise.all([rt.getProductStats(),ut.getInventorySummary(),ht.getSupplierStats(),ft.getCustomerStats(),ut.findLowStockItems(),ft.findVIPCustomers(),ht.getTopSuppliersByCredit(5)]),o=n.totalProducts>0?n.totalValue/n.totalProducts:0;return{productsStats:{total:e.total,active:e.active,inactive:e.inactive,lowStock:a.length},inventoryStats:{totalValue:n.totalValue,totalItems:n.totalProducts,avgItemValue:o,stockTurnover:0},businessStats:{suppliers:t.total,customers:r.total,vipCustomers:s.length,topSuppliers:i.length}}})}getChartData(){return Et(this,void 0,void 0,function*(){const[e,n,t,r,a]=yield Promise.all([st.findAll(),ut.findAllStocks(),ut.getTopProductsByValue(10),ht.getSupplierStats(),ft.getCustomerStats()]);return{inventoryByCategory:yield this.getInventoryByCategory(),stockMovement:yield this.getStockMovementTrend(7),topProducts:t.map(e=>{var n;return{product:(null===(n=e.product)||void 0===n?void 0:n.name)||"未知产品",value:e.totalValue,quantity:e.stock.currentStock}}),supplierDistribution:Object.entries(r.byRating).map(([e,n])=>({rating:e,count:n,percentage:r.total>0?n/r.total*100:0})),customerLevels:Object.entries(a.byLevel).map(([e,n])=>({level:e,count:n,totalValue:0}))}})}getInventoryByCategory(){return Et(this,void 0,void 0,function*(){const e=yield st.findAll(),n=yield ut.findAllStocks(),t=new Map(e.map(e=>[e.id,e.name])),r=new Map;for(const e of n){const n=yield rt.findById(e.productId);if(n){const a=t.get(n.categoryId)||"未分类",s=r.get(a)||{value:0,count:0};r.set(a,{value:s.value+e.currentStock*e.avgCost,count:s.count+1})}}return Array.from(r.entries()).map(([e,n])=>({category:e,value:n.value,count:n.count}))})}getStockMovementTrend(e){return Et(this,void 0,void 0,function*(){const n=new Date,t=new Date;t.setDate(n.getDate()-e);const r=yield ut.findTransactionsByDateRange(t,n),a=new Map;for(let e=new Date(t);e<=n;e.setDate(e.getDate()+1)){const n=e.toISOString().split("T")[0];a.set(n,{stockIn:0,stockOut:0,adjustment:0})}return r.forEach(e=>{const n=e.createdAt.toISOString().split("T")[0],t=a.get(n);if(t)switch(e.transactionType){case"in":t.stockIn+=e.quantity;break;case"out":t.stockOut+=Math.abs(e.quantity);break;case"adjust":t.adjustment+=Math.abs(e.quantity)}}),Array.from(a.entries()).map(([e,n])=>Object.assign({date:e},n))})}addActivity(e){const n=Object.assign({id:Date.now().toString(),timestamp:new Date},e);this.recentActivities.unshift(n),this.recentActivities.length>100&&(this.recentActivities=this.recentActivities.slice(0,100))}getRecentActivities(){return Et(this,arguments,void 0,function*(e=20){return this.recentActivities.slice(0,e)})}getSystemHealth(){return Et(this,void 0,void 0,function*(){const e=yield At.validateSystemIntegrity(),n=[],t=yield ut.findLowStockItems(),r=yield ut.findOutOfStockItems();t.length>0&&n.push(`有 ${t.length} 个商品库存偏低，建议及时补货`),r.length>0&&n.push(`有 ${r.length} 个商品已缺货，需要紧急补货`);const a=yield rt.findAll(),s=[];for(const e of a)(yield st.findById(e.categoryId))||s.push(e.name);s.length>0&&e.warnings.push(`有 ${s.length} 个商品的分类数据异常`);let i="healthy";return e.issues.length>0?i="error":(e.warnings.length>0||n.length>0)&&(i="warning"),{status:i,issues:e.issues,warnings:e.warnings,recommendations:n,lastCheck:new Date}})}getQuickActions(){return Et(this,void 0,void 0,function*(){const e=yield ut.findLowStockItems(),n=yield ut.findOutOfStockItems(),t=yield this.getSystemHealth(),r=[{type:"low_stock",count:e.length,description:"库存偏低的商品",action:"查看详情"},{type:"out_of_stock",count:n.length,description:"缺货的商品",action:"紧急补货"}];return t.issues.length>0&&r.push({type:"system_issue",count:t.issues.length,description:"系统问题",action:"查看详情"}),{needAttention:r.filter(e=>e.count>0),shortcuts:[{name:"添加商品",description:"快速添加新商品",icon:"plus",route:"/products/add"},{name:"库存入库",description:"商品入库操作",icon:"import",route:"/inventory/in"},{name:"库存出库",description:"商品出库操作",icon:"export",route:"/inventory/out"},{name:"创建采购单",description:"新建采购订单",icon:"shopping-cart",route:"/purchase/orders/add"},{name:"创建销售单",description:"新建销售订单",icon:"dollar-sign",route:"/sales/orders/add"},{name:"查看报表",description:"查看统计报表",icon:"bar-chart",route:"/reports"}]}})}refreshData(){return Et(this,void 0,void 0,function*(){const[e,n,t]=yield Promise.all([this.getOverview(),this.getQuickStats(),this.getSystemHealth()]);return{overview:e,quickStats:n,systemHealth:t,lastUpdated:new Date}})}};var Dt=t(142),Pt={};Pt.styleTagTransform=w(),Pt.setAttributes=v(),Pt.insert=f().bind(null,"head"),Pt.domAPI=h(),Pt.insertStyleElement=x(),u()(Dt.A,Pt),Dt.A&&Dt.A.locals&&Dt.A.locals;const Tt=({className:e})=>{const[n,t]=(0,a.useState)(null),[s,i]=(0,a.useState)(null),[o,l]=(0,a.useState)(null),[c,d]=(0,a.useState)(!0),[u,p]=(0,a.useState)(null);(0,a.useEffect)(()=>{h();const e=setInterval(h,3e4);return()=>clearInterval(e)},[]);const h=()=>{return e=void 0,n=void 0,a=function*(){try{d(!0);const e=yield Ot.refreshData();t(e.overview),i(e.quickStats),l(e.systemHealth),p(e.lastUpdated)}catch(e){console.error("Failed to load dashboard data:",e)}finally{d(!1)}},new((r=void 0)||(r=Promise))(function(t,s){function i(e){try{l(a.next(e))}catch(e){s(e)}}function o(e){try{l(a.throw(e))}catch(e){s(e)}}function l(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r(function(e){e(n)})).then(i,o)}l((a=a.apply(e,n||[])).next())});var e,n,r,a},m=e=>new Intl.NumberFormat("zh-CN",{style:"currency",currency:"CNY"}).format(e),f=e=>new Intl.NumberFormat("zh-CN").format(e);return c&&!n?(0,r.jsx)("div",{className:`dashboard-overview ${e||""}`,children:(0,r.jsxs)("div",{className:"loading-container",children:[(0,r.jsx)("div",{className:"loading-spinner"}),(0,r.jsx)("p",{children:"加载仪表板数据中..."})]})}):(0,r.jsxs)("div",{className:`dashboard-overview ${e||""}`,children:[(0,r.jsxs)("div",{className:"dashboard-header",children:[(0,r.jsx)("h1",{children:"进销存管理系统"}),(0,r.jsxs)("div",{className:"dashboard-meta",children:[u&&(0,r.jsxs)("span",{className:"last-updated",children:["最后更新: ",u.toLocaleString("zh-CN")]}),(0,r.jsx)("button",{className:"refresh-btn",onClick:h,disabled:c,children:c?"刷新中...":"刷新数据"})]})]}),o&&(0,r.jsxs)("div",{className:"system-health-bar",children:[(0,r.jsx)("div",{className:"health-indicator",style:{backgroundColor:(e=>{switch(e){case"healthy":return"#52c41a";case"warning":return"#faad14";case"error":return"#ff4d4f";default:return"#d9d9d9"}})(o.status)}}),(0,r.jsx)("span",{className:"health-text",children:(e=>{switch(e){case"healthy":return"系统运行正常";case"warning":return"需要关注";case"error":return"存在问题";default:return"未知状态"}})(o.status)}),o.issues.length>0&&(0,r.jsxs)("span",{className:"health-issues",children:["(",o.issues.length," 个问题需要处理)"]})]}),n&&(0,r.jsxs)("div",{className:"overview-cards",children:[(0,r.jsxs)("div",{className:"overview-card",children:[(0,r.jsx)("div",{className:"card-icon products-icon",children:"📦"}),(0,r.jsxs)("div",{className:"card-content",children:[(0,r.jsx)("h3",{children:"商品总数"}),(0,r.jsx)("p",{className:"card-value",children:f(n.totalProducts)}),(0,r.jsx)("span",{className:"card-label",children:"个商品"})]})]}),(0,r.jsxs)("div",{className:"overview-card",children:[(0,r.jsx)("div",{className:"card-icon inventory-icon",children:"📊"}),(0,r.jsxs)("div",{className:"card-content",children:[(0,r.jsx)("h3",{children:"库存总值"}),(0,r.jsx)("p",{className:"card-value",children:m(n.totalInventoryValue)}),(0,r.jsx)("span",{className:"card-label",children:"当前库存价值"})]})]}),(0,r.jsxs)("div",{className:"overview-card",children:[(0,r.jsx)("div",{className:"card-icon suppliers-icon",children:"🏢"}),(0,r.jsxs)("div",{className:"card-content",children:[(0,r.jsx)("h3",{children:"供应商"}),(0,r.jsx)("p",{className:"card-value",children:f(n.totalSuppliers)}),(0,r.jsx)("span",{className:"card-label",children:"合作供应商"})]})]}),(0,r.jsxs)("div",{className:"overview-card",children:[(0,r.jsx)("div",{className:"card-icon customers-icon",children:"👥"}),(0,r.jsxs)("div",{className:"card-content",children:[(0,r.jsx)("h3",{children:"客户"}),(0,r.jsx)("p",{className:"card-value",children:f(n.totalCustomers)}),(0,r.jsx)("span",{className:"card-label",children:"注册客户"})]})]}),(0,r.jsxs)("div",{className:"overview-card",children:[(0,r.jsx)("div",{className:"card-icon warehouses-icon",children:"🏭"}),(0,r.jsxs)("div",{className:"card-content",children:[(0,r.jsx)("h3",{children:"仓库"}),(0,r.jsx)("p",{className:"card-value",children:f(n.totalWarehouses)}),(0,r.jsx)("span",{className:"card-label",children:"管理仓库"})]})]}),(0,r.jsxs)("div",{className:"overview-card warning",children:[(0,r.jsx)("div",{className:"card-icon warning-icon",children:"⚠️"}),(0,r.jsxs)("div",{className:"card-content",children:[(0,r.jsx)("h3",{children:"库存预警"}),(0,r.jsx)("p",{className:"card-value",children:f(n.lowStockItems)}),(0,r.jsx)("span",{className:"card-label",children:"低库存商品"})]})]}),(0,r.jsxs)("div",{className:"overview-card danger",children:[(0,r.jsx)("div",{className:"card-icon danger-icon",children:"🚨"}),(0,r.jsxs)("div",{className:"card-content",children:[(0,r.jsx)("h3",{children:"缺货商品"}),(0,r.jsx)("p",{className:"card-value",children:f(n.outOfStockItems)}),(0,r.jsx)("span",{className:"card-label",children:"需要补货"})]})]}),(0,r.jsxs)("div",{className:"overview-card",children:[(0,r.jsx)("div",{className:"card-icon transactions-icon",children:"📈"}),(0,r.jsxs)("div",{className:"card-content",children:[(0,r.jsx)("h3",{children:"库存流水"}),(0,r.jsx)("p",{className:"card-value",children:f(n.recentTransactions)}),(0,r.jsx)("span",{className:"card-label",children:"总流水记录"})]})]})]}),s&&(0,r.jsxs)("div",{className:"quick-stats",children:[(0,r.jsxs)("div",{className:"stats-section",children:[(0,r.jsx)("h3",{children:"商品统计"}),(0,r.jsxs)("div",{className:"stats-grid",children:[(0,r.jsxs)("div",{className:"stat-item",children:[(0,r.jsx)("span",{className:"stat-label",children:"总商品数"}),(0,r.jsx)("span",{className:"stat-value",children:f(s.productsStats.total)})]}),(0,r.jsxs)("div",{className:"stat-item",children:[(0,r.jsx)("span",{className:"stat-label",children:"活跃商品"}),(0,r.jsx)("span",{className:"stat-value",children:f(s.productsStats.active)})]}),(0,r.jsxs)("div",{className:"stat-item",children:[(0,r.jsx)("span",{className:"stat-label",children:"停用商品"}),(0,r.jsx)("span",{className:"stat-value",children:f(s.productsStats.inactive)})]}),(0,r.jsxs)("div",{className:"stat-item",children:[(0,r.jsx)("span",{className:"stat-label",children:"低库存商品"}),(0,r.jsx)("span",{className:"stat-value",children:f(s.productsStats.lowStock)})]})]})]}),(0,r.jsxs)("div",{className:"stats-section",children:[(0,r.jsx)("h3",{children:"库存统计"}),(0,r.jsxs)("div",{className:"stats-grid",children:[(0,r.jsxs)("div",{className:"stat-item",children:[(0,r.jsx)("span",{className:"stat-label",children:"库存总值"}),(0,r.jsx)("span",{className:"stat-value",children:m(s.inventoryStats.totalValue)})]}),(0,r.jsxs)("div",{className:"stat-item",children:[(0,r.jsx)("span",{className:"stat-label",children:"库存品种"}),(0,r.jsx)("span",{className:"stat-value",children:f(s.inventoryStats.totalItems)})]}),(0,r.jsxs)("div",{className:"stat-item",children:[(0,r.jsx)("span",{className:"stat-label",children:"平均单品价值"}),(0,r.jsx)("span",{className:"stat-value",children:m(s.inventoryStats.avgItemValue)})]}),(0,r.jsxs)("div",{className:"stat-item",children:[(0,r.jsx)("span",{className:"stat-label",children:"库存周转率"}),(0,r.jsx)("span",{className:"stat-value",children:s.inventoryStats.stockTurnover.toFixed(2)})]})]})]}),(0,r.jsxs)("div",{className:"stats-section",children:[(0,r.jsx)("h3",{children:"业务统计"}),(0,r.jsxs)("div",{className:"stats-grid",children:[(0,r.jsxs)("div",{className:"stat-item",children:[(0,r.jsx)("span",{className:"stat-label",children:"供应商数量"}),(0,r.jsx)("span",{className:"stat-value",children:f(s.businessStats.suppliers)})]}),(0,r.jsxs)("div",{className:"stat-item",children:[(0,r.jsx)("span",{className:"stat-label",children:"客户数量"}),(0,r.jsx)("span",{className:"stat-value",children:f(s.businessStats.customers)})]}),(0,r.jsxs)("div",{className:"stat-item",children:[(0,r.jsx)("span",{className:"stat-label",children:"VIP客户"}),(0,r.jsx)("span",{className:"stat-value",children:f(s.businessStats.vipCustomers)})]}),(0,r.jsxs)("div",{className:"stat-item",children:[(0,r.jsx)("span",{className:"stat-label",children:"优质供应商"}),(0,r.jsx)("span",{className:"stat-value",children:f(s.businessStats.topSuppliers)})]})]})]})]})]})};const zt=({className:e})=>{const[n,t]=(0,a.useState)(null),[s,i]=(0,a.useState)(!0);(0,a.useEffect)(()=>{o()},[]);const o=()=>{return e=void 0,n=void 0,a=function*(){try{i(!0);const e=yield Ot.getChartData();t(e)}catch(e){console.error("Failed to load chart data:",e)}finally{i(!1)}},new((r=void 0)||(r=Promise))(function(t,s){function i(e){try{l(a.next(e))}catch(e){s(e)}}function o(e){try{l(a.throw(e))}catch(e){s(e)}}function l(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r(function(e){e(n)})).then(i,o)}l((a=a.apply(e,n||[])).next())});var e,n,r,a},l=e=>new Intl.NumberFormat("zh-CN",{style:"currency",currency:"CNY",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),c=e=>new Intl.NumberFormat("zh-CN").format(e);return s?(0,r.jsx)("div",{className:`dashboard-charts ${e||""}`,children:(0,r.jsxs)("div",{className:"loading-container",children:[(0,r.jsx)("div",{className:"loading-spinner"}),(0,r.jsx)("p",{children:"加载图表数据中..."})]})}):n?(0,r.jsxs)("div",{className:`dashboard-charts ${e||""}`,children:[(0,r.jsxs)("div",{className:"chart-section",children:[(0,r.jsx)("h3",{children:"按分类库存分布"}),(0,r.jsx)("div",{className:"chart-container category-chart",children:n.inventoryByCategory.length>0?(0,r.jsx)("div",{className:"bar-chart",children:n.inventoryByCategory.map((e,t)=>{const a=Math.max(...n.inventoryByCategory.map(e=>e.value)),s=a>0?e.value/a*100:0;return(0,r.jsxs)("div",{className:"bar-item",children:[(0,r.jsx)("div",{className:"bar-label",children:e.category}),(0,r.jsx)("div",{className:"bar-container",children:(0,r.jsx)("div",{className:"bar-fill",style:{width:`${s}%`,background:`hsl(${200+40*t}, 70%, 60%)`}})}),(0,r.jsxs)("div",{className:"bar-value",children:[l(e.value),(0,r.jsxs)("span",{className:"bar-count",children:["(",e.count,"个商品)"]})]})]},t)})}):(0,r.jsx)("div",{className:"no-chart-data",children:(0,r.jsx)("p",{children:"暂无分类库存数据"})})})]}),(0,r.jsxs)("div",{className:"chart-section",children:[(0,r.jsx)("h3",{children:"近期库存流水趋势"}),(0,r.jsx)("div",{className:"chart-container movement-chart",children:n.stockMovement.length>0?(0,r.jsxs)("div",{className:"line-chart",children:[(0,r.jsxs)("div",{className:"chart-legend",children:[(0,r.jsxs)("div",{className:"legend-item",children:[(0,r.jsx)("span",{className:"legend-color in"}),(0,r.jsx)("span",{children:"入库"})]}),(0,r.jsxs)("div",{className:"legend-item",children:[(0,r.jsx)("span",{className:"legend-color out"}),(0,r.jsx)("span",{children:"出库"})]}),(0,r.jsxs)("div",{className:"legend-item",children:[(0,r.jsx)("span",{className:"legend-color adjust"}),(0,r.jsx)("span",{children:"调整"})]})]}),(0,r.jsx)("div",{className:"movement-chart-grid",children:n.stockMovement.map((e,n)=>(0,r.jsxs)("div",{className:"movement-item",children:[(0,r.jsx)("div",{className:"movement-date",children:new Date(e.date).toLocaleDateString("zh-CN",{month:"short",day:"numeric"})}),(0,r.jsxs)("div",{className:"movement-bars",children:[(0,r.jsx)("div",{className:"movement-bar in",style:{height:2*e.stockIn+"px"},children:(0,r.jsx)("span",{className:"movement-value",children:e.stockIn})}),(0,r.jsx)("div",{className:"movement-bar out",style:{height:2*e.stockOut+"px"},children:(0,r.jsx)("span",{className:"movement-value",children:e.stockOut})}),(0,r.jsx)("div",{className:"movement-bar adjust",style:{height:2*e.adjustment+"px"},children:(0,r.jsx)("span",{className:"movement-value",children:e.adjustment})})]})]},n))})]}):(0,r.jsx)("div",{className:"no-chart-data",children:(0,r.jsx)("p",{children:"暂无库存流水数据"})})})]}),(0,r.jsxs)("div",{className:"chart-section",children:[(0,r.jsx)("h3",{children:"库存价值TOP10商品"}),(0,r.jsx)("div",{className:"chart-container top-products",children:n.topProducts.length>0?(0,r.jsx)("div",{className:"product-list",children:n.topProducts.slice(0,10).map((e,t)=>(0,r.jsxs)("div",{className:"product-item",children:[(0,r.jsxs)("div",{className:"product-rank",children:["#",t+1]}),(0,r.jsxs)("div",{className:"product-info",children:[(0,r.jsx)("div",{className:"product-name",children:e.product}),(0,r.jsxs)("div",{className:"product-details",children:["库存: ",c(e.quantity)," | 价值: ",l(e.value)]})]}),(0,r.jsx)("div",{className:"product-value-bar",children:(0,r.jsx)("div",{className:"value-fill",style:{width:e.value/Math.max(...n.topProducts.map(e=>e.value))*100+"%"}})})]},t))}):(0,r.jsx)("div",{className:"no-chart-data",children:(0,r.jsx)("p",{children:"暂无产品数据"})})})]}),(0,r.jsxs)("div",{className:"chart-section",children:[(0,r.jsx)("h3",{children:"供应商评级分布"}),(0,r.jsx)("div",{className:"chart-container supplier-rating",children:n.supplierDistribution.length>0?(0,r.jsx)("div",{className:"rating-chart",children:n.supplierDistribution.map((e,n)=>(0,r.jsxs)("div",{className:"rating-item",children:[(0,r.jsxs)("div",{className:"rating-label",children:["评级 ",e.rating]}),(0,r.jsx)("div",{className:"rating-bar",children:(0,r.jsx)("div",{className:"rating-fill",style:{width:`${e.percentage}%`,background:`hsl(${120-30*n}, 70%, 60%)`}})}),(0,r.jsxs)("div",{className:"rating-stats",children:[e.count,"家 (",e.percentage.toFixed(1),"%)"]})]},n))}):(0,r.jsx)("div",{className:"no-chart-data",children:(0,r.jsx)("p",{children:"暂无供应商数据"})})})]}),(0,r.jsxs)("div",{className:"chart-section",children:[(0,r.jsx)("h3",{children:"客户等级分布"}),(0,r.jsx)("div",{className:"chart-container customer-levels",children:n.customerLevels.length>0?(0,r.jsx)("div",{className:"levels-chart",children:n.customerLevels.map((e,n)=>(0,r.jsxs)("div",{className:"level-item",children:[(0,r.jsx)("div",{className:"level-icon",style:{background:{VIP:"#ff6b6b",Gold:"#ffd93d",Silver:"#c0c0c0",Bronze:"#cd7f32"}[e.level]||"#999"},children:e.level}),(0,r.jsxs)("div",{className:"level-info",children:[(0,r.jsx)("div",{className:"level-count",children:c(e.count)}),(0,r.jsxs)("div",{className:"level-name",children:[e.level,"客户"]}),(0,r.jsx)("div",{className:"level-value",children:l(e.totalValue)})]})]},n))}):(0,r.jsx)("div",{className:"no-chart-data",children:(0,r.jsx)("p",{children:"暂无客户数据"})})})]})]}):(0,r.jsx)("div",{className:`dashboard-charts ${e||""}`,children:(0,r.jsxs)("div",{className:"no-data",children:[(0,r.jsx)("p",{children:"暂无图表数据"}),(0,r.jsx)("button",{onClick:o,children:"重新加载"})]})})};const Lt=({className:e})=>{const[n,t]=(0,a.useState)(null),[s,i]=(0,a.useState)([]),[o,l]=(0,a.useState)(!0);(0,a.useEffect)(()=>{c()},[]);const c=()=>{return e=void 0,n=void 0,a=function*(){try{l(!0);const[e,n]=yield Promise.all([Ot.getQuickActions(),Ot.getRecentActivities(10)]);t(e),i(n)}catch(e){console.error("Failed to load quick actions data:",e)}finally{l(!1)}},new((r=void 0)||(r=Promise))(function(t,s){function i(e){try{l(a.next(e))}catch(e){s(e)}}function o(e){try{l(a.throw(e))}catch(e){s(e)}}function l(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r(function(e){e(n)})).then(i,o)}l((a=a.apply(e,n||[])).next())});var e,n,r,a},d=e=>{switch(e){case"low_stock":return"⚠️";case"out_of_stock":return"🚨";case"system_issue":return"🔧";default:return"📋"}},u=e=>{switch(e){case"low_stock":return"#faad14";case"out_of_stock":return"#ff4d4f";case"system_issue":return"#722ed1";default:return"#1890ff"}},p=e=>{switch(e){case"stock_in":return"📦";case"stock_out":return"📤";case"stock_adjust":return"⚖️";case"product_created":return"🆕";case"order_created":return"📝";default:return"📋"}},h=e=>{switch(e){case"stock_in":return"库存入库";case"stock_out":return"库存出库";case"stock_adjust":return"库存调整";case"product_created":return"新增商品";case"order_created":return"创建订单";default:return"系统操作"}},m=e=>{const n=(new Date).getTime()-e.getTime(),t=Math.floor(n/6e4),r=Math.floor(n/36e5),a=Math.floor(n/864e5);return t<1?"刚刚":t<60?`${t}分钟前`:r<24?`${r}小时前`:a<30?`${a}天前`:e.toLocaleDateString("zh-CN")};return o?(0,r.jsx)("div",{className:`dashboard-quick-actions ${e||""}`,children:(0,r.jsxs)("div",{className:"loading-container",children:[(0,r.jsx)("div",{className:"loading-spinner"}),(0,r.jsx)("p",{children:"加载快速操作数据中..."})]})}):(0,r.jsxs)("div",{className:`dashboard-quick-actions ${e||""}`,children:[(null==n?void 0:n.needAttention)&&n.needAttention.length>0&&(0,r.jsxs)("div",{className:"attention-section",children:[(0,r.jsx)("h3",{children:"⚠️ 需要关注"}),(0,r.jsx)("div",{className:"attention-items",children:n.needAttention.map((e,n)=>(0,r.jsxs)("div",{className:"attention-item",style:{borderLeftColor:u(e.type)},children:[(0,r.jsx)("div",{className:"attention-icon",children:d(e.type)}),(0,r.jsxs)("div",{className:"attention-content",children:[(0,r.jsx)("div",{className:"attention-title",children:e.description}),(0,r.jsxs)("div",{className:"attention-count",children:[(0,r.jsx)("span",{className:"count-number",children:e.count}),(0,r.jsx)("span",{className:"count-unit",children:"项"})]})]}),(0,r.jsx)("button",{className:"attention-action",onClick:()=>console.log(`Handle ${e.type}:`,e),children:e.action})]},n))})]}),(null==n?void 0:n.shortcuts)&&(0,r.jsxs)("div",{className:"shortcuts-section",children:[(0,r.jsx)("h3",{children:"🚀 快速操作"}),(0,r.jsx)("div",{className:"shortcuts-grid",children:n.shortcuts.map((e,n)=>(0,r.jsxs)("button",{className:"shortcut-btn",onClick:()=>console.log("Navigate to:",e.route),children:[(0,r.jsxs)("div",{className:"shortcut-icon",children:["plus"===e.icon&&"➕","import"===e.icon&&"📥","export"===e.icon&&"📤","shopping-cart"===e.icon&&"🛒","dollar-sign"===e.icon&&"💰","bar-chart"===e.icon&&"📊"]}),(0,r.jsxs)("div",{className:"shortcut-content",children:[(0,r.jsx)("div",{className:"shortcut-name",children:e.name}),(0,r.jsx)("div",{className:"shortcut-desc",children:e.description})]})]},n))})]}),(0,r.jsxs)("div",{className:"activities-section",children:[(0,r.jsx)("h3",{children:"🕒 最近活动"}),(0,r.jsx)("div",{className:"activities-list",children:s.length>0?s.map(e=>(0,r.jsxs)("div",{className:"activity-item",children:[(0,r.jsx)("div",{className:"activity-icon",children:p(e.type)}),(0,r.jsxs)("div",{className:"activity-content",children:[(0,r.jsx)("div",{className:"activity-type",children:h(e.type)}),(0,r.jsx)("div",{className:"activity-description",children:e.description}),(0,r.jsx)("div",{className:"activity-time",children:m(e.timestamp)})]})]},e.id)):(0,r.jsxs)("div",{className:"no-activities",children:[(0,r.jsx)("p",{children:"暂无最近活动记录"}),(0,r.jsx)("button",{onClick:c,className:"refresh-activities-btn",children:"刷新活动记录"})]})})]}),(0,r.jsxs)("div",{className:"system-check-section",children:[(0,r.jsx)("h3",{children:"🔧 系统状态"}),(0,r.jsxs)("div",{className:"system-check-actions",children:[(0,r.jsxs)("button",{className:"system-check-btn",onClick:()=>console.log("Run system health check"),children:[(0,r.jsx)("span",{className:"check-icon",children:"🏥"}),(0,r.jsx)("span",{children:"健康检查"})]}),(0,r.jsxs)("button",{className:"system-check-btn",onClick:()=>console.log("Backup data"),children:[(0,r.jsx)("span",{className:"check-icon",children:"💾"}),(0,r.jsx)("span",{children:"数据备份"})]}),(0,r.jsxs)("button",{className:"system-check-btn",onClick:c,children:[(0,r.jsx)("span",{className:"check-icon",children:"🔄"}),(0,r.jsx)("span",{children:"刷新数据"})]}),(0,r.jsxs)("button",{className:"system-check-btn",onClick:()=>console.log("Export reports"),children:[(0,r.jsx)("span",{className:"check-icon",children:"📋"}),(0,r.jsx)("span",{children:"导出报表"})]})]})]})]})};var Rt=function(e,n,t,r){return new(t||(t=Promise))(function(a,s){function i(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var n;e.done?a(e.value):(n=e.value,n instanceof t?n:new t(function(e){e(n)})).then(i,o)}l((r=r.apply(e,n||[])).next())})};const Ft=new class{initialize(){return Rt(this,void 0,void 0,function*(){console.log("Minimal dashboard service initialized")})}getOverview(){return Rt(this,void 0,void 0,function*(){return{totalProducts:150,totalSuppliers:25,totalCustomers:80,totalWarehouses:3,systemStatus:"healthy"}})}getSystemHealth(){return Rt(this,void 0,void 0,function*(){return{status:"healthy",message:"系统运行正常"}})}};var Mt=t(122),$t={};$t.styleTagTransform=w(),$t.setAttributes=v(),$t.insert=f().bind(null,"head"),$t.domAPI=h(),$t.insertStyleElement=x(),u()(Mt.A,$t),Mt.A&&Mt.A.locals&&Mt.A.locals;var Bt=function(e,n,t,r){return new(t||(t=Promise))(function(a,s){function i(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var n;e.done?a(e.value):(n=e.value,n instanceof t?n:new t(function(e){e(n)})).then(i,o)}l((r=r.apply(e,n||[])).next())})};const Vt={name:"",sku:"",description:"",categoryId:"",unitId:"",brand:"",model:"",barcode:"",purchasePrice:0,salePrice:0,minStock:0,maxStock:0,status:E.ACTIVE};var Ut=function(e,n,t,r){return new(t||(t=Promise))(function(a,s){function i(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var n;e.done?a(e.value):(n=e.value,n instanceof t?n:new t(function(e){e(n)})).then(i,o)}l((r=r.apply(e,n||[])).next())})};const qt={name:"",parentId:"",level:1,sortOrder:1,isActive:!0};var Zt=function(e,n,t,r){return new(t||(t=Promise))(function(a,s){function i(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var n;e.done?a(e.value):(n=e.value,n instanceof t?n:new t(function(e){e(n)})).then(i,o)}l((r=r.apply(e,n||[])).next())})};const Qt={code:"",name:"",address:"",manager:"",phone:"",isDefault:!1};var Wt=function(e,n,t,r){return new(t||(t=Promise))(function(a,s){function i(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var n;e.done?a(e.value):(n=e.value,n instanceof t?n:new t(function(e){e(n)})).then(i,o)}l((r=r.apply(e,n||[])).next())})};const Ht={referenceType:"",referenceId:"",remark:"",operator:"系统管理员",items:[]},Yt={productId:"",warehouseId:"",quantity:0,unitPrice:0,remark:""};var Kt=function(e,n,t,r){return new(t||(t=Promise))(function(a,s){function i(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var n;e.done?a(e.value):(n=e.value,n instanceof t?n:new t(function(e){e(n)})).then(i,o)}l((r=r.apply(e,n||[])).next())})};const Xt={referenceType:"",referenceId:"",remark:"",operator:"系统管理员",items:[]},Gt={productId:"",warehouseId:"",quantity:0,unitPrice:0,remark:"",currentStock:0,availableStock:0};var Jt=function(e,n,t,r){return new(t||(t=Promise))(function(a,s){function i(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var n;e.done?a(e.value):(n=e.value,n instanceof t?n:new t(function(e){e(n)})).then(i,o)}l((r=r.apply(e,n||[])).next())})};const er={adjustmentType:"",reason:"",remark:"",operator:"系统管理员",items:[]},nr={productId:"",warehouseId:"",currentStock:0,adjustedStock:0,adjustmentQuantity:0,unitPrice:0,remark:"",adjustmentType:"set"};const tr={startDate:new Date(Date.now()-2592e6).toISOString().split("T")[0],endDate:(new Date).toISOString().split("T")[0],productId:"",warehouseId:"",transactionType:"",operator:"",searchTerm:""};var rr=t(278),ar={};ar.styleTagTransform=w(),ar.setAttributes=v(),ar.insert=f().bind(null,"head"),ar.domAPI=h(),ar.insertStyleElement=x(),u()(rr.A,ar),rr.A&&rr.A.locals&&rr.A.locals;var sr=function(e,n,t,r){return new(t||(t=Promise))(function(a,s){function i(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var n;e.done?a(e.value):(n=e.value,n instanceof t?n:new t(function(e){e(n)})).then(i,o)}l((r=r.apply(e,n||[])).next())})};const ir={code:"",name:"",contactPerson:"",phone:"",email:"",address:"",paymentTerms:"",creditLimit:0,rating:D.C,status:P.ACTIVE};var or=function(e,n,t,r){return new(t||(t=Promise))(function(a,s){function i(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var n;e.done?a(e.value):(n=e.value,n instanceof t?n:new t(function(e){e(n)})).then(i,o)}l((r=r.apply(e,n||[])).next())})};const lr={supplierId:"",orderDate:(new Date).toISOString().split("T")[0],expectedDate:new Date(Date.now()+6048e5).toISOString().split("T")[0],status:T.DRAFT,discountAmount:0,taxAmount:0,remark:"",creator:"系统管理员"},cr={productId:"",quantity:0,unitPrice:0,discountRate:0};var dr=function(e,n,t,r){return new(t||(t=Promise))(function(a,s){function i(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var n;e.done?a(e.value):(n=e.value,n instanceof t?n:new t(function(e){e(n)})).then(i,o)}l((r=r.apply(e,n||[])).next())})};const ur={orderId:"",warehouseId:"",receiptDate:(new Date).toISOString().split("T")[0],status:L.DRAFT,receiver:"仓库管理员",remark:""},pr={dashboard:({className:e})=>{const[n,t]=(0,a.useState)("overview"),[s,i]=(0,a.useState)(!1),[o,l]=(0,a.useState)(!0),[c,d]=(0,a.useState)(null);(0,a.useEffect)(()=>{u()},[]);const u=()=>{return e=void 0,n=void 0,r=function*(){try{l(!0),d(null),At.isInitialized()||(console.log("Initializing business services..."),yield At.initialize()),i(!0)}catch(e){console.error("Failed to initialize dashboard:",e),d(e instanceof Error?e.message:"仪表板初始化失败")}finally{l(!1)}},new((t=void 0)||(t=Promise))(function(a,s){function i(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var n;e.done?a(e.value):(n=e.value,n instanceof t?n:new t(function(e){e(n)})).then(i,o)}l((r=r.apply(e,n||[])).next())});var e,n,t,r};return o?(0,r.jsx)("div",{className:`dashboard-main ${e||""}`,children:(0,r.jsx)("div",{className:"dashboard-loading",children:(0,r.jsxs)("div",{className:"loading-container",children:[(0,r.jsx)("div",{className:"loading-spinner"}),(0,r.jsx)("h2",{children:"正在初始化仪表板..."}),(0,r.jsx)("p",{children:"正在加载系统数据和服务"})]})})}):c?(0,r.jsx)("div",{className:`dashboard-main ${e||""}`,children:(0,r.jsx)("div",{className:"dashboard-error",children:(0,r.jsxs)("div",{className:"error-container",children:[(0,r.jsx)("div",{className:"error-icon",children:"❌"}),(0,r.jsx)("h2",{children:"仪表板加载失败"}),(0,r.jsx)("p",{className:"error-message",children:c}),(0,r.jsx)("button",{className:"retry-btn",onClick:u,children:"重试"})]})})}):s?(0,r.jsxs)("div",{className:`dashboard-main ${e||""}`,children:[(0,r.jsxs)("div",{className:"dashboard-tabs",children:[(0,r.jsx)("div",{className:"tabs-container",children:[{key:"overview",label:"📊 概览",icon:"📊"},{key:"charts",label:"📈 图表",icon:"📈"},{key:"actions",label:"⚡ 操作",icon:"⚡"}].map(e=>(0,r.jsxs)("button",{className:"tab-button "+(n===e.key?"active":""),onClick:()=>t(e.key),children:[(0,r.jsx)("span",{className:"tab-icon",children:e.icon}),(0,r.jsx)("span",{className:"tab-label",children:e.label})]},e.key))}),(0,r.jsxs)("div",{className:"system-status",children:[(0,r.jsx)("div",{className:"status-indicator active"}),(0,r.jsx)("span",{className:"status-text",children:"系统运行正常"})]})]}),(0,r.jsx)("div",{className:"dashboard-content",children:(()=>{switch(n){case"overview":default:return(0,r.jsx)(Tt,{});case"charts":return(0,r.jsx)(zt,{});case"actions":return(0,r.jsx)(Lt,{})}})()})]}):(0,r.jsx)("div",{className:`dashboard-main ${e||""}`,children:(0,r.jsx)("div",{className:"dashboard-not-ready",children:(0,r.jsxs)("div",{className:"not-ready-container",children:[(0,r.jsx)("div",{className:"not-ready-icon",children:"⏳"}),(0,r.jsx)("h2",{children:"系统准备中"}),(0,r.jsx)("p",{children:"请稍等片刻..."})]})})})},"dashboard-minimal":()=>{const[e,n]=(0,a.useState)(null),[t,s]=(0,a.useState)(!0);(0,a.useEffect)(()=>{i()},[]);const i=()=>{return e=void 0,t=void 0,a=function*(){try{s(!0),yield Ft.initialize();const e=yield Ft.getOverview();n(e)}catch(e){console.error("Failed to load dashboard data:",e)}finally{s(!1)}},new((r=void 0)||(r=Promise))(function(n,s){function i(e){try{l(a.next(e))}catch(e){s(e)}}function o(e){try{l(a.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,o)}l((a=a.apply(e,t||[])).next())});var e,t,r,a};return t?(0,r.jsx)("div",{className:"app-bg",children:(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsxs)("div",{className:"glass-card p-8 text-center",children:[(0,r.jsx)("div",{className:"animate-spin w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-white",children:"加载Dashboard数据中..."})]})})}):e?(0,r.jsx)("div",{className:"app-bg",children:(0,r.jsxs)("div",{className:"min-h-screen p-4",children:[(0,r.jsxs)("header",{className:"text-center py-6",children:[(0,r.jsx)("h1",{className:"text-4xl font-bold text-gradient mb-2",children:"📦 进销存管理系统"}),(0,r.jsx)("p",{className:"text-white/80",children:"Dashboard - 最小可工作版本"})]}),(0,r.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,r.jsxs)("div",{className:"glass-card p-6 text-center",children:[(0,r.jsx)("div",{className:"text-3xl mb-2",children:"📦"}),(0,r.jsx)("h3",{className:"text-white font-semibold mb-1",children:"商品总数"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-blue-300",children:e.totalProducts})]}),(0,r.jsxs)("div",{className:"glass-card p-6 text-center",children:[(0,r.jsx)("div",{className:"text-3xl mb-2",children:"🏢"}),(0,r.jsx)("h3",{className:"text-white font-semibold mb-1",children:"供应商"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-green-300",children:e.totalSuppliers})]}),(0,r.jsxs)("div",{className:"glass-card p-6 text-center",children:[(0,r.jsx)("div",{className:"text-3xl mb-2",children:"👥"}),(0,r.jsx)("h3",{className:"text-white font-semibold mb-1",children:"客户"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-purple-300",children:e.totalCustomers})]}),(0,r.jsxs)("div",{className:"glass-card p-6 text-center",children:[(0,r.jsx)("div",{className:"text-3xl mb-2",children:"🏭"}),(0,r.jsx)("h3",{className:"text-white font-semibold mb-1",children:"仓库"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-yellow-300",children:e.totalWarehouses})]})]}),(0,r.jsxs)("div",{className:"glass-card p-6 text-center",children:[(0,r.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"系统状态"}),(0,r.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,r.jsx)("div",{className:"w-3 h-3 bg-green-400 rounded-full animate-pulse"}),(0,r.jsx)("span",{className:"text-green-300 font-semibold",children:"系统运行正常"})]}),(0,r.jsxs)("p",{className:"text-white/60 mt-2 text-sm",children:["最后更新: ",(new Date).toLocaleString("zh-CN")]})]}),(0,r.jsxs)("div",{className:"mt-8 text-center",children:[(0,r.jsx)("button",{onClick:i,className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-lg font-semibold hover:shadow-lg transition-all duration-300 transform hover:scale-105 mr-4",children:"刷新数据"}),(0,r.jsx)("button",{onClick:()=>console.log("点击了完整版本按钮"),className:"px-6 py-3 bg-gradient-to-r from-green-500 to-blue-500 text-white rounded-lg font-semibold hover:shadow-lg transition-all duration-300 transform hover:scale-105",children:"切换到完整版本"})]})]})]})}):(0,r.jsx)("div",{className:"app-bg",children:(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsxs)("div",{className:"glass-card p-8 text-center",children:[(0,r.jsx)("p",{className:"text-white",children:"无法加载Dashboard数据"}),(0,r.jsx)("button",{onClick:i,className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"重试"})]})})})},"inventory-overview":({className:e})=>{const[n,t]=(0,a.useState)(null),[s,i]=(0,a.useState)(!0),[o,l]=(0,a.useState)(null);(0,a.useEffect)(()=>{c()},[]);const c=()=>{return e=void 0,n=void 0,a=function*(){try{i(!0),l(null);const[e,n,r]=yield Promise.all([ut.findAllStocks(),ut.findLowStockItems(),ut.findOutOfStockItems()]),a=e.reduce((e,n)=>e+n.currentStock*n.unitPrice,0),s=new Map;e.forEach(e=>{const n=e.productId;s.has(n)||s.set(n,{count:0,value:0});const t=s.get(n);t.count+=1,t.value+=e.currentStock*e.unitPrice});const o=Array.from(s.entries()).map(([e,n])=>({name:e,count:n.count,value:n.value})),c=e.slice(0,5).map(e=>({id:e.id,productName:`商品-${e.productId}`,type:"in",quantity:Math.floor(100*Math.random()),timestamp:new Date}));t({totalItems:e.length,totalValue:a,lowStockCount:n.length,outOfStockCount:r.length,categories:o,recentMovements:c})}catch(e){l("加载库存统计失败"),console.error("Failed to load inventory stats:",e)}finally{i(!1)}},new((r=void 0)||(r=Promise))(function(t,s){function i(e){try{l(a.next(e))}catch(e){s(e)}}function o(e){try{l(a.throw(e))}catch(e){s(e)}}function l(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r(function(e){e(n)})).then(i,o)}l((a=a.apply(e,n||[])).next())});var e,n,r,a},d=e=>new Intl.NumberFormat("zh-CN",{style:"currency",currency:"CNY"}).format(e),u=e=>new Intl.NumberFormat("zh-CN").format(e),p=e=>{switch(e){case"in":return"📦";case"out":return"📤";case"adjust":return"📝";default:return"📊"}},h=e=>{switch(e){case"in":return"#52c41a";case"out":return"#ff4d4f";case"adjust":return"#faad14";default:return"#1890ff"}};return s?(0,r.jsx)("div",{className:`inventory-overview ${e||""}`,children:(0,r.jsxs)("div",{className:"loading-container",children:[(0,r.jsx)("div",{className:"loading-spinner"}),(0,r.jsx)("p",{children:"加载库存数据中..."})]})}):o?(0,r.jsx)("div",{className:`inventory-overview ${e||""}`,children:(0,r.jsxs)("div",{className:"error-container",children:[(0,r.jsx)("div",{className:"error-icon",children:"❌"}),(0,r.jsx)("h3",{children:"加载失败"}),(0,r.jsx)("p",{children:o}),(0,r.jsx)("button",{onClick:c,className:"retry-button",children:"重新加载"})]})}):(0,r.jsxs)("div",{className:`inventory-overview ${e||""}`,children:[(0,r.jsxs)("div",{className:"inventory-header",children:[(0,r.jsx)("h2",{children:"库存概览"}),(0,r.jsxs)("div",{className:"inventory-actions",children:[(0,r.jsx)("button",{className:"action-button primary",children:"📦 库存入库"}),(0,r.jsx)("button",{className:"action-button secondary",children:"📤 库存出库"}),(0,r.jsx)("button",{className:"action-button secondary",children:"🔄 库存调整"})]})]}),n&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"stats-cards",children:[(0,r.jsxs)("div",{className:"stat-card",children:[(0,r.jsx)("div",{className:"stat-icon",children:"📊"}),(0,r.jsxs)("div",{className:"stat-content",children:[(0,r.jsx)("h3",{children:"商品总数"}),(0,r.jsx)("p",{className:"stat-value",children:u(n.totalItems)}),(0,r.jsx)("span",{className:"stat-label",children:"种商品"})]})]}),(0,r.jsxs)("div",{className:"stat-card",children:[(0,r.jsx)("div",{className:"stat-icon",children:"💰"}),(0,r.jsxs)("div",{className:"stat-content",children:[(0,r.jsx)("h3",{children:"库存总值"}),(0,r.jsx)("p",{className:"stat-value",children:d(n.totalValue)}),(0,r.jsx)("span",{className:"stat-label",children:"当前价值"})]})]}),(0,r.jsxs)("div",{className:"stat-card warning",children:[(0,r.jsx)("div",{className:"stat-icon",children:"⚠️"}),(0,r.jsxs)("div",{className:"stat-content",children:[(0,r.jsx)("h3",{children:"低库存"}),(0,r.jsx)("p",{className:"stat-value",children:u(n.lowStockCount)}),(0,r.jsx)("span",{className:"stat-label",children:"需要补货"})]})]}),(0,r.jsxs)("div",{className:"stat-card danger",children:[(0,r.jsx)("div",{className:"stat-icon",children:"🚨"}),(0,r.jsxs)("div",{className:"stat-content",children:[(0,r.jsx)("h3",{children:"缺货"}),(0,r.jsx)("p",{className:"stat-value",children:u(n.outOfStockCount)}),(0,r.jsx)("span",{className:"stat-label",children:"紧急补货"})]})]})]}),(0,r.jsxs)("div",{className:"inventory-section",children:[(0,r.jsx)("h3",{children:"分类统计"}),(0,r.jsx)("div",{className:"category-grid",children:n.categories.map((e,n)=>(0,r.jsxs)("div",{className:"category-card",children:[(0,r.jsxs)("div",{className:"category-header",children:[(0,r.jsx)("span",{className:"category-name",children:e.name}),(0,r.jsxs)("span",{className:"category-count",children:[e.count,"种"]})]}),(0,r.jsx)("div",{className:"category-value",children:d(e.value)})]},n))})]}),(0,r.jsxs)("div",{className:"inventory-section",children:[(0,r.jsx)("h3",{children:"最近库存变动"}),(0,r.jsx)("div",{className:"movements-list",children:n.recentMovements.map(e=>(0,r.jsxs)("div",{className:"movement-item",children:[(0,r.jsx)("div",{className:"movement-icon",style:{color:h(e.type)},children:p(e.type)}),(0,r.jsxs)("div",{className:"movement-content",children:[(0,r.jsx)("div",{className:"movement-product",children:e.productName}),(0,r.jsxs)("div",{className:"movement-details",children:["数量: ",u(e.quantity)," | 时间: ",e.timestamp.toLocaleString("zh-CN")]})]}),(0,r.jsx)("div",{className:"movement-type",children:"in"===e.type?"入库":"out"===e.type?"出库":"调整"})]},e.id))})]})]})]})},"inventory-products":({className:e})=>{const[n,t]=(0,a.useState)([]),[s,i]=(0,a.useState)([]),[o,l]=(0,a.useState)(!0),[c,d]=(0,a.useState)(null),[u,p]=(0,a.useState)({search:"",category:"all",stockStatus:"all",sortBy:"name",sortOrder:"asc"});(0,a.useEffect)(()=>{h()},[]),(0,a.useEffect)(()=>{m()},[n,u]);const h=()=>{return e=void 0,n=void 0,a=function*(){try{l(!0),d(null);const e=yield ut.findAllStocks();t(e)}catch(e){d("加载库存数据失败"),console.error("Failed to load inventories:",e)}finally{l(!1)}},new((r=void 0)||(r=Promise))(function(t,s){function i(e){try{l(a.next(e))}catch(e){s(e)}}function o(e){try{l(a.throw(e))}catch(e){s(e)}}function l(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r(function(e){e(n)})).then(i,o)}l((a=a.apply(e,n||[])).next())});var e,n,r,a},m=()=>{let e=[...n];switch(u.search&&(e=e.filter(e=>e.productId.toLowerCase().includes(u.search.toLowerCase())||e.warehouseId.toLowerCase().includes(u.search.toLowerCase()))),u.stockStatus){case"low":e=e.filter(e=>e.currentStock<=e.minStock);break;case"out":e=e.filter(e=>0===e.currentStock);break;case"normal":e=e.filter(e=>e.currentStock>e.minStock)}e.sort((e,n)=>{let t,r;switch(u.sortBy){case"name":default:t=e.productId,r=n.productId;break;case"stock":t=e.currentStock,r=n.currentStock;break;case"value":t=e.currentStock*e.unitPrice,r=n.currentStock*n.unitPrice;break;case"updated":t=e.lastMovementDate,r=n.lastMovementDate}return"asc"===u.sortOrder?t>r?1:-1:t<r?1:-1}),i(e)},f=e=>0===e.currentStock?"out-of-stock":e.currentStock<=e.minStock?"low-stock":"normal-stock",g=e=>0===e.currentStock?"缺货":e.currentStock<=e.minStock?"低库存":"正常",v=e=>new Intl.NumberFormat("zh-CN",{style:"currency",currency:"CNY"}).format(e),b=e=>new Intl.NumberFormat("zh-CN").format(e),x=(e,n)=>{p(t=>Object.assign(Object.assign({},t),{[e]:n}))};return o?(0,r.jsx)("div",{className:`inventory-list ${e||""}`,children:(0,r.jsxs)("div",{className:"loading-container",children:[(0,r.jsx)("div",{className:"loading-spinner"}),(0,r.jsx)("p",{children:"加载库存数据中..."})]})}):c?(0,r.jsx)("div",{className:`inventory-list ${e||""}`,children:(0,r.jsxs)("div",{className:"error-container",children:[(0,r.jsx)("div",{className:"error-icon",children:"❌"}),(0,r.jsx)("h3",{children:"加载失败"}),(0,r.jsx)("p",{children:c}),(0,r.jsx)("button",{onClick:h,className:"retry-button",children:"重新加载"})]})}):(0,r.jsxs)("div",{className:`inventory-list ${e||""}`,children:[(0,r.jsxs)("div",{className:"inventory-header",children:[(0,r.jsx)("h2",{children:"库存列表"}),(0,r.jsxs)("div",{className:"inventory-actions",children:[(0,r.jsx)("button",{className:"action-button primary",children:"➕ 新建库存"}),(0,r.jsx)("button",{className:"action-button secondary",children:"📤 导出数据"})]})]}),(0,r.jsx)("div",{className:"filters-section",children:(0,r.jsxs)("div",{className:"filters-row",children:[(0,r.jsxs)("div",{className:"filter-group",children:[(0,r.jsx)("label",{children:"搜索"}),(0,r.jsx)("input",{type:"text",placeholder:"搜索商品或仓库...",value:u.search,onChange:e=>x("search",e.target.value),className:"filter-input"})]}),(0,r.jsxs)("div",{className:"filter-group",children:[(0,r.jsx)("label",{children:"库存状态"}),(0,r.jsxs)("select",{value:u.stockStatus,onChange:e=>x("stockStatus",e.target.value),className:"filter-select",children:[(0,r.jsx)("option",{value:"all",children:"全部"}),(0,r.jsx)("option",{value:"normal",children:"正常"}),(0,r.jsx)("option",{value:"low",children:"低库存"}),(0,r.jsx)("option",{value:"out",children:"缺货"})]})]}),(0,r.jsxs)("div",{className:"filter-group",children:[(0,r.jsx)("label",{children:"排序方式"}),(0,r.jsxs)("select",{value:u.sortBy,onChange:e=>x("sortBy",e.target.value),className:"filter-select",children:[(0,r.jsx)("option",{value:"name",children:"商品名称"}),(0,r.jsx)("option",{value:"stock",children:"库存数量"}),(0,r.jsx)("option",{value:"value",children:"库存价值"}),(0,r.jsx)("option",{value:"updated",children:"更新时间"})]})]}),(0,r.jsxs)("div",{className:"filter-group",children:[(0,r.jsx)("label",{children:"排序顺序"}),(0,r.jsxs)("select",{value:u.sortOrder,onChange:e=>x("sortOrder",e.target.value),className:"filter-select",children:[(0,r.jsx)("option",{value:"asc",children:"升序"}),(0,r.jsx)("option",{value:"desc",children:"降序"})]})]})]})}),(0,r.jsxs)("div",{className:"inventory-table-section",children:[(0,r.jsx)("div",{className:"table-header",children:(0,r.jsxs)("span",{className:"table-info",children:["显示 ",s.length," 条记录，共 ",n.length," 条"]})}),(0,r.jsx)("div",{className:"inventory-table-container",children:(0,r.jsxs)("table",{className:"inventory-table",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"商品ID"}),(0,r.jsx)("th",{children:"仓库ID"}),(0,r.jsx)("th",{children:"当前库存"}),(0,r.jsx)("th",{children:"最小库存"}),(0,r.jsx)("th",{children:"最大库存"}),(0,r.jsx)("th",{children:"单价"}),(0,r.jsx)("th",{children:"总价值"}),(0,r.jsx)("th",{children:"状态"}),(0,r.jsx)("th",{children:"最后更新"}),(0,r.jsx)("th",{children:"操作"})]})}),(0,r.jsx)("tbody",{children:s.map(e=>{var n;return(0,r.jsxs)("tr",{className:f(e),children:[(0,r.jsx)("td",{className:"product-cell",children:(0,r.jsx)("div",{className:"product-info",children:(0,r.jsx)("span",{className:"product-id",children:e.productId})})}),(0,r.jsx)("td",{children:e.warehouseId}),(0,r.jsx)("td",{className:"stock-cell",children:(0,r.jsx)("span",{className:"stock-amount",children:b(e.currentStock)})}),(0,r.jsx)("td",{children:b(e.minStock)}),(0,r.jsx)("td",{children:b(e.maxStock)}),(0,r.jsx)("td",{children:v(e.unitPrice)}),(0,r.jsx)("td",{className:"value-cell",children:v(e.currentStock*e.unitPrice)}),(0,r.jsx)("td",{children:(0,r.jsx)("span",{className:`status-badge ${f(e)}`,children:g(e)})}),(0,r.jsx)("td",{className:"date-cell",children:(null===(n=e.lastMovementDate)||void 0===n?void 0:n.toLocaleDateString("zh-CN"))||"-"}),(0,r.jsxs)("td",{className:"actions-cell",children:[(0,r.jsx)("button",{className:"action-btn edit",children:"✏️"}),(0,r.jsx)("button",{className:"action-btn adjust",children:"📝"}),(0,r.jsx)("button",{className:"action-btn delete",children:"🗑️"})]})]},e.id)})})]})})]})]})},products:({className:e})=>{const[n,t]=(0,a.useState)([]),[s,i]=(0,a.useState)([]),[o,l]=(0,a.useState)([]),[c,d]=(0,a.useState)(!0),[u,p]=(0,a.useState)(null),[h,m]=(0,a.useState)(!1),[f,g]=(0,a.useState)(null),[v,b]=(0,a.useState)(Vt),[x,y]=(0,a.useState)(""),[w,k]=(0,a.useState)(""),[j,N]=(0,a.useState)("");(0,a.useEffect)(()=>{S()},[]);const S=()=>Bt(void 0,void 0,void 0,function*(){try{d(!0),p(null);const[e,n,r]=yield Promise.all([rt.findAll(),st.findAll(),ot.findAll()]);t(e),i(n),l(r)}catch(e){p("加载数据失败"),console.error("Failed to load product data:",e)}finally{d(!1)}}),I=()=>{m(!1),g(null),b(Vt)},C=(e,n)=>{b(t=>Object.assign(Object.assign({},t),{[e]:n}))},_=e=>{const n=s.find(n=>n.id===e);return(null==n?void 0:n.name)||e},A=e=>{const n=o.find(n=>n.id===e);return(null==n?void 0:n.name)||e},O=e=>{switch(e){case E.ACTIVE:return"正常";case E.INACTIVE:return"停用";case E.DISCONTINUED:return"停产";default:return e}},D=e=>{switch(e){case E.ACTIVE:return"status-active";case E.INACTIVE:return"status-inactive";case E.DISCONTINUED:return"status-discontinued";default:return""}},P=n.filter(e=>{const n=!x||e.name.toLowerCase().includes(x.toLowerCase())||e.sku.toLowerCase().includes(x.toLowerCase())||(e.brand||"").toLowerCase().includes(x.toLowerCase()),t=!w||e.categoryId===w,r=!j||e.status===j;return n&&t&&r});return c?(0,r.jsx)("div",{className:`product-management ${e||""}`,children:(0,r.jsxs)("div",{className:"loading-container",children:[(0,r.jsx)("div",{className:"loading-spinner"}),(0,r.jsx)("p",{children:"加载商品数据中..."})]})}):u?(0,r.jsx)("div",{className:`product-management ${e||""}`,children:(0,r.jsxs)("div",{className:"error-container",children:[(0,r.jsx)("div",{className:"error-icon",children:"❌"}),(0,r.jsx)("h3",{children:"加载失败"}),(0,r.jsx)("p",{children:u}),(0,r.jsx)("button",{onClick:S,className:"retry-button",children:"重新加载"})]})}):(0,r.jsxs)("div",{className:`product-management ${e||""}`,children:[(0,r.jsxs)("div",{className:"page-header",children:[(0,r.jsxs)("div",{className:"header-left",children:[(0,r.jsx)("h2",{children:"商品管理"}),(0,r.jsx)("p",{children:"管理商品信息，包括基本信息、定价和库存设置"})]}),(0,r.jsx)("div",{className:"header-actions",children:(0,r.jsxs)("button",{className:"glass-button primary",onClick:()=>m(!0),children:[(0,r.jsx)("span",{className:"button-icon",children:"➕"}),"新增商品"]})})]}),(0,r.jsx)("div",{className:"filter-section",children:(0,r.jsxs)("div",{className:"filter-row",children:[(0,r.jsxs)("div",{className:"filter-group",children:[(0,r.jsx)("label",{children:"搜索商品"}),(0,r.jsxs)("div",{className:"search-input-wrapper",children:[(0,r.jsx)("span",{className:"search-icon",children:"🔍"}),(0,r.jsx)("input",{type:"text",placeholder:"搜索商品名称、SKU或品牌...",value:x,onChange:e=>y(e.target.value),className:"glass-input"})]})]}),(0,r.jsxs)("div",{className:"filter-group",children:[(0,r.jsx)("label",{children:"商品分类"}),(0,r.jsxs)("select",{value:w,onChange:e=>k(e.target.value),className:"glass-select",children:[(0,r.jsx)("option",{value:"",children:"全部分类"}),s.map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,r.jsxs)("div",{className:"filter-group",children:[(0,r.jsx)("label",{children:"商品状态"}),(0,r.jsxs)("select",{value:j,onChange:e=>N(e.target.value),className:"glass-select",children:[(0,r.jsx)("option",{value:"",children:"全部状态"}),(0,r.jsx)("option",{value:E.ACTIVE,children:"正常"}),(0,r.jsx)("option",{value:E.INACTIVE,children:"停用"}),(0,r.jsx)("option",{value:E.DISCONTINUED,children:"停产"})]})]})]})}),(0,r.jsxs)("div",{className:"content-section",children:[(0,r.jsxs)("div",{className:"section-header",children:[(0,r.jsx)("h3",{children:"商品列表"}),(0,r.jsxs)("span",{className:"item-count",children:["共 ",P.length," 个商品"]})]}),(0,r.jsxs)("div",{className:"glass-table-container",children:[(0,r.jsxs)("table",{className:"glass-table",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"商品信息"}),(0,r.jsx)("th",{children:"SKU"}),(0,r.jsx)("th",{children:"分类"}),(0,r.jsx)("th",{children:"单位"}),(0,r.jsx)("th",{children:"采购价"}),(0,r.jsx)("th",{children:"销售价"}),(0,r.jsx)("th",{children:"库存范围"}),(0,r.jsx)("th",{children:"状态"}),(0,r.jsx)("th",{children:"操作"})]})}),(0,r.jsx)("tbody",{children:P.map(e=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"product-info-cell",children:(0,r.jsxs)("div",{className:"product-info",children:[(0,r.jsx)("div",{className:"product-name",children:e.name}),e.brand&&(0,r.jsx)("div",{className:"product-brand",children:e.brand}),e.description&&(0,r.jsx)("div",{className:"product-description",children:e.description})]})}),(0,r.jsx)("td",{className:"sku-cell",children:(0,r.jsx)("code",{className:"sku-code",children:e.sku})}),(0,r.jsx)("td",{children:_(e.categoryId)}),(0,r.jsx)("td",{children:A(e.unitId)}),(0,r.jsxs)("td",{className:"price-cell",children:["¥",e.purchasePrice.toFixed(2)]}),(0,r.jsxs)("td",{className:"price-cell",children:["¥",e.salePrice.toFixed(2)]}),(0,r.jsxs)("td",{className:"stock-range-cell",children:[e.minStock," - ",e.maxStock]}),(0,r.jsx)("td",{children:(0,r.jsx)("span",{className:`status-badge ${D(e.status)}`,children:O(e.status)})}),(0,r.jsxs)("td",{className:"actions-cell",children:[(0,r.jsx)("button",{className:"action-btn edit",onClick:()=>(e=>{g(e),b({name:e.name,sku:e.sku,description:e.description||"",categoryId:e.categoryId,unitId:e.unitId,brand:e.brand||"",model:e.model||"",barcode:e.barcode||"",purchasePrice:e.purchasePrice,salePrice:e.salePrice,minStock:e.minStock,maxStock:e.maxStock,status:e.status}),m(!0)})(e),title:"编辑",children:"✏️"}),(0,r.jsx)("button",{className:"action-btn delete",onClick:()=>{return n=e.id,Bt(void 0,void 0,void 0,function*(){if(confirm("确定要删除这个商品吗？"))try{yield rt.delete(n),yield S()}catch(e){p("删除商品失败"),console.error("Failed to delete product:",e)}});var n},title:"删除",children:"🗑️"})]})]},e.id))})]}),0===P.length&&(0,r.jsxs)("div",{className:"empty-state",children:[(0,r.jsx)("div",{className:"empty-icon",children:"📦"}),(0,r.jsx)("h3",{children:"没有找到商品"}),(0,r.jsx)("p",{children:"请调整搜索条件或添加新商品"})]})]})]}),h&&(0,r.jsx)("div",{className:"modal-overlay",children:(0,r.jsxs)("div",{className:"modal-content",children:[(0,r.jsxs)("div",{className:"modal-header",children:[(0,r.jsx)("h3",{children:f?"编辑商品":"新增商品"}),(0,r.jsx)("button",{className:"close-btn",onClick:I,children:"✕"})]}),(0,r.jsxs)("form",{onSubmit:e=>Bt(void 0,void 0,void 0,function*(){e.preventDefault();try{f?yield rt.update(f.id,v):yield rt.create(v),yield S(),m(!1),g(null),b(Vt)}catch(e){p(f?"更新商品失败":"创建商品失败"),console.error("Failed to save product:",e)}}),className:"product-form",children:[(0,r.jsxs)("div",{className:"form-grid",children:[(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"商品名称 *"}),(0,r.jsx)("input",{type:"text",value:v.name,onChange:e=>C("name",e.target.value),className:"glass-input",placeholder:"输入商品名称",required:!0})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"SKU编码 *"}),(0,r.jsx)("input",{type:"text",value:v.sku,onChange:e=>C("sku",e.target.value),className:"glass-input",placeholder:"输入SKU编码",required:!0})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"商品分类 *"}),(0,r.jsxs)("select",{value:v.categoryId,onChange:e=>C("categoryId",e.target.value),className:"glass-select",required:!0,children:[(0,r.jsx)("option",{value:"",children:"请选择分类"}),s.map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"计量单位 *"}),(0,r.jsxs)("select",{value:v.unitId,onChange:e=>C("unitId",e.target.value),className:"glass-select",required:!0,children:[(0,r.jsx)("option",{value:"",children:"请选择单位"}),o.map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"品牌"}),(0,r.jsx)("input",{type:"text",value:v.brand,onChange:e=>C("brand",e.target.value),className:"glass-input",placeholder:"输入品牌"})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"型号规格"}),(0,r.jsx)("input",{type:"text",value:v.model,onChange:e=>C("model",e.target.value),className:"glass-input",placeholder:"输入型号规格"})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"条形码"}),(0,r.jsx)("input",{type:"text",value:v.barcode,onChange:e=>C("barcode",e.target.value),className:"glass-input",placeholder:"输入条形码"})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"商品状态"}),(0,r.jsxs)("select",{value:v.status,onChange:e=>C("status",e.target.value),className:"glass-select",children:[(0,r.jsx)("option",{value:E.ACTIVE,children:"正常"}),(0,r.jsx)("option",{value:E.INACTIVE,children:"停用"}),(0,r.jsx)("option",{value:E.DISCONTINUED,children:"停产"})]})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"采购价 *"}),(0,r.jsx)("input",{type:"number",step:"0.01",min:"0",value:v.purchasePrice,onChange:e=>C("purchasePrice",parseFloat(e.target.value)||0),className:"glass-input",placeholder:"0.00",required:!0})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"销售价 *"}),(0,r.jsx)("input",{type:"number",step:"0.01",min:"0",value:v.salePrice,onChange:e=>C("salePrice",parseFloat(e.target.value)||0),className:"glass-input",placeholder:"0.00",required:!0})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"最小库存"}),(0,r.jsx)("input",{type:"number",min:"0",value:v.minStock,onChange:e=>C("minStock",parseInt(e.target.value)||0),className:"glass-input",placeholder:"0"})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"最大库存"}),(0,r.jsx)("input",{type:"number",min:"0",value:v.maxStock,onChange:e=>C("maxStock",parseInt(e.target.value)||0),className:"glass-input",placeholder:"0"})]}),(0,r.jsxs)("div",{className:"form-group full-width",children:[(0,r.jsx)("label",{children:"商品描述"}),(0,r.jsx)("textarea",{value:v.description,onChange:e=>C("description",e.target.value),className:"glass-textarea",placeholder:"输入商品描述",rows:3})]})]}),(0,r.jsxs)("div",{className:"form-actions",children:[(0,r.jsx)("button",{type:"button",onClick:I,className:"glass-button secondary",children:"取消"}),(0,r.jsx)("button",{type:"submit",className:"glass-button primary",children:f?"更新商品":"创建商品"})]})]})]})})]})},categories:({className:e})=>{const[n,t]=(0,a.useState)([]),[s,i]=(0,a.useState)(!0),[o,l]=(0,a.useState)(null),[c,d]=(0,a.useState)(!1),[u,p]=(0,a.useState)(null),[h,m]=(0,a.useState)(qt),[f,g]=(0,a.useState)(""),[v,b]=(0,a.useState)(""),[x,y]=(0,a.useState)(null);(0,a.useEffect)(()=>{w()},[]);const w=()=>Ut(void 0,void 0,void 0,function*(){try{i(!0),l(null);const[e,n]=yield Promise.all([st.findAll(),st.getCategoryStats()]);t(e),y(n)}catch(e){l("加载分类数据失败"),console.error("Failed to load category data:",e)}finally{i(!1)}}),k=()=>{d(!1),p(null),m(qt)},j=(e,t)=>{m(r=>{const a=Object.assign(Object.assign({},r),{[e]:t});if("parentId"===e)if(t){const e=n.find(e=>e.id===t);e&&(a.level=e.level+1)}else a.level=1;return a})},N=e=>{const t=[];let r=e;for(;r&&(t.unshift(r.name),r.parentId);)r=n.find(e=>e.id===r.parentId);return t.join(" > ")},S=n.filter(e=>{const n=!f||e.name.toLowerCase().includes(f.toLowerCase()),t=!v||e.parentId===v;return n&&t});return s?(0,r.jsx)("div",{className:`category-management ${e||""}`,children:(0,r.jsxs)("div",{className:"loading-container",children:[(0,r.jsx)("div",{className:"loading-spinner"}),(0,r.jsx)("p",{children:"加载分类数据中..."})]})}):(0,r.jsxs)("div",{className:`category-management ${e||""}`,children:[(0,r.jsxs)("div",{className:"page-header",children:[(0,r.jsxs)("div",{className:"header-left",children:[(0,r.jsx)("h2",{children:"分类管理"}),(0,r.jsx)("p",{children:"管理商品分类、层级关系和分类属性"})]}),(0,r.jsx)("div",{className:"header-actions",children:(0,r.jsxs)("button",{className:"glass-button primary",onClick:()=>d(!0),children:[(0,r.jsx)("span",{className:"button-icon",children:"📂"}),"新建分类"]})})]}),o&&(0,r.jsxs)("div",{className:"error-message",children:[(0,r.jsx)("span",{className:"error-icon",children:"❌"}),o,(0,r.jsx)("button",{onClick:()=>l(null),className:"close-error",children:"✕"})]}),x&&(0,r.jsx)("div",{className:"statistics-section",children:(0,r.jsxs)("div",{className:"statistics-grid",children:[(0,r.jsxs)("div",{className:"stat-item total",children:[(0,r.jsx)("div",{className:"stat-icon",children:"📂"}),(0,r.jsxs)("div",{className:"stat-content",children:[(0,r.jsx)("div",{className:"stat-value",children:x.total}),(0,r.jsx)("div",{className:"stat-label",children:"总分类数"})]})]}),(0,r.jsxs)("div",{className:"stat-item active",children:[(0,r.jsx)("div",{className:"stat-icon",children:"✅"}),(0,r.jsxs)("div",{className:"stat-content",children:[(0,r.jsx)("div",{className:"stat-value",children:x.active}),(0,r.jsx)("div",{className:"stat-label",children:"启用分类"})]})]}),(0,r.jsxs)("div",{className:"stat-item credit",children:[(0,r.jsx)("div",{className:"stat-icon",children:"🏗️"}),(0,r.jsxs)("div",{className:"stat-content",children:[(0,r.jsx)("div",{className:"stat-value",children:x.roots}),(0,r.jsx)("div",{className:"stat-label",children:"根分类"})]})]}),(0,r.jsxs)("div",{className:"stat-item rating",children:[(0,r.jsx)("div",{className:"stat-icon",children:"📊"}),(0,r.jsxs)("div",{className:"stat-content",children:[(0,r.jsx)("div",{className:"stat-value",children:x.maxLevel}),(0,r.jsx)("div",{className:"stat-label",children:"最大层级"})]})]})]})}),(0,r.jsx)("div",{className:"filter-section",children:(0,r.jsxs)("div",{className:"filter-row",children:[(0,r.jsxs)("div",{className:"filter-group",children:[(0,r.jsx)("label",{children:"搜索分类"}),(0,r.jsxs)("div",{className:"search-input-wrapper",children:[(0,r.jsx)("span",{className:"search-icon",children:"🔍"}),(0,r.jsx)("input",{type:"text",placeholder:"搜索分类名称...",value:f,onChange:e=>g(e.target.value),className:"glass-input"})]})]}),(0,r.jsxs)("div",{className:"filter-group",children:[(0,r.jsx)("label",{children:"父分类"}),(0,r.jsxs)("select",{value:v,onChange:e=>b(e.target.value),className:"glass-select",children:[(0,r.jsx)("option",{value:"",children:"全部分类"}),(0,r.jsx)("option",{value:"root",children:"根分类"}),n.filter(e=>!e.parentId).map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]})}),(0,r.jsxs)("div",{className:"content-section",children:[(0,r.jsxs)("div",{className:"section-header",children:[(0,r.jsx)("h3",{children:"分类列表"}),(0,r.jsxs)("span",{className:"item-count",children:["共 ",S.length," 个分类"]})]}),(0,r.jsxs)("div",{className:"glass-table-container",children:[(0,r.jsxs)("table",{className:"glass-table",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"分类信息"}),(0,r.jsx)("th",{children:"分类路径"}),(0,r.jsx)("th",{children:"级别"}),(0,r.jsx)("th",{children:"排序"}),(0,r.jsx)("th",{children:"状态"}),(0,r.jsx)("th",{children:"操作"})]})}),(0,r.jsx)("tbody",{children:S.map(e=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"category-info-cell",children:(0,r.jsx)("div",{className:"category-info",children:(0,r.jsx)("div",{className:"category-name",children:e.name})})}),(0,r.jsx)("td",{className:"path-cell",children:(0,r.jsx)("div",{className:"category-path",children:N(e)})}),(0,r.jsx)("td",{className:"level-cell",children:(0,r.jsxs)("span",{className:"level-badge",children:["L",e.level]})}),(0,r.jsx)("td",{className:"sort-cell",children:e.sortOrder}),(0,r.jsx)("td",{children:(0,r.jsx)("span",{className:"status-badge "+(e.isActive?"status-active":"status-inactive"),children:e.isActive?"启用":"禁用"})}),(0,r.jsxs)("td",{className:"actions-cell",children:[(0,r.jsx)("button",{className:"action-btn edit",onClick:()=>(e=>{p(e),m({name:e.name,parentId:e.parentId||"",level:e.level,sortOrder:e.sortOrder,isActive:e.isActive}),d(!0)})(e),title:"编辑",children:"✏️"}),(0,r.jsx)("button",{className:"action-btn delete",onClick:()=>{return n=e.id,Ut(void 0,void 0,void 0,function*(){if(confirm("确定要删除这个分类吗？删除后无法恢复！"))try{yield st.delete(n),yield w()}catch(e){l(e instanceof Error?e.message:"删除分类失败"),console.error("Failed to delete category:",e)}});var n},title:"删除",children:"🗑️"})]})]},e.id))})]}),0===S.length&&(0,r.jsxs)("div",{className:"empty-state",children:[(0,r.jsx)("div",{className:"empty-icon",children:"📂"}),(0,r.jsx)("h3",{children:"没有找到分类"}),(0,r.jsx)("p",{children:"请调整搜索条件或创建新的分类"})]})]})]}),c&&(0,r.jsx)("div",{className:"modal-overlay",children:(0,r.jsxs)("div",{className:"modal-content",children:[(0,r.jsxs)("div",{className:"modal-header",children:[(0,r.jsx)("h3",{children:u?"编辑分类":"新建分类"}),(0,r.jsx)("button",{className:"close-btn",onClick:k,children:"✕"})]}),(0,r.jsxs)("form",{onSubmit:e=>Ut(void 0,void 0,void 0,function*(){e.preventDefault();try{u?yield st.update(u.id,h):yield st.create(h),yield w(),d(!1),p(null),m(qt)}catch(e){l(e instanceof Error?e.message:"保存分类失败"),console.error("Failed to save category:",e)}}),className:"category-form",children:[(0,r.jsxs)("div",{className:"form-grid",children:[(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"分类名称 *"}),(0,r.jsx)("input",{type:"text",value:h.name,onChange:e=>j("name",e.target.value),className:"glass-input",placeholder:"输入分类名称",required:!0})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"父分类"}),(0,r.jsxs)("select",{value:h.parentId,onChange:e=>j("parentId",e.target.value),className:"glass-select",children:[(0,r.jsx)("option",{value:"",children:"根分类"}),n.filter(e=>e.id!==(null==u?void 0:u.id)).map(e=>(0,r.jsx)("option",{value:e.id,children:N(e)},e.id))]})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"级别"}),(0,r.jsx)("input",{type:"number",value:h.level,onChange:e=>j("level",parseInt(e.target.value)||1),className:"glass-input",min:"1",max:"10",disabled:!0})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"排序"}),(0,r.jsx)("input",{type:"number",value:h.sortOrder,onChange:e=>j("sortOrder",parseInt(e.target.value)||1),className:"glass-input",min:"1",placeholder:"排序号"})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"状态"}),(0,r.jsxs)("select",{value:h.isActive?"true":"false",onChange:e=>j("isActive","true"===e.target.value),className:"glass-select",children:[(0,r.jsx)("option",{value:"true",children:"启用"}),(0,r.jsx)("option",{value:"false",children:"禁用"})]})]})]}),(0,r.jsxs)("div",{className:"form-actions",children:[(0,r.jsx)("button",{type:"button",onClick:k,className:"glass-button secondary",children:"取消"}),(0,r.jsx)("button",{type:"submit",className:"glass-button primary",children:u?"更新分类":"创建分类"})]})]})]})})]})},warehouses:({className:e})=>{const[n,t]=(0,a.useState)([]),[s,i]=(0,a.useState)(!0),[o,l]=(0,a.useState)(null),[c,d]=(0,a.useState)(!1),[u,p]=(0,a.useState)(null),[h,m]=(0,a.useState)(Qt),[f,g]=(0,a.useState)(""),[v,b]=(0,a.useState)(""),[x,y]=(0,a.useState)(null);(0,a.useEffect)(()=>{w()},[]);const w=()=>Zt(void 0,void 0,void 0,function*(){try{i(!0),l(null);const[e,n]=yield Promise.all([ct.findAll(),ct.getWarehouseStats()]);t(e),y(n)}catch(e){l("加载仓库数据失败"),console.error("Failed to load warehouse data:",e)}finally{i(!1)}}),k=()=>{d(!1),p(null),m(Qt)},j=(e,n)=>{m(t=>Object.assign(Object.assign({},t),{[e]:n}))},N=n.filter(e=>{const n=!f||e.code.toLowerCase().includes(f.toLowerCase())||e.name.toLowerCase().includes(f.toLowerCase())||(e.address||"").toLowerCase().includes(f.toLowerCase())||(e.manager||"").toLowerCase().includes(f.toLowerCase()),t=!v||"default"===v&&e.isDefault;return n&&t});return s?(0,r.jsx)("div",{className:`warehouse-management ${e||""}`,children:(0,r.jsxs)("div",{className:"loading-container",children:[(0,r.jsx)("div",{className:"loading-spinner"}),(0,r.jsx)("p",{children:"加载仓库数据中..."})]})}):(0,r.jsxs)("div",{className:`warehouse-management ${e||""}`,children:[(0,r.jsxs)("div",{className:"page-header",children:[(0,r.jsxs)("div",{className:"header-left",children:[(0,r.jsx)("h2",{children:"仓库管理"}),(0,r.jsx)("p",{children:"管理仓库信息、位置和仓库配置"})]}),(0,r.jsx)("div",{className:"header-actions",children:(0,r.jsxs)("button",{className:"glass-button primary",onClick:()=>d(!0),children:[(0,r.jsx)("span",{className:"button-icon",children:"🏭"}),"新建仓库"]})})]}),o&&(0,r.jsxs)("div",{className:"error-message",children:[(0,r.jsx)("span",{className:"error-icon",children:"❌"}),o,(0,r.jsx)("button",{onClick:()=>l(null),className:"close-error",children:"✕"})]}),x&&(0,r.jsx)("div",{className:"statistics-section",children:(0,r.jsxs)("div",{className:"statistics-grid",children:[(0,r.jsxs)("div",{className:"stat-item total",children:[(0,r.jsx)("div",{className:"stat-icon",children:"🏭"}),(0,r.jsxs)("div",{className:"stat-content",children:[(0,r.jsx)("div",{className:"stat-value",children:x.total}),(0,r.jsx)("div",{className:"stat-label",children:"总仓库数"})]})]}),(0,r.jsxs)("div",{className:"stat-item active",children:[(0,r.jsx)("div",{className:"stat-icon",children:"✅"}),(0,r.jsxs)("div",{className:"stat-content",children:[(0,r.jsx)("div",{className:"stat-value",children:x.active}),(0,r.jsx)("div",{className:"stat-label",children:"启用仓库"})]})]}),(0,r.jsxs)("div",{className:"stat-item credit",children:[(0,r.jsx)("div",{className:"stat-icon",children:"⭐"}),(0,r.jsxs)("div",{className:"stat-content",children:[(0,r.jsx)("div",{className:"stat-value",children:"1"}),(0,r.jsx)("div",{className:"stat-label",children:"默认仓库"})]})]}),(0,r.jsxs)("div",{className:"stat-item rating",children:[(0,r.jsx)("div",{className:"stat-icon",children:"📊"}),(0,r.jsxs)("div",{className:"stat-content",children:[(0,r.jsxs)("div",{className:"stat-value",children:[(x.totalCapacity/1e4).toFixed(1),"万"]}),(0,r.jsx)("div",{className:"stat-label",children:"总容量"})]})]})]})}),(0,r.jsx)("div",{className:"filter-section",children:(0,r.jsxs)("div",{className:"filter-row",children:[(0,r.jsxs)("div",{className:"filter-group",children:[(0,r.jsx)("label",{children:"搜索仓库"}),(0,r.jsxs)("div",{className:"search-input-wrapper",children:[(0,r.jsx)("span",{className:"search-icon",children:"🔍"}),(0,r.jsx)("input",{type:"text",placeholder:"搜索仓库编码、名称、地址、管理员...",value:f,onChange:e=>g(e.target.value),className:"glass-input"})]})]}),(0,r.jsxs)("div",{className:"filter-group",children:[(0,r.jsx)("label",{children:"仓库状态"}),(0,r.jsxs)("select",{value:v,onChange:e=>b(e.target.value),className:"glass-select",children:[(0,r.jsx)("option",{value:"",children:"全部仓库"}),(0,r.jsx)("option",{value:"default",children:"默认仓库"})]})]})]})}),(0,r.jsxs)("div",{className:"content-section",children:[(0,r.jsxs)("div",{className:"section-header",children:[(0,r.jsx)("h3",{children:"仓库列表"}),(0,r.jsxs)("span",{className:"item-count",children:["共 ",N.length," 个仓库"]})]}),(0,r.jsxs)("div",{className:"glass-table-container",children:[(0,r.jsxs)("table",{className:"glass-table",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"仓库信息"}),(0,r.jsx)("th",{children:"联系方式"}),(0,r.jsx)("th",{children:"地址"}),(0,r.jsx)("th",{children:"容量"}),(0,r.jsx)("th",{children:"状态"}),(0,r.jsx)("th",{children:"操作"})]})}),(0,r.jsx)("tbody",{children:N.map(e=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"warehouse-info-cell",children:(0,r.jsxs)("div",{className:"warehouse-info",children:[(0,r.jsxs)("div",{className:"warehouse-name",children:[e.name,e.isDefault&&(0,r.jsx)("span",{className:"default-badge",children:"默认"})]}),(0,r.jsx)("div",{className:"warehouse-code",children:e.code})]})}),(0,r.jsx)("td",{className:"contact-cell",children:(0,r.jsxs)("div",{className:"contact-info",children:[(0,r.jsxs)("div",{className:"manager",children:["👤 ",e.manager||"-"]}),(0,r.jsxs)("div",{className:"phone",children:["📞 ",e.phone||"-"]})]})}),(0,r.jsx)("td",{className:"address-cell",children:(0,r.jsx)("div",{className:"address",children:e.address||"-"})}),(0,r.jsx)("td",{className:"capacity-cell",children:"-"}),(0,r.jsx)("td",{children:(0,r.jsx)("div",{className:"status-badges",children:e.isDefault&&(0,r.jsx)("span",{className:"status-badge status-default",children:"默认"})})}),(0,r.jsxs)("td",{className:"actions-cell",children:[(0,r.jsx)("button",{className:"action-btn edit",onClick:()=>(e=>{p(e),m({code:e.code,name:e.name,address:e.address||"",manager:e.manager||"",phone:e.phone||"",isDefault:e.isDefault}),d(!0)})(e),title:"编辑",children:"✏️"}),!e.isDefault&&(0,r.jsx)("button",{className:"action-btn default",onClick:()=>{return n=e.id,Zt(void 0,void 0,void 0,function*(){if(confirm("确定要设置为默认仓库吗？"))try{yield ct.setDefault(n),yield w()}catch(e){l(e instanceof Error?e.message:"设置默认仓库失败"),console.error("Failed to set default warehouse:",e)}});var n},title:"设为默认",children:"⭐"}),!e.isDefault&&(0,r.jsx)("button",{className:"action-btn delete",onClick:()=>{return t=e.id,Zt(void 0,void 0,void 0,function*(){const e=n.find(e=>e.id===t);if(null==e?void 0:e.isDefault)l("默认仓库不能删除");else if(confirm("确定要删除这个仓库吗？删除后无法恢复！"))try{yield ct.delete(t),yield w()}catch(e){l(e instanceof Error?e.message:"删除仓库失败"),console.error("Failed to delete warehouse:",e)}});var t},title:"删除",children:"🗑️"})]})]},e.id))})]}),0===N.length&&(0,r.jsxs)("div",{className:"empty-state",children:[(0,r.jsx)("div",{className:"empty-icon",children:"🏭"}),(0,r.jsx)("h3",{children:"没有找到仓库"}),(0,r.jsx)("p",{children:"请调整搜索条件或创建新的仓库"})]})]})]}),c&&(0,r.jsx)("div",{className:"modal-overlay",children:(0,r.jsxs)("div",{className:"modal-content",children:[(0,r.jsxs)("div",{className:"modal-header",children:[(0,r.jsx)("h3",{children:u?"编辑仓库":"新建仓库"}),(0,r.jsx)("button",{className:"close-btn",onClick:k,children:"✕"})]}),(0,r.jsxs)("form",{onSubmit:e=>Zt(void 0,void 0,void 0,function*(){e.preventDefault();try{u?yield ct.update(u.id,h):yield ct.create(h),yield w(),d(!1),p(null),m(Qt)}catch(e){l(e instanceof Error?e.message:"保存仓库失败"),console.error("Failed to save warehouse:",e)}}),className:"warehouse-form",children:[(0,r.jsxs)("div",{className:"form-grid",children:[(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"仓库编码 *"}),(0,r.jsxs)("div",{className:"input-with-button",children:[(0,r.jsx)("input",{type:"text",value:h.code,onChange:e=>j("code",e.target.value),className:"glass-input",placeholder:"输入仓库编码",required:!0}),!u&&(0,r.jsx)("button",{type:"button",className:"generate-btn",onClick:()=>{const e=n.reduce((e,n)=>{const t=n.code.match(/WH(\d+)/);if(t){const n=parseInt(t[1]);return Math.max(e,n)}return e},0),t=`WH${String(e+1).padStart(3,"0")}`;m(e=>Object.assign(Object.assign({},e),{code:t}))},title:"自动生成编码",children:"🔄"})]})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"仓库名称 *"}),(0,r.jsx)("input",{type:"text",value:h.name,onChange:e=>j("name",e.target.value),className:"glass-input",placeholder:"输入仓库名称",required:!0})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"管理员 *"}),(0,r.jsx)("input",{type:"text",value:h.manager,onChange:e=>j("manager",e.target.value),className:"glass-input",placeholder:"输入管理员姓名",required:!0})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"联系电话 *"}),(0,r.jsx)("input",{type:"tel",value:h.phone,onChange:e=>j("phone",e.target.value),className:"glass-input",placeholder:"输入联系电话",required:!0})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"是否默认"}),(0,r.jsxs)("select",{value:h.isDefault?"true":"false",onChange:e=>j("isDefault","true"===e.target.value),className:"glass-select",children:[(0,r.jsx)("option",{value:"false",children:"否"}),(0,r.jsx)("option",{value:"true",children:"是"})]})]}),(0,r.jsxs)("div",{className:"form-group full-width",children:[(0,r.jsx)("label",{children:"仓库地址 *"}),(0,r.jsx)("input",{type:"text",value:h.address,onChange:e=>j("address",e.target.value),className:"glass-input",placeholder:"输入仓库地址",required:!0})]})]}),(0,r.jsxs)("div",{className:"form-actions",children:[(0,r.jsx)("button",{type:"button",onClick:k,className:"glass-button secondary",children:"取消"}),(0,r.jsx)("button",{type:"submit",className:"glass-button primary",children:u?"更新仓库":"创建仓库"})]})]})]})})]})},"stock-in":({className:e})=>{const[n,t]=(0,a.useState)([]),[s,i]=(0,a.useState)([]),[o,l]=(0,a.useState)(!0),[c,d]=(0,a.useState)(null),[u,p]=(0,a.useState)(Ht),[h,m]=(0,a.useState)(!1),[f,g]=(0,a.useState)(null);(0,a.useEffect)(()=>{v()},[]);const v=()=>Wt(void 0,void 0,void 0,function*(){try{l(!0),d(null);const[e,n]=yield Promise.all([rt.findAll(),ct.findAll()]);t(e),i(n)}catch(e){d("加载数据失败"),console.error("Failed to load data:",e)}finally{l(!1)}}),b=(e,n,t)=>{p(r=>Object.assign(Object.assign({},r),{items:r.items.map(r=>r.id===e?Object.assign(Object.assign({},r),{[n]:t}):r)}))};return o?(0,r.jsx)("div",{className:`stock-in ${e||""}`,children:(0,r.jsxs)("div",{className:"loading-container",children:[(0,r.jsx)("div",{className:"loading-spinner"}),(0,r.jsx)("p",{children:"加载数据中..."})]})}):(0,r.jsxs)("div",{className:`stock-in ${e||""}`,children:[(0,r.jsxs)("div",{className:"page-header",children:[(0,r.jsxs)("div",{className:"header-left",children:[(0,r.jsx)("h2",{children:"库存入库"}),(0,r.jsx)("p",{children:"添加新的库存入库记录，更新商品库存数量"})]}),(0,r.jsx)("div",{className:"header-actions",children:(0,r.jsxs)("button",{type:"button",className:"glass-button secondary",onClick:()=>p(Ht),children:[(0,r.jsx)("span",{className:"button-icon",children:"🔄"}),"重置表单"]})})]}),f&&(0,r.jsxs)("div",{className:"success-message",children:[(0,r.jsx)("span",{className:"success-icon",children:"✅"}),f]}),c&&(0,r.jsxs)("div",{className:"error-message",children:[(0,r.jsx)("span",{className:"error-icon",children:"❌"}),c]}),(0,r.jsxs)("form",{onSubmit:e=>Wt(void 0,void 0,void 0,function*(){if(e.preventDefault(),0!==u.items.length){for(const e of u.items)if(!e.productId||!e.warehouseId||e.quantity<=0||e.unitPrice<=0)return void d("请完整填写所有入库项目信息");try{m(!0),d(null);const e=[];for(const n of u.items){const t=yield ut.stockIn({productId:n.productId,warehouseId:n.warehouseId,quantity:n.quantity,unitPrice:n.unitPrice,referenceType:u.referenceType||"手工入库",referenceId:u.referenceId||`MANUAL_${Date.now()}`,remark:n.remark||u.remark,operator:u.operator});e.push(t)}g(`成功处理 ${e.length} 个入库项目`),p(Ht),setTimeout(()=>g(null),3e3)}catch(e){d(e instanceof Error?e.message:"入库操作失败"),console.error("Stock in failed:",e)}finally{m(!1)}}else d("请至少添加一个入库商品")}),className:"stock-in-form",children:[(0,r.jsxs)("div",{className:"form-section",children:[(0,r.jsx)("div",{className:"section-header",children:(0,r.jsx)("h3",{children:"基本信息"})}),(0,r.jsxs)("div",{className:"form-grid",children:[(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"参考类型"}),(0,r.jsxs)("select",{value:u.referenceType,onChange:e=>p(n=>Object.assign(Object.assign({},n),{referenceType:e.target.value})),className:"glass-select",children:[(0,r.jsx)("option",{value:"",children:"选择参考类型"}),(0,r.jsx)("option",{value:"手工入库",children:"手工入库"}),(0,r.jsx)("option",{value:"采购入库",children:"采购入库"}),(0,r.jsx)("option",{value:"调拨入库",children:"调拨入库"}),(0,r.jsx)("option",{value:"退货入库",children:"退货入库"}),(0,r.jsx)("option",{value:"其他入库",children:"其他入库"})]})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"参考单号"}),(0,r.jsx)("input",{type:"text",value:u.referenceId,onChange:e=>p(n=>Object.assign(Object.assign({},n),{referenceId:e.target.value})),className:"glass-input",placeholder:"如：采购单号、调拨单号等"})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"操作员"}),(0,r.jsx)("input",{type:"text",value:u.operator,onChange:e=>p(n=>Object.assign(Object.assign({},n),{operator:e.target.value})),className:"glass-input",placeholder:"操作员姓名",required:!0})]}),(0,r.jsxs)("div",{className:"form-group full-width",children:[(0,r.jsx)("label",{children:"备注说明"}),(0,r.jsx)("textarea",{value:u.remark,onChange:e=>p(n=>Object.assign(Object.assign({},n),{remark:e.target.value})),className:"glass-textarea",placeholder:"入库备注说明",rows:3})]})]})]}),(0,r.jsxs)("div",{className:"form-section",children:[(0,r.jsxs)("div",{className:"section-header",children:[(0,r.jsx)("h3",{children:"入库商品"}),(0,r.jsxs)("button",{type:"button",className:"glass-button primary",onClick:()=>{const e=Object.assign(Object.assign({},Yt),{id:Date.now().toString()});p(n=>Object.assign(Object.assign({},n),{items:[...n.items,e]}))},children:[(0,r.jsx)("span",{className:"button-icon",children:"➕"}),"添加商品"]})]}),0===u.items.length?(0,r.jsxs)("div",{className:"empty-items",children:[(0,r.jsx)("div",{className:"empty-icon",children:"📦"}),(0,r.jsx)("p",{children:'暂无入库商品，请点击"添加商品"按钮添加'})]}):(0,r.jsx)("div",{className:"items-table-container",children:(0,r.jsxs)("table",{className:"items-table",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"商品"}),(0,r.jsx)("th",{children:"仓库"}),(0,r.jsx)("th",{children:"数量"}),(0,r.jsx)("th",{children:"单价"}),(0,r.jsx)("th",{children:"金额"}),(0,r.jsx)("th",{children:"备注"}),(0,r.jsx)("th",{children:"操作"})]})}),(0,r.jsx)("tbody",{children:u.items.map(e=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsxs)("select",{value:e.productId,onChange:n=>b(e.id,"productId",n.target.value),className:"glass-select",required:!0,children:[(0,r.jsx)("option",{value:"",children:"选择商品"}),n.map(e=>(0,r.jsxs)("option",{value:e.id,children:[e.name," (",e.sku,")"]},e.id))]})}),(0,r.jsx)("td",{children:(0,r.jsxs)("select",{value:e.warehouseId,onChange:n=>b(e.id,"warehouseId",n.target.value),className:"glass-select",required:!0,children:[(0,r.jsx)("option",{value:"",children:"选择仓库"}),s.map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id))]})}),(0,r.jsx)("td",{children:(0,r.jsx)("input",{type:"number",min:"0.01",step:"0.01",value:e.quantity,onChange:n=>b(e.id,"quantity",parseFloat(n.target.value)||0),className:"glass-input",placeholder:"数量",required:!0})}),(0,r.jsx)("td",{children:(0,r.jsx)("input",{type:"number",min:"0.01",step:"0.01",value:e.unitPrice,onChange:n=>b(e.id,"unitPrice",parseFloat(n.target.value)||0),className:"glass-input",placeholder:"单价",required:!0})}),(0,r.jsxs)("td",{className:"amount-cell",children:["¥",(e.quantity*e.unitPrice).toFixed(2)]}),(0,r.jsx)("td",{children:(0,r.jsx)("input",{type:"text",value:e.remark||"",onChange:n=>b(e.id,"remark",n.target.value),className:"glass-input",placeholder:"备注"})}),(0,r.jsx)("td",{children:(0,r.jsx)("button",{type:"button",className:"action-btn delete",onClick:()=>{return n=e.id,void p(e=>Object.assign(Object.assign({},e),{items:e.items.filter(e=>e.id!==n)}));var n},title:"删除",children:"🗑️"})})]},e.id))})]})})]}),u.items.length>0&&(0,r.jsxs)("div",{className:"form-section",children:[(0,r.jsx)("div",{className:"section-header",children:(0,r.jsx)("h3",{children:"汇总信息"})}),(0,r.jsxs)("div",{className:"summary-grid",children:[(0,r.jsxs)("div",{className:"summary-item",children:[(0,r.jsx)("span",{className:"summary-label",children:"商品种类："}),(0,r.jsxs)("span",{className:"summary-value",children:[u.items.length," 种"]})]}),(0,r.jsxs)("div",{className:"summary-item",children:[(0,r.jsx)("span",{className:"summary-label",children:"总数量："}),(0,r.jsx)("span",{className:"summary-value",children:u.items.reduce((e,n)=>e+n.quantity,0).toFixed(2)})]}),(0,r.jsxs)("div",{className:"summary-item",children:[(0,r.jsx)("span",{className:"summary-label",children:"总金额："}),(0,r.jsxs)("span",{className:"summary-value",children:["¥",u.items.reduce((e,n)=>e+n.quantity*n.unitPrice,0).toFixed(2)]})]})]})]}),(0,r.jsx)("div",{className:"form-actions",children:(0,r.jsx)("button",{type:"submit",className:"glass-button primary large",disabled:h||0===u.items.length,children:h?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"button-icon",children:"⏳"}),"处理中..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"button-icon",children:"📥"}),"确认入库"]})})})]})]})},"stock-out":({className:e})=>{const[n,t]=(0,a.useState)([]),[s,i]=(0,a.useState)([]),[o,l]=(0,a.useState)(new Map),[c,d]=(0,a.useState)(!0),[u,p]=(0,a.useState)(null),[h,m]=(0,a.useState)(Xt),[f,g]=(0,a.useState)(!1),[v,b]=(0,a.useState)(null);(0,a.useEffect)(()=>{x()},[]);const x=()=>Kt(void 0,void 0,void 0,function*(){try{d(!0),p(null);const[e,n,r]=yield Promise.all([rt.findAll(),ct.findAll(),ut.findAllStocks()]);t(e),i(n);const a=new Map;r.forEach(e=>{const n=`${e.productId}:${e.warehouseId}`;a.set(n,e)}),l(a)}catch(e){p("加载数据失败"),console.error("Failed to load data:",e)}finally{d(!1)}}),y=(e,n,t)=>{m(r=>Object.assign(Object.assign({},r),{items:r.items.map(r=>{if(r.id===e){const e=Object.assign(Object.assign({},r),{[n]:t});if(("productId"===n||"warehouseId"===n)&&e.productId&&e.warehouseId){const t=`${e.productId}:${e.warehouseId}`,r=o.get(t);r?(e.currentStock=r.currentStock,e.availableStock=r.availableStock,"productId"!==n&&"warehouseId"!==n||(e.unitPrice=r.avgCost||0)):(e.currentStock=0,e.availableStock=0)}return e}return r})}))},w=e=>{switch(e){case"out-of-stock":return"缺货";case"insufficient":return"库存不足";case"low-stock":return"库存偏低";case"normal":return"库存正常";default:return""}};return c?(0,r.jsx)("div",{className:`stock-out ${e||""}`,children:(0,r.jsxs)("div",{className:"loading-container",children:[(0,r.jsx)("div",{className:"loading-spinner"}),(0,r.jsx)("p",{children:"加载数据中..."})]})}):(0,r.jsxs)("div",{className:`stock-out ${e||""}`,children:[(0,r.jsxs)("div",{className:"page-header",children:[(0,r.jsxs)("div",{className:"header-left",children:[(0,r.jsx)("h2",{children:"库存出库"}),(0,r.jsx)("p",{children:"处理商品出库操作，减少库存数量"})]}),(0,r.jsx)("div",{className:"header-actions",children:(0,r.jsxs)("button",{type:"button",className:"glass-button secondary",onClick:()=>m(Xt),children:[(0,r.jsx)("span",{className:"button-icon",children:"🔄"}),"重置表单"]})})]}),v&&(0,r.jsxs)("div",{className:"success-message",children:[(0,r.jsx)("span",{className:"success-icon",children:"✅"}),v]}),u&&(0,r.jsxs)("div",{className:"error-message",children:[(0,r.jsx)("span",{className:"error-icon",children:"❌"}),u]}),(0,r.jsxs)("form",{onSubmit:e=>Kt(void 0,void 0,void 0,function*(){if(e.preventDefault(),0!==h.items.length){for(const e of h.items){if(!e.productId||!e.warehouseId||e.quantity<=0||e.unitPrice<=0)return void p("请完整填写所有出库项目信息");if(void 0!==e.availableStock&&e.quantity>e.availableStock){const t=n.find(n=>n.id===e.productId),r=s.find(n=>n.id===e.warehouseId);return void p(`商品 "${null==t?void 0:t.name}" 在仓库 "${null==r?void 0:r.name}" 的可用库存不足，当前可用: ${e.availableStock}，需要: ${e.quantity}`)}}try{g(!0),p(null);const e=[];for(const n of h.items){const t=yield ut.stockOut({productId:n.productId,warehouseId:n.warehouseId,quantity:n.quantity,unitPrice:n.unitPrice,referenceType:h.referenceType||"手工出库",referenceId:h.referenceId||`MANUAL_${Date.now()}`,remark:n.remark||h.remark,operator:h.operator});e.push(t)}b(`成功处理 ${e.length} 个出库项目`),m(Xt),yield x(),setTimeout(()=>b(null),3e3)}catch(e){p(e instanceof Error?e.message:"出库操作失败"),console.error("Stock out failed:",e)}finally{g(!1)}}else p("请至少添加一个出库商品")}),className:"stock-out-form",children:[(0,r.jsxs)("div",{className:"form-section",children:[(0,r.jsx)("div",{className:"section-header",children:(0,r.jsx)("h3",{children:"基本信息"})}),(0,r.jsxs)("div",{className:"form-grid",children:[(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"参考类型"}),(0,r.jsxs)("select",{value:h.referenceType,onChange:e=>m(n=>Object.assign(Object.assign({},n),{referenceType:e.target.value})),className:"glass-select",children:[(0,r.jsx)("option",{value:"",children:"选择参考类型"}),(0,r.jsx)("option",{value:"手工出库",children:"手工出库"}),(0,r.jsx)("option",{value:"销售出库",children:"销售出库"}),(0,r.jsx)("option",{value:"调拨出库",children:"调拨出库"}),(0,r.jsx)("option",{value:"生产出库",children:"生产出库"}),(0,r.jsx)("option",{value:"损耗出库",children:"损耗出库"}),(0,r.jsx)("option",{value:"其他出库",children:"其他出库"})]})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"参考单号"}),(0,r.jsx)("input",{type:"text",value:h.referenceId,onChange:e=>m(n=>Object.assign(Object.assign({},n),{referenceId:e.target.value})),className:"glass-input",placeholder:"如：销售单号、调拨单号等"})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"操作员"}),(0,r.jsx)("input",{type:"text",value:h.operator,onChange:e=>m(n=>Object.assign(Object.assign({},n),{operator:e.target.value})),className:"glass-input",placeholder:"操作员姓名",required:!0})]}),(0,r.jsxs)("div",{className:"form-group full-width",children:[(0,r.jsx)("label",{children:"备注说明"}),(0,r.jsx)("textarea",{value:h.remark,onChange:e=>m(n=>Object.assign(Object.assign({},n),{remark:e.target.value})),className:"glass-textarea",placeholder:"出库备注说明",rows:3})]})]})]}),(0,r.jsxs)("div",{className:"form-section",children:[(0,r.jsxs)("div",{className:"section-header",children:[(0,r.jsx)("h3",{children:"出库商品"}),(0,r.jsxs)("button",{type:"button",className:"glass-button primary",onClick:()=>{const e=Object.assign(Object.assign({},Gt),{id:Date.now().toString()});m(n=>Object.assign(Object.assign({},n),{items:[...n.items,e]}))},children:[(0,r.jsx)("span",{className:"button-icon",children:"➕"}),"添加商品"]})]}),0===h.items.length?(0,r.jsxs)("div",{className:"empty-items",children:[(0,r.jsx)("div",{className:"empty-icon",children:"📦"}),(0,r.jsx)("p",{children:'暂无出库商品，请点击"添加商品"按钮添加'})]}):(0,r.jsx)("div",{className:"items-table-container",children:(0,r.jsxs)("table",{className:"items-table",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"商品"}),(0,r.jsx)("th",{children:"仓库"}),(0,r.jsx)("th",{children:"当前库存"}),(0,r.jsx)("th",{children:"可用库存"}),(0,r.jsx)("th",{children:"出库数量"}),(0,r.jsx)("th",{children:"单价"}),(0,r.jsx)("th",{children:"金额"}),(0,r.jsx)("th",{children:"备注"}),(0,r.jsx)("th",{children:"操作"})]})}),(0,r.jsx)("tbody",{children:h.items.map(e=>{const t=(e=>e.productId&&e.warehouseId?void 0===e.availableStock?"":e.availableStock<=0?"out-of-stock":e.quantity>e.availableStock?"insufficient":e.availableStock<=10?"low-stock":"normal":"")(e);return(0,r.jsxs)("tr",{className:t?`stock-status-${t}`:"",children:[(0,r.jsx)("td",{children:(0,r.jsxs)("select",{value:e.productId,onChange:n=>y(e.id,"productId",n.target.value),className:"glass-select",required:!0,children:[(0,r.jsx)("option",{value:"",children:"选择商品"}),n.map(e=>(0,r.jsxs)("option",{value:e.id,children:[e.name," (",e.sku,")"]},e.id))]})}),(0,r.jsx)("td",{children:(0,r.jsxs)("select",{value:e.warehouseId,onChange:n=>y(e.id,"warehouseId",n.target.value),className:"glass-select",required:!0,children:[(0,r.jsx)("option",{value:"",children:"选择仓库"}),s.map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id))]})}),(0,r.jsx)("td",{className:"stock-cell",children:(0,r.jsx)("span",{className:"stock-value",children:void 0!==e.currentStock?e.currentStock.toFixed(2):"-"})}),(0,r.jsxs)("td",{className:"stock-cell",children:[(0,r.jsx)("span",{className:`stock-value ${t}`,children:void 0!==e.availableStock?e.availableStock.toFixed(2):"-"}),t&&(0,r.jsx)("div",{className:"stock-status-badge",children:w(t)})]}),(0,r.jsx)("td",{children:(0,r.jsx)("input",{type:"number",min:"0.01",step:"0.01",max:e.availableStock||999999,value:e.quantity,onChange:n=>y(e.id,"quantity",parseFloat(n.target.value)||0),className:"glass-input "+("insufficient"===t?"error":""),placeholder:"数量",required:!0})}),(0,r.jsx)("td",{children:(0,r.jsx)("input",{type:"number",min:"0.01",step:"0.01",value:e.unitPrice,onChange:n=>y(e.id,"unitPrice",parseFloat(n.target.value)||0),className:"glass-input",placeholder:"单价",required:!0})}),(0,r.jsxs)("td",{className:"amount-cell",children:["¥",(e.quantity*e.unitPrice).toFixed(2)]}),(0,r.jsx)("td",{children:(0,r.jsx)("input",{type:"text",value:e.remark||"",onChange:n=>y(e.id,"remark",n.target.value),className:"glass-input",placeholder:"备注"})}),(0,r.jsx)("td",{children:(0,r.jsx)("button",{type:"button",className:"action-btn delete",onClick:()=>{return n=e.id,void m(e=>Object.assign(Object.assign({},e),{items:e.items.filter(e=>e.id!==n)}));var n},title:"删除",children:"🗑️"})})]},e.id)})})]})})]}),h.items.length>0&&(0,r.jsxs)("div",{className:"form-section",children:[(0,r.jsx)("div",{className:"section-header",children:(0,r.jsx)("h3",{children:"汇总信息"})}),(0,r.jsxs)("div",{className:"summary-grid",children:[(0,r.jsxs)("div",{className:"summary-item",children:[(0,r.jsx)("span",{className:"summary-label",children:"商品种类："}),(0,r.jsxs)("span",{className:"summary-value",children:[h.items.length," 种"]})]}),(0,r.jsxs)("div",{className:"summary-item",children:[(0,r.jsx)("span",{className:"summary-label",children:"总数量："}),(0,r.jsx)("span",{className:"summary-value",children:h.items.reduce((e,n)=>e+n.quantity,0).toFixed(2)})]}),(0,r.jsxs)("div",{className:"summary-item",children:[(0,r.jsx)("span",{className:"summary-label",children:"总金额："}),(0,r.jsxs)("span",{className:"summary-value",children:["¥",h.items.reduce((e,n)=>e+n.quantity*n.unitPrice,0).toFixed(2)]})]})]})]}),(0,r.jsx)("div",{className:"form-actions",children:(0,r.jsx)("button",{type:"submit",className:"glass-button primary large",disabled:f||0===h.items.length,children:f?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"button-icon",children:"⏳"}),"处理中..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"button-icon",children:"📤"}),"确认出库"]})})})]})]})},"stock-adjust":({className:e})=>{const[n,t]=(0,a.useState)([]),[s,i]=(0,a.useState)([]),[o,l]=(0,a.useState)(new Map),[c,d]=(0,a.useState)(!0),[u,p]=(0,a.useState)(null),[h,m]=(0,a.useState)(er),[f,g]=(0,a.useState)(!1),[v,b]=(0,a.useState)(null);(0,a.useEffect)(()=>{x()},[]);const x=()=>Jt(void 0,void 0,void 0,function*(){try{d(!0),p(null);const[e,n,r]=yield Promise.all([rt.findAll(),ct.findAll(),ut.findAllStocks()]);t(e),i(n);const a=new Map;r.forEach(e=>{const n=`${e.productId}:${e.warehouseId}`;a.set(n,e)}),l(a)}catch(e){p("加载数据失败"),console.error("Failed to load data:",e)}finally{d(!1)}}),y=(e,n,t)=>{m(r=>Object.assign(Object.assign({},r),{items:r.items.map(r=>{if(r.id===e){const e=Object.assign(Object.assign({},r),{[n]:t});if(("productId"===n||"warehouseId"===n)&&e.productId&&e.warehouseId){const n=`${e.productId}:${e.warehouseId}`,t=o.get(n);t?(e.currentStock=t.currentStock,e.adjustedStock=t.currentStock,e.adjustmentQuantity=0,e.unitPrice=t.avgCost||0):(e.currentStock=0,e.adjustedStock=0,e.adjustmentQuantity=0)}if("adjustedStock"===n){const n=e.adjustedStock-e.currentStock;e.adjustmentQuantity=Math.abs(n),n>0?e.adjustmentType="increase":n<0?e.adjustmentType="decrease":(e.adjustmentType="set",e.adjustmentQuantity=0)}return"adjustmentQuantity"!==n&&"adjustmentType"!==n||("increase"===e.adjustmentType?e.adjustedStock=e.currentStock+e.adjustmentQuantity:"decrease"===e.adjustmentType?e.adjustedStock=Math.max(0,e.currentStock-e.adjustmentQuantity):"adjustmentQuantity"===n&&"set"===e.adjustmentType&&(e.adjustedStock=e.adjustmentQuantity,e.adjustmentQuantity=Math.abs(e.adjustedStock-e.currentStock))),e}return r})}))},w=e=>{switch(e){case"increase":return"增加";case"decrease":return"减少";case"set":return"设定";default:return e}},k=e=>{switch(e){case"increase":return"adjustment-increase";case"decrease":return"adjustment-decrease";case"set":return"adjustment-set";default:return""}};if(c)return(0,r.jsx)("div",{className:`stock-adjust ${e||""}`,children:(0,r.jsxs)("div",{className:"loading-container",children:[(0,r.jsx)("div",{className:"loading-spinner"}),(0,r.jsx)("p",{children:"加载数据中..."})]})});const j=h.items.reduce((e,n)=>{const t=n.adjustedStock-n.currentStock;return t>0?(e.increases+=t,e.increaseValue+=t*n.unitPrice):t<0&&(e.decreases+=Math.abs(t),e.decreaseValue+=Math.abs(t)*n.unitPrice),e},{increases:0,decreases:0,increaseValue:0,decreaseValue:0});return(0,r.jsxs)("div",{className:`stock-adjust ${e||""}`,children:[(0,r.jsxs)("div",{className:"page-header",children:[(0,r.jsxs)("div",{className:"header-left",children:[(0,r.jsx)("h2",{children:"库存调整"}),(0,r.jsx)("p",{children:"处理库存盘点差异、损耗调整和其他库存纠正操作"})]}),(0,r.jsx)("div",{className:"header-actions",children:(0,r.jsxs)("button",{type:"button",className:"glass-button secondary",onClick:()=>m(er),children:[(0,r.jsx)("span",{className:"button-icon",children:"🔄"}),"重置表单"]})})]}),v&&(0,r.jsxs)("div",{className:"success-message",children:[(0,r.jsx)("span",{className:"success-icon",children:"✅"}),v]}),u&&(0,r.jsxs)("div",{className:"error-message",children:[(0,r.jsx)("span",{className:"error-icon",children:"❌"}),u]}),(0,r.jsxs)("form",{onSubmit:e=>Jt(void 0,void 0,void 0,function*(){if(e.preventDefault(),0!==h.items.length){for(const e of h.items){if(!e.productId||!e.warehouseId||e.unitPrice<=0)return void p("请完整填写所有调整项目信息");if(0===e.adjustmentQuantity)return void p("调整数量不能为0，请检查调整项目");if(e.adjustedStock<0)return void p("调整后库存不能为负数")}try{g(!0),p(null);const e=[];for(const n of h.items){const t=yield ut.stockAdjust({productId:n.productId,warehouseId:n.warehouseId,newQuantity:n.adjustedStock,unitPrice:n.unitPrice,remark:`${h.reason} - ${n.remark||h.remark||"库存调整"}`,operator:h.operator});e.push(t)}b(`成功处理 ${e.length} 个库存调整项目`),m(er),yield x(),setTimeout(()=>b(null),3e3)}catch(e){p(e instanceof Error?e.message:"库存调整操作失败"),console.error("Stock adjustment failed:",e)}finally{g(!1)}}else p("请至少添加一个调整项目")}),className:"stock-adjust-form",children:[(0,r.jsxs)("div",{className:"form-section",children:[(0,r.jsx)("div",{className:"section-header",children:(0,r.jsx)("h3",{children:"调整信息"})}),(0,r.jsxs)("div",{className:"form-grid",children:[(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"调整类型"}),(0,r.jsxs)("select",{value:h.adjustmentType,onChange:e=>m(n=>Object.assign(Object.assign({},n),{adjustmentType:e.target.value})),className:"glass-select",required:!0,children:[(0,r.jsx)("option",{value:"",children:"选择调整类型"}),(0,r.jsx)("option",{value:"盘点调整",children:"盘点调整"}),(0,r.jsx)("option",{value:"损耗调整",children:"损耗调整"}),(0,r.jsx)("option",{value:"系统纠错",children:"系统纠错"}),(0,r.jsx)("option",{value:"过期处理",children:"过期处理"}),(0,r.jsx)("option",{value:"质量问题",children:"质量问题"}),(0,r.jsx)("option",{value:"其他调整",children:"其他调整"})]})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"调整原因"}),(0,r.jsx)("input",{type:"text",value:h.reason,onChange:e=>m(n=>Object.assign(Object.assign({},n),{reason:e.target.value})),className:"glass-input",placeholder:"详细的调整原因",required:!0})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"操作员"}),(0,r.jsx)("input",{type:"text",value:h.operator,onChange:e=>m(n=>Object.assign(Object.assign({},n),{operator:e.target.value})),className:"glass-input",placeholder:"操作员姓名",required:!0})]}),(0,r.jsxs)("div",{className:"form-group full-width",children:[(0,r.jsx)("label",{children:"备注说明"}),(0,r.jsx)("textarea",{value:h.remark,onChange:e=>m(n=>Object.assign(Object.assign({},n),{remark:e.target.value})),className:"glass-textarea",placeholder:"调整备注说明",rows:3})]})]})]}),(0,r.jsxs)("div",{className:"form-section",children:[(0,r.jsxs)("div",{className:"section-header",children:[(0,r.jsx)("h3",{children:"调整项目"}),(0,r.jsxs)("button",{type:"button",className:"glass-button primary",onClick:()=>{const e=Object.assign(Object.assign({},nr),{id:Date.now().toString()});m(n=>Object.assign(Object.assign({},n),{items:[...n.items,e]}))},children:[(0,r.jsx)("span",{className:"button-icon",children:"➕"}),"添加调整项目"]})]}),0===h.items.length?(0,r.jsxs)("div",{className:"empty-items",children:[(0,r.jsx)("div",{className:"empty-icon",children:"⚖️"}),(0,r.jsx)("p",{children:'暂无调整项目，请点击"添加调整项目"按钮添加'})]}):(0,r.jsx)("div",{className:"items-table-container",children:(0,r.jsxs)("table",{className:"items-table adjustment-table",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"商品"}),(0,r.jsx)("th",{children:"仓库"}),(0,r.jsx)("th",{children:"当前库存"}),(0,r.jsx)("th",{children:"调整后库存"}),(0,r.jsx)("th",{children:"调整类型"}),(0,r.jsx)("th",{children:"调整数量"}),(0,r.jsx)("th",{children:"单价"}),(0,r.jsx)("th",{children:"调整金额"}),(0,r.jsx)("th",{children:"备注"}),(0,r.jsx)("th",{children:"操作"})]})}),(0,r.jsx)("tbody",{children:h.items.map(e=>{const t=Math.abs(e.adjustedStock-e.currentStock)*e.unitPrice;return(0,r.jsxs)("tr",{className:k(e.adjustmentType),children:[(0,r.jsx)("td",{children:(0,r.jsxs)("select",{value:e.productId,onChange:n=>y(e.id,"productId",n.target.value),className:"glass-select",required:!0,children:[(0,r.jsx)("option",{value:"",children:"选择商品"}),n.map(e=>(0,r.jsxs)("option",{value:e.id,children:[e.name," (",e.sku,")"]},e.id))]})}),(0,r.jsx)("td",{children:(0,r.jsxs)("select",{value:e.warehouseId,onChange:n=>y(e.id,"warehouseId",n.target.value),className:"glass-select",required:!0,children:[(0,r.jsx)("option",{value:"",children:"选择仓库"}),s.map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id))]})}),(0,r.jsx)("td",{className:"stock-cell",children:(0,r.jsx)("span",{className:"stock-value current",children:e.currentStock.toFixed(2)})}),(0,r.jsx)("td",{children:(0,r.jsx)("input",{type:"number",min:"0",step:"0.01",value:e.adjustedStock,onChange:n=>y(e.id,"adjustedStock",parseFloat(n.target.value)||0),className:"glass-input",placeholder:"调整后库存",required:!0})}),(0,r.jsx)("td",{className:"adjustment-type-cell",children:(0,r.jsxs)("span",{className:`adjustment-type-badge ${e.adjustmentType}`,children:["increase"===e.adjustmentType&&"➕","decrease"===e.adjustmentType&&"➖","set"===e.adjustmentType&&"🎯",w(e.adjustmentType)]})}),(0,r.jsx)("td",{className:"adjustment-quantity-cell",children:(0,r.jsxs)("span",{className:`adjustment-quantity ${e.adjustmentType}`,children:["increase"===e.adjustmentType&&"+","decrease"===e.adjustmentType&&"-",e.adjustmentQuantity.toFixed(2)]})}),(0,r.jsx)("td",{children:(0,r.jsx)("input",{type:"number",min:"0.01",step:"0.01",value:e.unitPrice,onChange:n=>y(e.id,"unitPrice",parseFloat(n.target.value)||0),className:"glass-input",placeholder:"单价",required:!0})}),(0,r.jsxs)("td",{className:`amount-cell ${e.adjustmentType}`,children:["increase"===e.adjustmentType&&"+","decrease"===e.adjustmentType&&"-","¥",t.toFixed(2)]}),(0,r.jsx)("td",{children:(0,r.jsx)("input",{type:"text",value:e.remark||"",onChange:n=>y(e.id,"remark",n.target.value),className:"glass-input",placeholder:"调整备注"})}),(0,r.jsx)("td",{children:(0,r.jsx)("button",{type:"button",className:"action-btn delete",onClick:()=>{return n=e.id,void m(e=>Object.assign(Object.assign({},e),{items:e.items.filter(e=>e.id!==n)}));var n},title:"删除",children:"🗑️"})})]},e.id)})})]})})]}),h.items.length>0&&(0,r.jsxs)("div",{className:"form-section",children:[(0,r.jsx)("div",{className:"section-header",children:(0,r.jsx)("h3",{children:"调整汇总"})}),(0,r.jsxs)("div",{className:"adjustment-summary",children:[(0,r.jsxs)("div",{className:"summary-grid",children:[(0,r.jsxs)("div",{className:"summary-item",children:[(0,r.jsx)("span",{className:"summary-label",children:"调整项目："}),(0,r.jsxs)("span",{className:"summary-value",children:[h.items.length," 项"]})]}),(0,r.jsxs)("div",{className:"summary-item increase",children:[(0,r.jsx)("span",{className:"summary-label",children:"库存增加："}),(0,r.jsxs)("span",{className:"summary-value",children:["+",j.increases.toFixed(2)]})]}),(0,r.jsxs)("div",{className:"summary-item decrease",children:[(0,r.jsx)("span",{className:"summary-label",children:"库存减少："}),(0,r.jsxs)("span",{className:"summary-value",children:["-",j.decreases.toFixed(2)]})]}),(0,r.jsxs)("div",{className:"summary-item",children:[(0,r.jsx)("span",{className:"summary-label",children:"总调整金额："}),(0,r.jsxs)("span",{className:"summary-value",children:["¥",h.items.reduce((e,n)=>e+Math.abs(n.adjustedStock-n.currentStock)*n.unitPrice,0).toFixed(2)]})]})]}),(0,r.jsxs)("div",{className:"adjustment-detail",children:[(0,r.jsxs)("div",{className:"detail-item increase",children:[(0,r.jsx)("span",{className:"detail-icon",children:"➕"}),(0,r.jsxs)("span",{className:"detail-text",children:["增加价值: ¥",j.increaseValue.toFixed(2)]})]}),(0,r.jsxs)("div",{className:"detail-item decrease",children:[(0,r.jsx)("span",{className:"detail-icon",children:"➖"}),(0,r.jsxs)("span",{className:"detail-text",children:["减少价值: ¥",j.decreaseValue.toFixed(2)]})]}),(0,r.jsxs)("div",{className:"detail-item net",children:[(0,r.jsx)("span",{className:"detail-icon",children:"🔄"}),(0,r.jsxs)("span",{className:"detail-text",children:["净影响: ¥",(j.increaseValue-j.decreaseValue).toFixed(2)]})]})]})]})]}),(0,r.jsx)("div",{className:"form-actions",children:(0,r.jsx)("button",{type:"submit",className:"glass-button primary large",disabled:f||0===h.items.length,children:f?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"button-icon",children:"⏳"}),"处理中..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"button-icon",children:"⚖️"}),"确认调整"]})})})]})]})},"transaction-records":({className:e})=>{const[n,t]=(0,a.useState)([]),[s,i]=(0,a.useState)([]),[o,l]=(0,a.useState)([]),[c,d]=(0,a.useState)([]),[u,p]=(0,a.useState)(!0),[h,m]=(0,a.useState)(null),[f,g]=(0,a.useState)(tr),[v,b]=(0,a.useState)(1),[x]=(0,a.useState)(20);(0,a.useEffect)(()=>{y()},[]),(0,a.useEffect)(()=>{w()},[n,f]);const y=()=>{return e=void 0,n=void 0,a=function*(){try{p(!0),m(null);const[e,n,r]=yield Promise.all([ut.findAllTransactions(),rt.findAll(),ct.findAll()]),a=e.sort((e,n)=>new Date(n.createdAt).getTime()-new Date(e.createdAt).getTime());t(a),l(n),d(r)}catch(e){m("加载交易记录失败"),console.error("Failed to load transaction records:",e)}finally{p(!1)}},new((r=void 0)||(r=Promise))(function(t,s){function i(e){try{l(a.next(e))}catch(e){s(e)}}function o(e){try{l(a.throw(e))}catch(e){s(e)}}function l(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r(function(e){e(n)})).then(i,o)}l((a=a.apply(e,n||[])).next())});var e,n,r,a},w=()=>{let e=[...n];if(f.startDate){const n=new Date(f.startDate);e=e.filter(e=>new Date(e.createdAt)>=n)}if(f.endDate){const n=new Date(f.endDate+"T23:59:59");e=e.filter(e=>new Date(e.createdAt)<=n)}if(f.productId&&(e=e.filter(e=>e.productId===f.productId)),f.warehouseId&&(e=e.filter(e=>e.warehouseId===f.warehouseId)),f.transactionType&&(e=e.filter(e=>e.transactionType===f.transactionType)),f.operator&&(e=e.filter(e=>e.operator.toLowerCase().includes(f.operator.toLowerCase()))),f.searchTerm){const n=f.searchTerm.toLowerCase();e=e.filter(e=>e.transactionNo.toLowerCase().includes(n)||e.remark&&e.remark.toLowerCase().includes(n)||e.referenceType&&e.referenceType.toLowerCase().includes(n)||e.referenceId&&e.referenceId.toLowerCase().includes(n))}i(e),b(1)},k=(e,n)=>{g(t=>Object.assign(Object.assign({},t),{[e]:n}))},j=e=>{const n=o.find(n=>n.id===e);return n?n.name:`未知商品(${e})`},N=e=>{const n=c.find(n=>n.id===e);return n?n.name:`未知仓库(${e})`},S=e=>{switch(e){case O.IN:return"入库";case O.OUT:return"出库";case O.ADJUST:return"调整";default:return e}},I=e=>{switch(e){case O.IN:return"transaction-in";case O.OUT:return"transaction-out";case O.ADJUST:return"transaction-adjust";default:return""}},C=e=>{switch(e){case O.IN:return"📥";case O.OUT:return"📤";case O.ADJUST:return"⚖️";default:return"📋"}},_=(v-1)*x,A=_+x,E=s.slice(_,A),D=Math.ceil(s.length/x),P=s.reduce((e,n)=>{switch(e.total++,n.transactionType){case O.IN:e.inCount++,e.inAmount+=n.totalAmount;break;case O.OUT:e.outCount++,e.outAmount+=Math.abs(n.totalAmount);break;case O.ADJUST:e.adjustCount++,e.adjustAmount+=Math.abs(n.totalAmount)}return e},{total:0,inCount:0,outCount:0,adjustCount:0,inAmount:0,outAmount:0,adjustAmount:0});return u?(0,r.jsx)("div",{className:`transaction-records ${e||""}`,children:(0,r.jsxs)("div",{className:"loading-container",children:[(0,r.jsx)("div",{className:"loading-spinner"}),(0,r.jsx)("p",{children:"加载交易记录中..."})]})}):(0,r.jsxs)("div",{className:`transaction-records ${e||""}`,children:[(0,r.jsxs)("div",{className:"page-header",children:[(0,r.jsxs)("div",{className:"header-left",children:[(0,r.jsx)("h2",{children:"库存交易记录"}),(0,r.jsx)("p",{children:"查看和分析所有库存变动的详细记录"})]}),(0,r.jsxs)("div",{className:"header-actions",children:[(0,r.jsxs)("button",{type:"button",className:"glass-button secondary",onClick:()=>{g(tr)},children:[(0,r.jsx)("span",{className:"button-icon",children:"🔄"}),"重置筛选"]}),(0,r.jsxs)("button",{type:"button",className:"glass-button primary",onClick:()=>{const e=[["交易单号","交易类型","商品","仓库","数量","单价","总金额","参考类型","参考单号","操作员","备注","创建时间"],...s.map(e=>[e.transactionNo,S(e.transactionType),j(e.productId),N(e.warehouseId),e.quantity.toString(),e.unitPrice.toString(),e.totalAmount.toString(),e.referenceType||"",e.referenceId||"",e.operator,e.remark||"",new Date(e.createdAt).toLocaleString()])].map(e=>e.map(e=>`"${e}"`).join(",")).join("\n"),n=new Blob([e],{type:"text/csv;charset=utf-8;"}),t=document.createElement("a");t.href=URL.createObjectURL(n),t.download=`库存交易记录_${(new Date).toISOString().split("T")[0]}.csv`,t.click()},disabled:0===s.length,children:[(0,r.jsx)("span",{className:"button-icon",children:"📊"}),"导出记录"]})]})]}),h&&(0,r.jsxs)("div",{className:"error-message",children:[(0,r.jsx)("span",{className:"error-icon",children:"❌"}),h]}),(0,r.jsx)("div",{className:"statistics-section",children:(0,r.jsxs)("div",{className:"statistics-grid",children:[(0,r.jsxs)("div",{className:"stat-item total",children:[(0,r.jsx)("div",{className:"stat-icon",children:"📋"}),(0,r.jsxs)("div",{className:"stat-content",children:[(0,r.jsx)("div",{className:"stat-value",children:P.total}),(0,r.jsx)("div",{className:"stat-label",children:"总交易数"})]})]}),(0,r.jsxs)("div",{className:"stat-item in",children:[(0,r.jsx)("div",{className:"stat-icon",children:"📥"}),(0,r.jsxs)("div",{className:"stat-content",children:[(0,r.jsx)("div",{className:"stat-value",children:P.inCount}),(0,r.jsx)("div",{className:"stat-label",children:"入库交易"}),(0,r.jsxs)("div",{className:"stat-amount",children:["¥",P.inAmount.toFixed(2)]})]})]}),(0,r.jsxs)("div",{className:"stat-item out",children:[(0,r.jsx)("div",{className:"stat-icon",children:"📤"}),(0,r.jsxs)("div",{className:"stat-content",children:[(0,r.jsx)("div",{className:"stat-value",children:P.outCount}),(0,r.jsx)("div",{className:"stat-label",children:"出库交易"}),(0,r.jsxs)("div",{className:"stat-amount",children:["¥",P.outAmount.toFixed(2)]})]})]}),(0,r.jsxs)("div",{className:"stat-item adjust",children:[(0,r.jsx)("div",{className:"stat-icon",children:"⚖️"}),(0,r.jsxs)("div",{className:"stat-content",children:[(0,r.jsx)("div",{className:"stat-value",children:P.adjustCount}),(0,r.jsx)("div",{className:"stat-label",children:"调整交易"}),(0,r.jsxs)("div",{className:"stat-amount",children:["¥",P.adjustAmount.toFixed(2)]})]})]})]})}),(0,r.jsxs)("div",{className:"filter-section",children:[(0,r.jsxs)("div",{className:"filter-header",children:[(0,r.jsx)("h3",{children:"筛选条件"}),(0,r.jsxs)("span",{className:"filter-results",children:["找到 ",s.length," 条记录"]})]}),(0,r.jsxs)("div",{className:"filter-grid",children:[(0,r.jsxs)("div",{className:"filter-group",children:[(0,r.jsx)("label",{children:"开始日期"}),(0,r.jsx)("input",{type:"date",value:f.startDate,onChange:e=>k("startDate",e.target.value),className:"glass-input"})]}),(0,r.jsxs)("div",{className:"filter-group",children:[(0,r.jsx)("label",{children:"结束日期"}),(0,r.jsx)("input",{type:"date",value:f.endDate,onChange:e=>k("endDate",e.target.value),className:"glass-input"})]}),(0,r.jsxs)("div",{className:"filter-group",children:[(0,r.jsx)("label",{children:"商品筛选"}),(0,r.jsxs)("select",{value:f.productId,onChange:e=>k("productId",e.target.value),className:"glass-select",children:[(0,r.jsx)("option",{value:"",children:"全部商品"}),o.map(e=>(0,r.jsxs)("option",{value:e.id,children:[e.name," (",e.sku,")"]},e.id))]})]}),(0,r.jsxs)("div",{className:"filter-group",children:[(0,r.jsx)("label",{children:"仓库筛选"}),(0,r.jsxs)("select",{value:f.warehouseId,onChange:e=>k("warehouseId",e.target.value),className:"glass-select",children:[(0,r.jsx)("option",{value:"",children:"全部仓库"}),c.map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,r.jsxs)("div",{className:"filter-group",children:[(0,r.jsx)("label",{children:"交易类型"}),(0,r.jsxs)("select",{value:f.transactionType,onChange:e=>k("transactionType",e.target.value),className:"glass-select",children:[(0,r.jsx)("option",{value:"",children:"全部类型"}),(0,r.jsx)("option",{value:O.IN,children:"入库"}),(0,r.jsx)("option",{value:O.OUT,children:"出库"}),(0,r.jsx)("option",{value:O.ADJUST,children:"调整"})]})]}),(0,r.jsxs)("div",{className:"filter-group",children:[(0,r.jsx)("label",{children:"操作员"}),(0,r.jsx)("input",{type:"text",value:f.operator,onChange:e=>k("operator",e.target.value),className:"glass-input",placeholder:"操作员姓名"})]}),(0,r.jsxs)("div",{className:"filter-group",children:[(0,r.jsx)("label",{children:"搜索内容"}),(0,r.jsx)("input",{type:"text",value:f.searchTerm,onChange:e=>k("searchTerm",e.target.value),className:"glass-input",placeholder:"交易单号、备注等"})]})]})]}),(0,r.jsxs)("div",{className:"records-section",children:[(0,r.jsxs)("div",{className:"section-header",children:[(0,r.jsx)("h3",{children:"交易记录"}),(0,r.jsxs)("div",{className:"pagination-info",children:["第 ",v," 页，共 ",D," 页"]})]}),0===s.length?(0,r.jsxs)("div",{className:"empty-records",children:[(0,r.jsx)("div",{className:"empty-icon",children:"📋"}),(0,r.jsx)("h3",{children:"没有找到交易记录"}),(0,r.jsx)("p",{children:"请调整筛选条件或检查时间范围"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"records-table-container",children:(0,r.jsxs)("table",{className:"records-table",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"交易信息"}),(0,r.jsx)("th",{children:"商品"}),(0,r.jsx)("th",{children:"仓库"}),(0,r.jsx)("th",{children:"数量变动"}),(0,r.jsx)("th",{children:"金额"}),(0,r.jsx)("th",{children:"参考信息"}),(0,r.jsx)("th",{children:"操作员"}),(0,r.jsx)("th",{children:"交易时间"})]})}),(0,r.jsx)("tbody",{children:E.map(e=>{return(0,r.jsxs)("tr",{className:I(e.transactionType),children:[(0,r.jsx)("td",{className:"transaction-info-cell",children:(0,r.jsxs)("div",{className:"transaction-info",children:[(0,r.jsxs)("div",{className:"transaction-header",children:[(0,r.jsx)("span",{className:"transaction-icon",children:C(e.transactionType)}),(0,r.jsx)("span",{className:"transaction-no",children:e.transactionNo})]}),(0,r.jsx)("div",{className:"transaction-type",children:(0,r.jsx)("span",{className:`type-badge ${e.transactionType}`,children:S(e.transactionType)})})]})}),(0,r.jsx)("td",{className:"product-cell",children:(0,r.jsx)("div",{className:"product-info",children:(0,r.jsx)("div",{className:"product-name",children:j(e.productId)})})}),(0,r.jsx)("td",{children:N(e.warehouseId)}),(0,r.jsxs)("td",{className:`quantity-cell ${e.transactionType}`,children:[(0,r.jsxs)("span",{className:"quantity-value",children:[e.transactionType===O.OUT?"-":"+",Math.abs(e.quantity).toFixed(2)]}),(0,r.jsxs)("div",{className:"unit-price",children:["单价: ¥",e.unitPrice.toFixed(2)]})]}),(0,r.jsx)("td",{className:`amount-cell ${e.transactionType}`,children:(t=e.totalAmount,t>=0?`+¥${t.toFixed(2)}`:`-¥${Math.abs(t).toFixed(2)}`)}),(0,r.jsxs)("td",{className:"reference-cell",children:[e.referenceType&&(0,r.jsxs)("div",{className:"reference-info",children:[(0,r.jsx)("div",{className:"reference-type",children:e.referenceType}),e.referenceId&&(0,r.jsx)("div",{className:"reference-id",children:e.referenceId})]}),e.remark&&(0,r.jsx)("div",{className:"transaction-remark",title:e.remark,children:e.remark.length>30?e.remark.substring(0,30)+"...":e.remark})]}),(0,r.jsx)("td",{children:e.operator}),(0,r.jsx)("td",{className:"datetime-cell",children:(n=e.createdAt,new Date(n).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}))})]},e.id);var n,t})})]})}),D>1&&(0,r.jsxs)("div",{className:"pagination",children:[(0,r.jsx)("button",{className:"pagination-btn",onClick:()=>b(1),disabled:1===v,children:"首页"}),(0,r.jsx)("button",{className:"pagination-btn",onClick:()=>b(e=>Math.max(1,e-1)),disabled:1===v,children:"上一页"}),(0,r.jsx)("div",{className:"page-numbers",children:Array.from({length:Math.min(5,D)},(e,n)=>{const t=Math.max(1,Math.min(D-4,v-2))+n;return t<=D?(0,r.jsx)("button",{className:"page-number "+(t===v?"active":""),onClick:()=>b(t),children:t},t):null})}),(0,r.jsx)("button",{className:"pagination-btn",onClick:()=>b(e=>Math.min(D,e+1)),disabled:v===D,children:"下一页"}),(0,r.jsx)("button",{className:"pagination-btn",onClick:()=>b(D),disabled:v===D,children:"尾页"})]})]})]})]})},suppliers:({className:e})=>{const[n,t]=(0,a.useState)([]),[s,i]=(0,a.useState)(!0),[o,l]=(0,a.useState)(null),[c,d]=(0,a.useState)(!1),[u,p]=(0,a.useState)(null),[h,m]=(0,a.useState)(ir),[f,g]=(0,a.useState)(""),[v,b]=(0,a.useState)(""),[x,y]=(0,a.useState)(""),[w,k]=(0,a.useState)(null);(0,a.useEffect)(()=>{j()},[]);const j=()=>sr(void 0,void 0,void 0,function*(){try{i(!0),l(null);const[e,n]=yield Promise.all([ht.findAll(),ht.getSupplierStats()]);t(e),k(n)}catch(e){l("加载供应商数据失败"),console.error("Failed to load supplier data:",e)}finally{i(!1)}}),N=()=>{d(!1),p(null),m(ir)},S=(e,n)=>{m(t=>Object.assign(Object.assign({},t),{[e]:n}))},I=e=>{switch(e){case P.ACTIVE:return"正常";case P.INACTIVE:return"停用";default:return e}},C=e=>{switch(e){case P.ACTIVE:return"status-active";case P.INACTIVE:return"status-inactive";default:return""}},_=e=>{switch(e){case D.A:return"rating-a";case D.B:return"rating-b";case D.C:return"rating-c";case D.D:return"rating-d";default:return""}},A=n.filter(e=>{const n=!f||e.name.toLowerCase().includes(f.toLowerCase())||e.code.toLowerCase().includes(f.toLowerCase())||(e.contactPerson||"").toLowerCase().includes(f.toLowerCase())||(e.email||"").toLowerCase().includes(f.toLowerCase()),t=!v||e.status===v,r=!x||e.rating===x;return n&&t&&r});return s?(0,r.jsx)("div",{className:`supplier-management ${e||""}`,children:(0,r.jsxs)("div",{className:"loading-container",children:[(0,r.jsx)("div",{className:"loading-spinner"}),(0,r.jsx)("p",{children:"加载供应商数据中..."})]})}):(0,r.jsxs)("div",{className:`supplier-management ${e||""}`,children:[(0,r.jsxs)("div",{className:"page-header",children:[(0,r.jsxs)("div",{className:"header-left",children:[(0,r.jsx)("h2",{children:"供应商管理"}),(0,r.jsx)("p",{children:"管理供应商信息，包括联系方式、信用额度和评级"})]}),(0,r.jsx)("div",{className:"header-actions",children:(0,r.jsxs)("button",{className:"glass-button primary",onClick:()=>d(!0),children:[(0,r.jsx)("span",{className:"button-icon",children:"➕"}),"新增供应商"]})})]}),o&&(0,r.jsxs)("div",{className:"error-message",children:[(0,r.jsx)("span",{className:"error-icon",children:"❌"}),o,(0,r.jsx)("button",{onClick:()=>l(null),className:"close-error",children:"✕"})]}),w&&(0,r.jsx)("div",{className:"statistics-section",children:(0,r.jsxs)("div",{className:"statistics-grid",children:[(0,r.jsxs)("div",{className:"stat-item total",children:[(0,r.jsx)("div",{className:"stat-icon",children:"🏢"}),(0,r.jsxs)("div",{className:"stat-content",children:[(0,r.jsx)("div",{className:"stat-value",children:w.total}),(0,r.jsx)("div",{className:"stat-label",children:"总供应商数"})]})]}),(0,r.jsxs)("div",{className:"stat-item active",children:[(0,r.jsx)("div",{className:"stat-icon",children:"✅"}),(0,r.jsxs)("div",{className:"stat-content",children:[(0,r.jsx)("div",{className:"stat-value",children:w.active}),(0,r.jsx)("div",{className:"stat-label",children:"活跃供应商"})]})]}),(0,r.jsxs)("div",{className:"stat-item credit",children:[(0,r.jsx)("div",{className:"stat-icon",children:"💰"}),(0,r.jsxs)("div",{className:"stat-content",children:[(0,r.jsxs)("div",{className:"stat-value",children:["¥",(w.totalCreditLimit/1e4).toFixed(1),"万"]}),(0,r.jsx)("div",{className:"stat-label",children:"总信用额度"})]})]}),(0,r.jsxs)("div",{className:"stat-item rating",children:[(0,r.jsx)("div",{className:"stat-icon",children:"⭐"}),(0,r.jsxs)("div",{className:"stat-content",children:[(0,r.jsx)("div",{className:"stat-value",children:w.byRating.A}),(0,r.jsx)("div",{className:"stat-label",children:"A级供应商"})]})]})]})}),(0,r.jsx)("div",{className:"filter-section",children:(0,r.jsxs)("div",{className:"filter-row",children:[(0,r.jsxs)("div",{className:"filter-group",children:[(0,r.jsx)("label",{children:"搜索供应商"}),(0,r.jsxs)("div",{className:"search-input-wrapper",children:[(0,r.jsx)("span",{className:"search-icon",children:"🔍"}),(0,r.jsx)("input",{type:"text",placeholder:"搜索供应商名称、编码、联系人...",value:f,onChange:e=>g(e.target.value),className:"glass-input"})]})]}),(0,r.jsxs)("div",{className:"filter-group",children:[(0,r.jsx)("label",{children:"供应商状态"}),(0,r.jsxs)("select",{value:v,onChange:e=>b(e.target.value),className:"glass-select",children:[(0,r.jsx)("option",{value:"",children:"全部状态"}),(0,r.jsx)("option",{value:P.ACTIVE,children:"正常"}),(0,r.jsx)("option",{value:P.INACTIVE,children:"停用"})]})]}),(0,r.jsxs)("div",{className:"filter-group",children:[(0,r.jsx)("label",{children:"供应商评级"}),(0,r.jsxs)("select",{value:x,onChange:e=>y(e.target.value),className:"glass-select",children:[(0,r.jsx)("option",{value:"",children:"全部评级"}),(0,r.jsx)("option",{value:D.A,children:"A级 - 优秀"}),(0,r.jsx)("option",{value:D.B,children:"B级 - 良好"}),(0,r.jsx)("option",{value:D.C,children:"C级 - 一般"}),(0,r.jsx)("option",{value:D.D,children:"D级 - 较差"})]})]})]})}),(0,r.jsxs)("div",{className:"content-section",children:[(0,r.jsxs)("div",{className:"section-header",children:[(0,r.jsx)("h3",{children:"供应商列表"}),(0,r.jsxs)("span",{className:"item-count",children:["共 ",A.length," 个供应商"]})]}),(0,r.jsxs)("div",{className:"glass-table-container",children:[(0,r.jsxs)("table",{className:"glass-table",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"供应商信息"}),(0,r.jsx)("th",{children:"编码"}),(0,r.jsx)("th",{children:"联系方式"}),(0,r.jsx)("th",{children:"信用额度"}),(0,r.jsx)("th",{children:"评级"}),(0,r.jsx)("th",{children:"状态"}),(0,r.jsx)("th",{children:"操作"})]})}),(0,r.jsx)("tbody",{children:A.map(e=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"supplier-info-cell",children:(0,r.jsxs)("div",{className:"supplier-info",children:[(0,r.jsx)("div",{className:"supplier-name",children:e.name}),e.contactPerson&&(0,r.jsxs)("div",{className:"supplier-contact",children:["联系人: ",e.contactPerson]}),e.address&&(0,r.jsx)("div",{className:"supplier-address",children:e.address})]})}),(0,r.jsx)("td",{className:"code-cell",children:(0,r.jsx)("code",{className:"supplier-code",children:e.code})}),(0,r.jsx)("td",{className:"contact-cell",children:(0,r.jsxs)("div",{className:"contact-info",children:[e.phone&&(0,r.jsxs)("div",{className:"contact-item",children:[(0,r.jsx)("span",{className:"contact-icon",children:"📞"}),(0,r.jsx)("span",{className:"contact-value",children:e.phone})]}),e.email&&(0,r.jsxs)("div",{className:"contact-item",children:[(0,r.jsx)("span",{className:"contact-icon",children:"📧"}),(0,r.jsx)("span",{className:"contact-value",children:e.email})]})]})}),(0,r.jsx)("td",{className:"credit-cell",children:(0,r.jsxs)("div",{className:"credit-info",children:[(0,r.jsxs)("span",{className:"credit-amount",children:["¥",e.creditLimit.toLocaleString()]}),e.paymentTerms&&(0,r.jsx)("div",{className:"payment-terms",children:e.paymentTerms})]})}),(0,r.jsx)("td",{children:(0,r.jsxs)("span",{className:`rating-badge ${_(e.rating)}`,children:[e.rating,"级"]})}),(0,r.jsx)("td",{children:(0,r.jsx)("span",{className:`status-badge ${C(e.status)}`,children:I(e.status)})}),(0,r.jsxs)("td",{className:"actions-cell",children:[(0,r.jsx)("button",{className:"action-btn edit",onClick:()=>(e=>{p(e),m({code:e.code,name:e.name,contactPerson:e.contactPerson||"",phone:e.phone||"",email:e.email||"",address:e.address||"",paymentTerms:e.paymentTerms||"",creditLimit:e.creditLimit,rating:e.rating,status:e.status}),d(!0)})(e),title:"编辑",children:"✏️"}),(0,r.jsx)("button",{className:"action-btn delete",onClick:()=>{return n=e.id,sr(void 0,void 0,void 0,function*(){if(confirm("确定要删除这个供应商吗？删除后无法恢复！"))try{yield ht.delete(n),yield j()}catch(e){l(e instanceof Error?e.message:"删除供应商失败"),console.error("Failed to delete supplier:",e)}});var n},title:"删除",children:"🗑️"})]})]},e.id))})]}),0===A.length&&(0,r.jsxs)("div",{className:"empty-state",children:[(0,r.jsx)("div",{className:"empty-icon",children:"🏢"}),(0,r.jsx)("h3",{children:"没有找到供应商"}),(0,r.jsx)("p",{children:"请调整搜索条件或添加新供应商"})]})]})]}),c&&(0,r.jsx)("div",{className:"modal-overlay",children:(0,r.jsxs)("div",{className:"modal-content",children:[(0,r.jsxs)("div",{className:"modal-header",children:[(0,r.jsx)("h3",{children:u?"编辑供应商":"新增供应商"}),(0,r.jsx)("button",{className:"close-btn",onClick:N,children:"✕"})]}),(0,r.jsxs)("form",{onSubmit:e=>sr(void 0,void 0,void 0,function*(){e.preventDefault();try{u?yield ht.update(u.id,h):(h.code||(h.code=yield ht.generateSupplierCode()),yield ht.create(h)),yield j(),d(!1),p(null),m(ir)}catch(e){l(e instanceof Error?e.message:"保存供应商失败"),console.error("Failed to save supplier:",e)}}),className:"supplier-form",children:[(0,r.jsxs)("div",{className:"form-grid",children:[(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"供应商编码"}),(0,r.jsx)("input",{type:"text",value:h.code,onChange:e=>S("code",e.target.value),className:"glass-input",placeholder:"留空自动生成"})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"供应商名称 *"}),(0,r.jsx)("input",{type:"text",value:h.name,onChange:e=>S("name",e.target.value),className:"glass-input",placeholder:"输入供应商名称",required:!0})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"联系人"}),(0,r.jsx)("input",{type:"text",value:h.contactPerson,onChange:e=>S("contactPerson",e.target.value),className:"glass-input",placeholder:"联系人姓名"})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"联系电话"}),(0,r.jsx)("input",{type:"tel",value:h.phone,onChange:e=>S("phone",e.target.value),className:"glass-input",placeholder:"联系电话"})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"电子邮箱"}),(0,r.jsx)("input",{type:"email",value:h.email,onChange:e=>S("email",e.target.value),className:"glass-input",placeholder:"电子邮箱"})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"付款条件"}),(0,r.jsx)("input",{type:"text",value:h.paymentTerms,onChange:e=>S("paymentTerms",e.target.value),className:"glass-input",placeholder:"如：30天付款"})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"信用额度 *"}),(0,r.jsx)("input",{type:"number",min:"0",step:"1000",value:h.creditLimit,onChange:e=>S("creditLimit",parseFloat(e.target.value)||0),className:"glass-input",placeholder:"0",required:!0})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"供应商评级"}),(0,r.jsxs)("select",{value:h.rating,onChange:e=>S("rating",e.target.value),className:"glass-select",children:[(0,r.jsx)("option",{value:D.A,children:"A级 - 优秀"}),(0,r.jsx)("option",{value:D.B,children:"B级 - 良好"}),(0,r.jsx)("option",{value:D.C,children:"C级 - 一般"}),(0,r.jsx)("option",{value:D.D,children:"D级 - 较差"})]})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"供应商状态"}),(0,r.jsxs)("select",{value:h.status,onChange:e=>S("status",e.target.value),className:"glass-select",children:[(0,r.jsx)("option",{value:P.ACTIVE,children:"正常"}),(0,r.jsx)("option",{value:P.INACTIVE,children:"停用"})]})]}),(0,r.jsxs)("div",{className:"form-group full-width",children:[(0,r.jsx)("label",{children:"供应商地址"}),(0,r.jsx)("textarea",{value:h.address,onChange:e=>S("address",e.target.value),className:"glass-textarea",placeholder:"供应商详细地址",rows:3})]})]}),(0,r.jsxs)("div",{className:"form-actions",children:[(0,r.jsx)("button",{type:"button",onClick:N,className:"glass-button secondary",children:"取消"}),(0,r.jsx)("button",{type:"submit",className:"glass-button primary",children:u?"更新供应商":"创建供应商"})]})]})]})})]})},"purchase-orders":({className:e})=>{const[n,t]=(0,a.useState)([]),[s,i]=(0,a.useState)([]),[o,l]=(0,a.useState)([]),[c,d]=(0,a.useState)(!0),[u,p]=(0,a.useState)(null),[h,m]=(0,a.useState)(!1),[f,g]=(0,a.useState)(null),[v,b]=(0,a.useState)(lr),[x,y]=(0,a.useState)([]),[w,k]=(0,a.useState)(""),[j,N]=(0,a.useState)(""),[S,I]=(0,a.useState)(""),[C,_]=(0,a.useState)(null);(0,a.useEffect)(()=>{A()},[]);const A=()=>or(void 0,void 0,void 0,function*(){try{d(!0),p(null);const[e,n,r,a]=yield Promise.all([bt.findAll(),ht.findAll(),rt.findAll(),bt.getOrderStats()]);t(e),i(n),l(r),_(a)}catch(e){p("加载采购订单数据失败"),console.error("Failed to load purchase order data:",e)}finally{d(!1)}}),E=(e,n)=>or(void 0,void 0,void 0,function*(){try{yield bt.updateStatus(e,n),yield A()}catch(e){p(e instanceof Error?e.message:"更新订单状态失败"),console.error("Failed to update order status:",e)}}),O=()=>{m(!1),g(null),b(lr),y([])},D=(e,n)=>{b(t=>Object.assign(Object.assign({},t),{[e]:n}))},P=(e,n,t)=>{y(r=>r.map(r=>r.id===e?Object.assign(Object.assign({},r),{[n]:t}):r))},z=e=>{switch(e){case T.DRAFT:return"草稿";case T.CONFIRMED:return"已确认";case T.PARTIAL:return"部分收货";case T.COMPLETED:return"已完成";case T.CANCELLED:return"已取消";default:return e}},L=e=>{switch(e){case T.DRAFT:return"status-draft";case T.CONFIRMED:return"status-confirmed";case T.PARTIAL:return"status-partial";case T.COMPLETED:return"status-completed";case T.CANCELLED:return"status-cancelled";default:return""}},R=e=>{const n=s.find(n=>n.id===e);return n?n.name:"未知供应商"},F=()=>x.reduce((e,n)=>e+n.quantity*n.unitPrice*(1-n.discountRate),0),M=e=>new Date(e).toLocaleDateString("zh-CN"),$=e=>{if(!e.expectedDate)return!1;const n=new Date;return e.expectedDate<n&&(e.status===T.CONFIRMED||e.status===T.PARTIAL)},B=n.filter(e=>{var n;const t=!w||e.orderNo.toLowerCase().includes(w.toLowerCase())||((null===(n=e.supplier)||void 0===n?void 0:n.name)||"").toLowerCase().includes(w.toLowerCase())||(e.remark||"").toLowerCase().includes(w.toLowerCase()),r=!j||e.status===j,a=!S||e.supplierId===S;return t&&r&&a});return c?(0,r.jsx)("div",{className:`purchase-order-management ${e||""}`,children:(0,r.jsxs)("div",{className:"loading-container",children:[(0,r.jsx)("div",{className:"loading-spinner"}),(0,r.jsx)("p",{children:"加载采购订单数据中..."})]})}):(0,r.jsxs)("div",{className:`purchase-order-management ${e||""}`,children:[(0,r.jsxs)("div",{className:"page-header",children:[(0,r.jsxs)("div",{className:"header-left",children:[(0,r.jsx)("h2",{children:"采购订单管理"}),(0,r.jsx)("p",{children:"创建、管理和跟踪采购订单，控制采购流程"})]}),(0,r.jsx)("div",{className:"header-actions",children:(0,r.jsxs)("button",{className:"glass-button primary",onClick:()=>m(!0),children:[(0,r.jsx)("span",{className:"button-icon",children:"➕"}),"新建采购订单"]})})]}),u&&(0,r.jsxs)("div",{className:"error-message",children:[(0,r.jsx)("span",{className:"error-icon",children:"❌"}),u,(0,r.jsx)("button",{onClick:()=>p(null),className:"close-error",children:"✕"})]}),C&&(0,r.jsx)("div",{className:"statistics-section",children:(0,r.jsxs)("div",{className:"statistics-grid",children:[(0,r.jsxs)("div",{className:"stat-item total",children:[(0,r.jsx)("div",{className:"stat-icon",children:"📋"}),(0,r.jsxs)("div",{className:"stat-content",children:[(0,r.jsx)("div",{className:"stat-value",children:C.total}),(0,r.jsx)("div",{className:"stat-label",children:"总订单数"})]})]}),(0,r.jsxs)("div",{className:"stat-item active",children:[(0,r.jsx)("div",{className:"stat-icon",children:"✅"}),(0,r.jsxs)("div",{className:"stat-content",children:[(0,r.jsx)("div",{className:"stat-value",children:C.pendingOrders}),(0,r.jsx)("div",{className:"stat-label",children:"待处理订单"})]})]}),(0,r.jsxs)("div",{className:"stat-item credit",children:[(0,r.jsx)("div",{className:"stat-icon",children:"💰"}),(0,r.jsxs)("div",{className:"stat-content",children:[(0,r.jsxs)("div",{className:"stat-value",children:["¥",(C.totalValue/1e4).toFixed(1),"万"]}),(0,r.jsx)("div",{className:"stat-label",children:"订单总值"})]})]}),(0,r.jsxs)("div",{className:"stat-item rating",children:[(0,r.jsx)("div",{className:"stat-icon",children:"⚠️"}),(0,r.jsxs)("div",{className:"stat-content",children:[(0,r.jsx)("div",{className:"stat-value",children:C.overdueOrders}),(0,r.jsx)("div",{className:"stat-label",children:"逾期订单"})]})]})]})}),(0,r.jsx)("div",{className:"filter-section",children:(0,r.jsxs)("div",{className:"filter-row",children:[(0,r.jsxs)("div",{className:"filter-group",children:[(0,r.jsx)("label",{children:"搜索订单"}),(0,r.jsxs)("div",{className:"search-input-wrapper",children:[(0,r.jsx)("span",{className:"search-icon",children:"🔍"}),(0,r.jsx)("input",{type:"text",placeholder:"搜索订单号、供应商、备注...",value:w,onChange:e=>k(e.target.value),className:"glass-input"})]})]}),(0,r.jsxs)("div",{className:"filter-group",children:[(0,r.jsx)("label",{children:"订单状态"}),(0,r.jsxs)("select",{value:j,onChange:e=>N(e.target.value),className:"glass-select",children:[(0,r.jsx)("option",{value:"",children:"全部状态"}),(0,r.jsx)("option",{value:T.DRAFT,children:"草稿"}),(0,r.jsx)("option",{value:T.CONFIRMED,children:"已确认"}),(0,r.jsx)("option",{value:T.PARTIAL,children:"部分收货"}),(0,r.jsx)("option",{value:T.COMPLETED,children:"已完成"}),(0,r.jsx)("option",{value:T.CANCELLED,children:"已取消"})]})]}),(0,r.jsxs)("div",{className:"filter-group",children:[(0,r.jsx)("label",{children:"供应商"}),(0,r.jsxs)("select",{value:S,onChange:e=>I(e.target.value),className:"glass-select",children:[(0,r.jsx)("option",{value:"",children:"全部供应商"}),s.map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]})}),(0,r.jsxs)("div",{className:"content-section",children:[(0,r.jsxs)("div",{className:"section-header",children:[(0,r.jsx)("h3",{children:"采购订单列表"}),(0,r.jsxs)("span",{className:"item-count",children:["共 ",B.length," 个订单"]})]}),(0,r.jsxs)("div",{className:"glass-table-container",children:[(0,r.jsxs)("table",{className:"glass-table",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"订单信息"}),(0,r.jsx)("th",{children:"供应商"}),(0,r.jsx)("th",{children:"订单日期"}),(0,r.jsx)("th",{children:"预计到货"}),(0,r.jsx)("th",{children:"订单金额"}),(0,r.jsx)("th",{children:"状态"}),(0,r.jsx)("th",{children:"操作"})]})}),(0,r.jsx)("tbody",{children:B.map(e=>(0,r.jsxs)("tr",{className:$(e)?"order-overdue":"",children:[(0,r.jsx)("td",{className:"order-info-cell",children:(0,r.jsxs)("div",{className:"order-info",children:[(0,r.jsx)("div",{className:"order-no",children:e.orderNo}),(0,r.jsxs)("div",{className:"order-creator",children:["创建人: ",e.creator]}),e.remark&&(0,r.jsx)("div",{className:"order-remark",children:e.remark})]})}),(0,r.jsx)("td",{className:"supplier-cell",children:(0,r.jsx)("div",{className:"supplier-info",children:(0,r.jsx)("div",{className:"supplier-name",children:R(e.supplierId)})})}),(0,r.jsx)("td",{className:"date-cell",children:M(e.orderDate)}),(0,r.jsx)("td",{className:"date-cell",children:e.expectedDate?(0,r.jsxs)("div",{className:$(e)?"date-overdue":"",children:[M(e.expectedDate),$(e)&&(0,r.jsx)("span",{className:"overdue-indicator",children:"⚠️"})]}):"-"}),(0,r.jsx)("td",{className:"amount-cell",children:(0,r.jsxs)("div",{className:"amount-info",children:[(0,r.jsxs)("div",{className:"final-amount",children:["¥",e.finalAmount.toLocaleString()]}),e.items&&e.items.length>0&&(0,r.jsxs)("div",{className:"item-count",children:[e.items.length," 个项目"]})]})}),(0,r.jsx)("td",{children:(0,r.jsx)("span",{className:`status-badge ${L(e.status)}`,children:z(e.status)})}),(0,r.jsxs)("td",{className:"actions-cell",children:[(0,r.jsx)("button",{className:"action-btn edit",onClick:()=>(e=>or(void 0,void 0,void 0,function*(){var n;g(e),b({supplierId:e.supplierId,orderDate:e.orderDate.toISOString().split("T")[0],expectedDate:(null===(n=e.expectedDate)||void 0===n?void 0:n.toISOString().split("T")[0])||"",status:e.status,discountAmount:e.discountAmount,taxAmount:e.taxAmount,remark:e.remark||"",creator:e.creator});const t=yield bt.getOrderItems(e.id);y(t.map(e=>({id:e.id,productId:e.productId,quantity:e.quantity,unitPrice:e.unitPrice,discountRate:e.discountRate}))),m(!0)}))(e),title:"编辑",children:"✏️"}),e.status===T.DRAFT&&(0,r.jsx)("button",{className:"action-btn confirm",onClick:()=>E(e.id,T.CONFIRMED),title:"确认订单",children:"✅"}),(e.status===T.DRAFT||e.status===T.CONFIRMED)&&(0,r.jsx)("button",{className:"action-btn cancel",onClick:()=>E(e.id,T.CANCELLED),title:"取消订单",children:"❌"}),(0,r.jsx)("button",{className:"action-btn delete",onClick:()=>{return n=e.id,or(void 0,void 0,void 0,function*(){if(confirm("确定要删除这个采购订单吗？删除后无法恢复！"))try{yield bt.delete(n),yield A()}catch(e){p(e instanceof Error?e.message:"删除采购订单失败"),console.error("Failed to delete purchase order:",e)}});var n},title:"删除",children:"🗑️"})]})]},e.id))})]}),0===B.length&&(0,r.jsxs)("div",{className:"empty-state",children:[(0,r.jsx)("div",{className:"empty-icon",children:"📋"}),(0,r.jsx)("h3",{children:"没有找到采购订单"}),(0,r.jsx)("p",{children:"请调整搜索条件或创建新的采购订单"})]})]})]}),h&&(0,r.jsx)("div",{className:"modal-overlay",children:(0,r.jsxs)("div",{className:"modal-content large-modal",children:[(0,r.jsxs)("div",{className:"modal-header",children:[(0,r.jsx)("h3",{children:f?"编辑采购订单":"新建采购订单"}),(0,r.jsx)("button",{className:"close-btn",onClick:O,children:"✕"})]}),(0,r.jsxs)("form",{onSubmit:e=>or(void 0,void 0,void 0,function*(){if(e.preventDefault(),0!==x.length){for(const e of x)if(!e.productId||e.quantity<=0||e.unitPrice<=0)return void p("请完整填写所有采购项目信息");try{let e;if(f){e=yield bt.update(f.id,Object.assign(Object.assign({},v),{orderDate:new Date(v.orderDate),expectedDate:new Date(v.expectedDate)}));const n=yield bt.getOrderItems(f.id);for(const e of n)yield bt.removeOrderItem(e.id)}else e=yield bt.create(Object.assign(Object.assign({},v),{orderDate:new Date(v.orderDate),expectedDate:new Date(v.expectedDate)}));for(const n of x)yield bt.addOrderItem(e.id,{productId:n.productId,quantity:n.quantity,unitPrice:n.unitPrice,discountRate:n.discountRate,receivedQuantity:0});yield A(),m(!1),g(null),b(lr),y([])}catch(e){p(e instanceof Error?e.message:"保存采购订单失败"),console.error("Failed to save purchase order:",e)}}else p("请至少添加一个采购项目")}),className:"purchase-order-form",children:[(0,r.jsxs)("div",{className:"form-section",children:[(0,r.jsx)("h4",{children:"基本信息"}),(0,r.jsxs)("div",{className:"form-grid",children:[(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"供应商 *"}),(0,r.jsxs)("select",{value:v.supplierId,onChange:e=>D("supplierId",e.target.value),className:"glass-select",required:!0,children:[(0,r.jsx)("option",{value:"",children:"请选择供应商"}),s.map(e=>(0,r.jsxs)("option",{value:e.id,children:[e.name," (",e.code,")"]},e.id))]})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"订单日期 *"}),(0,r.jsx)("input",{type:"date",value:v.orderDate,onChange:e=>D("orderDate",e.target.value),className:"glass-input",required:!0})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"预计到货日期"}),(0,r.jsx)("input",{type:"date",value:v.expectedDate,onChange:e=>D("expectedDate",e.target.value),className:"glass-input"})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"订单状态"}),(0,r.jsxs)("select",{value:v.status,onChange:e=>D("status",e.target.value),className:"glass-select",children:[(0,r.jsx)("option",{value:T.DRAFT,children:"草稿"}),(0,r.jsx)("option",{value:T.CONFIRMED,children:"已确认"}),(0,r.jsx)("option",{value:T.CANCELLED,children:"已取消"})]})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"订单折扣"}),(0,r.jsx)("input",{type:"number",min:"0",step:"0.01",value:v.discountAmount,onChange:e=>D("discountAmount",parseFloat(e.target.value)||0),className:"glass-input",placeholder:"0.00"})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"税费"}),(0,r.jsx)("input",{type:"number",min:"0",step:"0.01",value:v.taxAmount,onChange:e=>D("taxAmount",parseFloat(e.target.value)||0),className:"glass-input",placeholder:"0.00"})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"创建人"}),(0,r.jsx)("input",{type:"text",value:v.creator,onChange:e=>D("creator",e.target.value),className:"glass-input",placeholder:"创建人姓名"})]}),(0,r.jsxs)("div",{className:"form-group full-width",children:[(0,r.jsx)("label",{children:"备注说明"}),(0,r.jsx)("textarea",{value:v.remark,onChange:e=>D("remark",e.target.value),className:"glass-textarea",placeholder:"订单备注说明",rows:3})]})]})]}),(0,r.jsxs)("div",{className:"form-section",children:[(0,r.jsxs)("div",{className:"section-header",children:[(0,r.jsx)("h4",{children:"订单项目"}),(0,r.jsxs)("button",{type:"button",className:"glass-button primary",onClick:()=>{const e=Object.assign(Object.assign({},cr),{id:Date.now().toString()});y(n=>[...n,e])},children:[(0,r.jsx)("span",{className:"button-icon",children:"➕"}),"添加项目"]})]}),0===x.length?(0,r.jsxs)("div",{className:"empty-items",children:[(0,r.jsx)("div",{className:"empty-icon",children:"📦"}),(0,r.jsx)("p",{children:'暂无订单项目，请点击"添加项目"按钮添加'})]}):(0,r.jsx)("div",{className:"items-table-container",children:(0,r.jsxs)("table",{className:"items-table",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"商品"}),(0,r.jsx)("th",{children:"数量"}),(0,r.jsx)("th",{children:"单价"}),(0,r.jsx)("th",{children:"折扣率"}),(0,r.jsx)("th",{children:"金额"}),(0,r.jsx)("th",{children:"操作"})]})}),(0,r.jsx)("tbody",{children:x.map(e=>{const n=e.quantity*e.unitPrice*(1-e.discountRate);return(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsxs)("select",{value:e.productId,onChange:n=>P(e.id,"productId",n.target.value),className:"glass-select",required:!0,children:[(0,r.jsx)("option",{value:"",children:"选择商品"}),o.map(e=>(0,r.jsxs)("option",{value:e.id,children:[e.name," (",e.sku,")"]},e.id))]})}),(0,r.jsx)("td",{children:(0,r.jsx)("input",{type:"number",min:"0.01",step:"0.01",value:e.quantity,onChange:n=>P(e.id,"quantity",parseFloat(n.target.value)||0),className:"glass-input",placeholder:"数量",required:!0})}),(0,r.jsx)("td",{children:(0,r.jsx)("input",{type:"number",min:"0.01",step:"0.01",value:e.unitPrice,onChange:n=>P(e.id,"unitPrice",parseFloat(n.target.value)||0),className:"glass-input",placeholder:"单价",required:!0})}),(0,r.jsx)("td",{children:(0,r.jsx)("input",{type:"number",min:"0",max:"1",step:"0.01",value:e.discountRate,onChange:n=>P(e.id,"discountRate",parseFloat(n.target.value)||0),className:"glass-input",placeholder:"0.00"})}),(0,r.jsxs)("td",{className:"amount-cell",children:["¥",n.toFixed(2)]}),(0,r.jsx)("td",{children:(0,r.jsx)("button",{type:"button",className:"action-btn delete",onClick:()=>{return n=e.id,void y(e=>e.filter(e=>e.id!==n));var n},title:"删除",children:"🗑️"})})]},e.id)})})]})})]}),x.length>0&&(0,r.jsxs)("div",{className:"form-section",children:[(0,r.jsx)("h4",{children:"订单汇总"}),(0,r.jsxs)("div",{className:"order-summary",children:[(0,r.jsxs)("div",{className:"summary-row",children:[(0,r.jsx)("span",{className:"summary-label",children:"项目小计："}),(0,r.jsxs)("span",{className:"summary-value",children:["¥",F().toFixed(2)]})]}),(0,r.jsxs)("div",{className:"summary-row",children:[(0,r.jsx)("span",{className:"summary-label",children:"订单折扣："}),(0,r.jsxs)("span",{className:"summary-value",children:["-¥",v.discountAmount.toFixed(2)]})]}),(0,r.jsxs)("div",{className:"summary-row",children:[(0,r.jsx)("span",{className:"summary-label",children:"税费："}),(0,r.jsxs)("span",{className:"summary-value",children:["+¥",v.taxAmount.toFixed(2)]})]}),(0,r.jsxs)("div",{className:"summary-row total",children:[(0,r.jsx)("span",{className:"summary-label",children:"订单总额："}),(0,r.jsxs)("span",{className:"summary-value",children:["¥",(F()-v.discountAmount+v.taxAmount).toFixed(2)]})]})]})]}),(0,r.jsxs)("div",{className:"form-actions",children:[(0,r.jsx)("button",{type:"button",onClick:O,className:"glass-button secondary",children:"取消"}),(0,r.jsx)("button",{type:"submit",className:"glass-button primary",children:f?"更新订单":"创建订单"})]})]})]})})]})},"purchase-receipts":({className:e})=>{const[n,t]=(0,a.useState)([]),[s,i]=(0,a.useState)([]),[o,l]=(0,a.useState)([]),[c,d]=(0,a.useState)([]),[u,p]=(0,a.useState)(!0),[h,m]=(0,a.useState)(null),[f,g]=(0,a.useState)(!1),[v,b]=(0,a.useState)(null),[x,y]=(0,a.useState)(ur),[w,k]=(0,a.useState)([]),[j,N]=(0,a.useState)(""),[S,I]=(0,a.useState)(""),[C,_]=(0,a.useState)(""),[A,E]=(0,a.useState)(null),[O,D]=(0,a.useState)([]);(0,a.useEffect)(()=>{P()},[]);const P=()=>dr(void 0,void 0,void 0,function*(){try{p(!0),m(null);const[e,n,r,a,s]=yield Promise.all([wt.findAll(),bt.findAll(),ct.findAll(),rt.findAll(),wt.getReceiptStats()]);t(e),i(n),l(r),d(a),E(s)}catch(e){m("加载采购收货数据失败"),console.error("Failed to load purchase receipt data:",e)}finally{p(!1)}}),T=e=>dr(void 0,void 0,void 0,function*(){if(!e)return D([]),void k([]);try{const{orderItems:n}=yield wt.getPendingReceiptsForOrder(e);D(n);const t=n.filter(e=>e.canReceive).map(e=>({id:Date.now().toString()+Math.random(),productId:e.productId,orderItemId:e.id,quantity:e.pendingQuantity,unitPrice:e.unitPrice,maxQuantity:e.pendingQuantity}));if(k(t),s.find(n=>n.id===e)&&o.length>0){const n=o.find(e=>e.isDefault)||o[0];y(t=>Object.assign(Object.assign({},t),{orderId:e,warehouseId:n.id}))}}catch(e){m("加载订单信息失败"),console.error("Failed to load order items:",e)}}),z=()=>{g(!1),b(null),y(ur),k([]),D([])},R=(e,n)=>{y(t=>Object.assign(Object.assign({},t),{[e]:n}))},F=(e,n,t)=>{k(r=>r.map(r=>r.id===e?Object.assign(Object.assign({},r),{[n]:t}):r))},M=e=>{switch(e){case L.DRAFT:return"草稿";case L.CONFIRMED:return"已确认";default:return e}},$=e=>{switch(e){case L.DRAFT:return"status-draft";case L.CONFIRMED:return"status-confirmed";default:return""}},B=e=>{var n;const t=s.find(n=>n.id===e);return t?`${t.orderNo} - ${(null===(n=t.supplier)||void 0===n?void 0:n.name)||"未知供应商"}`:"未知订单"},V=e=>{const n=o.find(n=>n.id===e);return n?n.name:"未知仓库"},U=e=>{const n=c.find(n=>n.id===e);return n?n.name:"未知商品"},q=n.filter(e=>{var n,t,r;const a=!j||e.receiptNo.toLowerCase().includes(j.toLowerCase())||((null===(n=e.order)||void 0===n?void 0:n.orderNo)||"").toLowerCase().includes(j.toLowerCase())||((null===(t=e.supplier)||void 0===t?void 0:t.name)||"").toLowerCase().includes(j.toLowerCase())||((null===(r=e.warehouse)||void 0===r?void 0:r.name)||"").toLowerCase().includes(j.toLowerCase())||e.receiver.toLowerCase().includes(j.toLowerCase())||(e.remark||"").toLowerCase().includes(j.toLowerCase()),s=!S||e.status===S,i=!C||e.warehouseId===C;return a&&s&&i});return u?(0,r.jsx)("div",{className:`purchase-receipt-management ${e||""}`,children:(0,r.jsxs)("div",{className:"loading-container",children:[(0,r.jsx)("div",{className:"loading-spinner"}),(0,r.jsx)("p",{children:"加载采购收货数据中..."})]})}):(0,r.jsxs)("div",{className:`purchase-receipt-management ${e||""}`,children:[(0,r.jsxs)("div",{className:"page-header",children:[(0,r.jsxs)("div",{className:"header-left",children:[(0,r.jsx)("h2",{children:"采购收货管理"}),(0,r.jsx)("p",{children:"处理采购收货、验收和入库，更新库存信息"})]}),(0,r.jsx)("div",{className:"header-actions",children:(0,r.jsxs)("button",{className:"glass-button primary",onClick:()=>g(!0),children:[(0,r.jsx)("span",{className:"button-icon",children:"📦"}),"新建收货单"]})})]}),h&&(0,r.jsxs)("div",{className:"error-message",children:[(0,r.jsx)("span",{className:"error-icon",children:"❌"}),h,(0,r.jsx)("button",{onClick:()=>m(null),className:"close-error",children:"✕"})]}),A&&(0,r.jsx)("div",{className:"statistics-section",children:(0,r.jsxs)("div",{className:"statistics-grid",children:[(0,r.jsxs)("div",{className:"stat-item total",children:[(0,r.jsx)("div",{className:"stat-icon",children:"📋"}),(0,r.jsxs)("div",{className:"stat-content",children:[(0,r.jsx)("div",{className:"stat-value",children:A.total}),(0,r.jsx)("div",{className:"stat-label",children:"总收货单数"})]})]}),(0,r.jsxs)("div",{className:"stat-item active",children:[(0,r.jsx)("div",{className:"stat-icon",children:"✅"}),(0,r.jsxs)("div",{className:"stat-content",children:[(0,r.jsx)("div",{className:"stat-value",children:A.byStatus.confirmed}),(0,r.jsx)("div",{className:"stat-label",children:"已确认收货"})]})]}),(0,r.jsxs)("div",{className:"stat-item credit",children:[(0,r.jsx)("div",{className:"stat-icon",children:"📦"}),(0,r.jsxs)("div",{className:"stat-content",children:[(0,r.jsx)("div",{className:"stat-value",children:A.totalQuantity}),(0,r.jsx)("div",{className:"stat-label",children:"总收货数量"})]})]}),(0,r.jsxs)("div",{className:"stat-item rating",children:[(0,r.jsx)("div",{className:"stat-icon",children:"💰"}),(0,r.jsxs)("div",{className:"stat-content",children:[(0,r.jsxs)("div",{className:"stat-value",children:["¥",(A.totalValue/1e4).toFixed(1),"万"]}),(0,r.jsx)("div",{className:"stat-label",children:"收货总值"})]})]})]})}),(0,r.jsx)("div",{className:"filter-section",children:(0,r.jsxs)("div",{className:"filter-row",children:[(0,r.jsxs)("div",{className:"filter-group",children:[(0,r.jsx)("label",{children:"搜索收货单"}),(0,r.jsxs)("div",{className:"search-input-wrapper",children:[(0,r.jsx)("span",{className:"search-icon",children:"🔍"}),(0,r.jsx)("input",{type:"text",placeholder:"搜索收货单号、订单号、供应商、仓库、收货人...",value:j,onChange:e=>N(e.target.value),className:"glass-input"})]})]}),(0,r.jsxs)("div",{className:"filter-group",children:[(0,r.jsx)("label",{children:"收货状态"}),(0,r.jsxs)("select",{value:S,onChange:e=>I(e.target.value),className:"glass-select",children:[(0,r.jsx)("option",{value:"",children:"全部状态"}),(0,r.jsx)("option",{value:L.DRAFT,children:"草稿"}),(0,r.jsx)("option",{value:L.CONFIRMED,children:"已确认"})]})]}),(0,r.jsxs)("div",{className:"filter-group",children:[(0,r.jsx)("label",{children:"收货仓库"}),(0,r.jsxs)("select",{value:C,onChange:e=>_(e.target.value),className:"glass-select",children:[(0,r.jsx)("option",{value:"",children:"全部仓库"}),o.map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]})}),(0,r.jsxs)("div",{className:"content-section",children:[(0,r.jsxs)("div",{className:"section-header",children:[(0,r.jsx)("h3",{children:"采购收货单列表"}),(0,r.jsxs)("span",{className:"item-count",children:["共 ",q.length," 个收货单"]})]}),(0,r.jsxs)("div",{className:"glass-table-container",children:[(0,r.jsxs)("table",{className:"glass-table",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"收货单信息"}),(0,r.jsx)("th",{children:"采购订单"}),(0,r.jsx)("th",{children:"收货仓库"}),(0,r.jsx)("th",{children:"收货日期"}),(0,r.jsx)("th",{children:"收货数量"}),(0,r.jsx)("th",{children:"收货金额"}),(0,r.jsx)("th",{children:"状态"}),(0,r.jsx)("th",{children:"操作"})]})}),(0,r.jsx)("tbody",{children:q.map(e=>{return(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"receipt-info-cell",children:(0,r.jsxs)("div",{className:"receipt-info",children:[(0,r.jsx)("div",{className:"receipt-no",children:e.receiptNo}),(0,r.jsxs)("div",{className:"receipt-receiver",children:["收货人: ",e.receiver]}),e.remark&&(0,r.jsx)("div",{className:"receipt-remark",children:e.remark})]})}),(0,r.jsx)("td",{className:"order-cell",children:(0,r.jsx)("div",{className:"order-info",children:(0,r.jsx)("div",{className:"order-no",children:B(e.orderId)})})}),(0,r.jsx)("td",{className:"warehouse-cell",children:V(e.warehouseId)}),(0,r.jsx)("td",{className:"date-cell",children:(n=e.receiptDate,new Date(n).toLocaleDateString("zh-CN"))}),(0,r.jsx)("td",{className:"quantity-cell",children:(0,r.jsxs)("div",{className:"quantity-info",children:[(0,r.jsx)("div",{className:"total-quantity",children:e.totalQuantity}),e.items&&e.items.length>0&&(0,r.jsxs)("div",{className:"item-count",children:[e.items.length," 个项目"]})]})}),(0,r.jsxs)("td",{className:"amount-cell",children:["¥",e.totalAmount.toLocaleString()]}),(0,r.jsx)("td",{children:(0,r.jsx)("span",{className:`status-badge ${$(e.status)}`,children:M(e.status)})}),(0,r.jsxs)("td",{className:"actions-cell",children:[(0,r.jsx)("button",{className:"action-btn edit",onClick:()=>(e=>dr(void 0,void 0,void 0,function*(){b(e),y({orderId:e.orderId,warehouseId:e.warehouseId,receiptDate:e.receiptDate.toISOString().split("T")[0],status:e.status,receiver:e.receiver,remark:e.remark||""});const n=yield wt.getReceiptItems(e.id);yield T(e.orderId),k(n.map(e=>({id:e.id,productId:e.productId,orderItemId:e.orderItemId,quantity:e.quantity,unitPrice:e.unitPrice,maxQuantity:e.quantity}))),g(!0)}))(e),title:"编辑",children:"✏️"}),e.status===L.DRAFT&&(0,r.jsx)("button",{className:"action-btn confirm",onClick:()=>{return n=e.id,t=L.CONFIRMED,dr(void 0,void 0,void 0,function*(){try{yield wt.updateStatus(n,t),yield P()}catch(e){m(e instanceof Error?e.message:"更新收货状态失败"),console.error("Failed to update receipt status:",e)}});var n,t},title:"确认收货",children:"✅"}),(0,r.jsx)("button",{className:"action-btn delete",onClick:()=>{return n=e.id,dr(void 0,void 0,void 0,function*(){if(confirm("确定要删除这个采购收货单吗？删除后无法恢复！"))try{yield wt.delete(n),yield P()}catch(e){m(e instanceof Error?e.message:"删除采购收货单失败"),console.error("Failed to delete purchase receipt:",e)}});var n},title:"删除",children:"🗑️"})]})]},e.id);var n})})]}),0===q.length&&(0,r.jsxs)("div",{className:"empty-state",children:[(0,r.jsx)("div",{className:"empty-icon",children:"📦"}),(0,r.jsx)("h3",{children:"没有找到采购收货单"}),(0,r.jsx)("p",{children:"请调整搜索条件或创建新的收货单"})]})]})]}),f&&(0,r.jsx)("div",{className:"modal-overlay",children:(0,r.jsxs)("div",{className:"modal-content large-modal",children:[(0,r.jsxs)("div",{className:"modal-header",children:[(0,r.jsx)("h3",{children:v?"编辑采购收货单":"新建采购收货单"}),(0,r.jsx)("button",{className:"close-btn",onClick:z,children:"✕"})]}),(0,r.jsxs)("form",{onSubmit:e=>dr(void 0,void 0,void 0,function*(){if(e.preventDefault(),0!==w.length){for(const e of w)if(!e.productId||e.quantity<=0||e.quantity>e.maxQuantity)return void m("请检查收货项目信息，收货数量不能超过可收货数量");try{const e=s.find(e=>e.id===x.orderId);if(!e)return void m("请选择有效的采购订单");let n;if(v){n=yield wt.update(v.id,Object.assign(Object.assign({},x),{supplierId:e.supplierId,receiptDate:new Date(x.receiptDate)}));const t=yield wt.getReceiptItems(v.id);for(const e of t)yield wt.removeReceiptItem(e.id)}else n=yield wt.create(Object.assign(Object.assign({},x),{supplierId:e.supplierId,receiptDate:new Date(x.receiptDate)}));for(const e of w)yield wt.addReceiptItem(n.id,{productId:e.productId,orderItemId:e.orderItemId,quantity:e.quantity,unitPrice:e.unitPrice});yield P(),g(!1),b(null),y(ur),k([]),D([])}catch(e){m(e instanceof Error?e.message:"保存采购收货单失败"),console.error("Failed to save purchase receipt:",e)}}else m("请至少添加一个收货项目")}),className:"purchase-receipt-form",children:[(0,r.jsxs)("div",{className:"form-section",children:[(0,r.jsx)("h4",{children:"基本信息"}),(0,r.jsxs)("div",{className:"form-grid",children:[(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"采购订单 *"}),(0,r.jsxs)("select",{value:x.orderId,onChange:e=>T(e.target.value),className:"glass-select",required:!0,children:[(0,r.jsx)("option",{value:"",children:"请选择采购订单"}),s.filter(e=>"confirmed"===e.status||"partial"===e.status).map(e=>{var n;return(0,r.jsxs)("option",{value:e.id,children:[e.orderNo," - ",null===(n=e.supplier)||void 0===n?void 0:n.name," - ¥",e.finalAmount.toLocaleString()]},e.id)})]})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"收货仓库 *"}),(0,r.jsxs)("select",{value:x.warehouseId,onChange:e=>R("warehouseId",e.target.value),className:"glass-select",required:!0,children:[(0,r.jsx)("option",{value:"",children:"请选择收货仓库"}),o.map(e=>(0,r.jsxs)("option",{value:e.id,children:[e.name," (",e.code,")"]},e.id))]})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"收货日期 *"}),(0,r.jsx)("input",{type:"date",value:x.receiptDate,onChange:e=>R("receiptDate",e.target.value),className:"glass-input",required:!0})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"收货状态"}),(0,r.jsxs)("select",{value:x.status,onChange:e=>R("status",e.target.value),className:"glass-select",children:[(0,r.jsx)("option",{value:L.DRAFT,children:"草稿"}),(0,r.jsx)("option",{value:L.CONFIRMED,children:"已确认"})]})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"收货人"}),(0,r.jsx)("input",{type:"text",value:x.receiver,onChange:e=>R("receiver",e.target.value),className:"glass-input",placeholder:"收货人姓名"})]}),(0,r.jsxs)("div",{className:"form-group full-width",children:[(0,r.jsx)("label",{children:"备注说明"}),(0,r.jsx)("textarea",{value:x.remark,onChange:e=>R("remark",e.target.value),className:"glass-textarea",placeholder:"收货备注说明",rows:3})]})]})]}),(0,r.jsxs)("div",{className:"form-section",children:[(0,r.jsx)("div",{className:"section-header",children:(0,r.jsx)("h4",{children:"收货项目"})}),0===w.length?(0,r.jsxs)("div",{className:"empty-items",children:[(0,r.jsx)("div",{className:"empty-icon",children:"📦"}),(0,r.jsx)("p",{children:"请先选择采购订单，系统将自动加载可收货的项目"})]}):(0,r.jsx)("div",{className:"items-table-container",children:(0,r.jsxs)("table",{className:"items-table",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"商品"}),(0,r.jsx)("th",{children:"收货数量"}),(0,r.jsx)("th",{children:"单价"}),(0,r.jsx)("th",{children:"金额"}),(0,r.jsx)("th",{children:"操作"})]})}),(0,r.jsx)("tbody",{children:w.map(e=>{const n=e.quantity*e.unitPrice;return(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsxs)("div",{className:"product-info",children:[(0,r.jsx)("div",{className:"product-name",children:U(e.productId)}),(0,r.jsxs)("div",{className:"product-note",children:["最大可收: ",e.maxQuantity]})]})}),(0,r.jsx)("td",{children:(0,r.jsx)("input",{type:"number",min:"0.01",max:e.maxQuantity,step:"0.01",value:e.quantity,onChange:n=>F(e.id,"quantity",parseFloat(n.target.value)||0),className:"glass-input",placeholder:"收货数量",required:!0})}),(0,r.jsx)("td",{children:(0,r.jsx)("input",{type:"number",min:"0.01",step:"0.01",value:e.unitPrice,onChange:n=>F(e.id,"unitPrice",parseFloat(n.target.value)||0),className:"glass-input",placeholder:"单价",required:!0})}),(0,r.jsxs)("td",{className:"amount-cell",children:["¥",n.toFixed(2)]}),(0,r.jsx)("td",{children:(0,r.jsx)("button",{type:"button",className:"action-btn delete",onClick:()=>{return n=e.id,void k(e=>e.filter(e=>e.id!==n));var n},title:"删除",children:"🗑️"})})]},e.id)})})]})})]}),w.length>0&&(0,r.jsxs)("div",{className:"form-section",children:[(0,r.jsx)("h4",{children:"收货汇总"}),(0,r.jsxs)("div",{className:"receipt-summary",children:[(0,r.jsxs)("div",{className:"summary-row",children:[(0,r.jsx)("span",{className:"summary-label",children:"收货项目数："}),(0,r.jsxs)("span",{className:"summary-value",children:[w.length," 个"]})]}),(0,r.jsxs)("div",{className:"summary-row",children:[(0,r.jsx)("span",{className:"summary-label",children:"收货总数量："}),(0,r.jsx)("span",{className:"summary-value",children:w.reduce((e,n)=>e+n.quantity,0)})]}),(0,r.jsxs)("div",{className:"summary-row total",children:[(0,r.jsx)("span",{className:"summary-label",children:"收货总金额："}),(0,r.jsxs)("span",{className:"summary-value",children:["¥",w.reduce((e,n)=>e+n.quantity*n.unitPrice,0).toFixed(2)]})]})]})]}),(0,r.jsxs)("div",{className:"form-actions",children:[(0,r.jsx)("button",{type:"button",onClick:z,className:"glass-button secondary",children:"取消"}),(0,r.jsx)("button",{type:"submit",className:"glass-button primary",children:v?"更新收货单":"创建收货单"})]})]})]})})]})}},hr=({title:e,description:n})=>(0,r.jsx)("div",{className:"development-page",children:(0,r.jsxs)("div",{className:"development-container",children:[(0,r.jsx)("div",{className:"development-icon",children:"🚧"}),(0,r.jsx)("h2",{className:"development-title",children:e}),(0,r.jsx)("p",{className:"development-description",children:n}),(0,r.jsxs)("div",{className:"development-info",children:[(0,r.jsxs)("div",{className:"info-item",children:[(0,r.jsx)("span",{className:"info-label",children:"开发状态:"}),(0,r.jsx)("span",{className:"info-value",children:"规划中"})]}),(0,r.jsxs)("div",{className:"info-item",children:[(0,r.jsx)("span",{className:"info-label",children:"预计完成:"}),(0,r.jsx)("span",{className:"info-value",children:"2024年1月"})]})]}),(0,r.jsx)("button",{className:"back-to-dashboard",onClick:()=>window.location.hash="dashboard",children:"返回仪表板"})]})}),mr=(e,n)=>()=>(0,r.jsx)(hr,{title:e,description:n}),fr=Object.assign(Object.assign({},pr),{customers:mr("客户管理","管理客户信息、等级和销售关系"),"sales-orders":mr("销售订单","创建、管理和跟踪销售订单"),"sales-delivery":mr("销售出库","处理销售出库、发货和配送"),"accounts-payable":mr("应付账款","管理应付账款、付款计划和供应商结算"),"accounts-receivable":mr("应收账款","管理应收账款、收款计划和客户结算"),payments:mr("付款记录","记录和管理所有付款交易"),receipts:mr("收款记录","记录和管理所有收款交易"),"inventory-reports":mr("库存报表","库存分析、周转率和库存预警报表"),"sales-reports":mr("销售报表","销售业绩、趋势分析和客户分析报表"),"purchase-reports":mr("采购报表","采购分析、供应商评估和成本分析报表"),"financial-reports":mr("财务报表","财务状况、现金流和盈利分析报表"),users:mr("用户管理","管理系统用户、角色和访问权限"),permissions:mr("权限管理","配置用户权限、角色权限和功能权限"),settings:mr("系统设置","系统配置、参数设置和个性化选项"),logs:mr("操作日志","查看系统操作记录、审计跟踪和异常日志")}),gr=({currentPage:e})=>{const n=fr[e];return n?(0,r.jsx)("div",{className:"page-container",children:(0,r.jsx)(n,{})}):(0,r.jsx)("div",{className:"page-not-found",children:(0,r.jsxs)("div",{className:"not-found-container",children:[(0,r.jsx)("div",{className:"not-found-icon",children:"❓"}),(0,r.jsx)("h2",{className:"not-found-title",children:"页面未找到"}),(0,r.jsxs)("p",{className:"not-found-description",children:['抱歉，找不到页面 "',e,'"']}),(0,r.jsx)("button",{className:"back-to-dashboard",onClick:()=>window.location.hash="dashboard",children:"返回仪表板"})]})})};const vr=class{static initializeTestData(){return e=this,n=void 0,r=function*(){try{console.log("开始初始化测试数据..."),yield At.initialize();const e=[{name:"电子产品",description:"电子设备和配件",code:"ELEC",level:1,sortOrder:1,isActive:!0},{name:"办公用品",description:"办公室用品和设备",code:"OFFICE",level:1,sortOrder:2,isActive:!0},{name:"日用品",description:"日常生活用品",code:"DAILY",level:1,sortOrder:3,isActive:!0},{name:"图书",description:"各类书籍和资料",code:"BOOK",level:1,sortOrder:4,isActive:!0}];for(const n of e)yield st.create(n);const n=[{name:"件",symbol:"pcs",description:"计件单位",precision:0},{name:"台",symbol:"set",description:"设备单位",precision:0},{name:"盒",symbol:"box",description:"盒装单位",precision:0},{name:"本",symbol:"book",description:"图书单位",precision:0}];for(const e of n)yield ot.create(e);const t=[{name:"总仓库",code:"WH001",address:"北京市朝阳区XX路XX号",manager:"张三",phone:"010-12345678",isDefault:!0},{name:"分仓库A",code:"WH002",address:"上海市浦东新区XX路XX号",manager:"李四",phone:"021-87654321",isDefault:!1}];for(const e of t)yield ct.create(e);const r=yield st.findAll(),a=yield ot.findAll(),s=yield ct.findAll(),i=[{name:"iPhone 15 Pro",code:"IP15PRO",sku:"IP15PRO-256-BLK",categoryId:r[0].id,unitId:a[1].id,description:"苹果最新旗舰手机",specification:"256GB 深空黑色",purchasePrice:8e3,salePrice:9999,minStock:5,maxStock:50,status:E.ACTIVE},{name:"MacBook Air M2",code:"MBA2023",sku:"MBA2023-512-SLV",categoryId:r[0].id,unitId:a[1].id,description:"苹果笔记本电脑",specification:"13寸 512GB SSD",purchasePrice:9e3,salePrice:11999,minStock:3,maxStock:20,status:E.ACTIVE},{name:"办公椅",code:"CHAIR001",sku:"CHAIR001-BLK-L",categoryId:r[1].id,unitId:a[0].id,description:"人体工学办公椅",specification:"黑色真皮",purchasePrice:800,salePrice:1200,minStock:10,maxStock:100,status:E.ACTIVE},{name:"A4复印纸",code:"PAPER001",sku:"PAPER001-A4-500",categoryId:r[1].id,unitId:a[2].id,description:"高品质复印纸",specification:"500张/包",purchasePrice:25,salePrice:35,minStock:50,maxStock:500,status:E.ACTIVE},{name:"无线鼠标",code:"MOUSE001",sku:"MOUSE001-2.4G-BLK",categoryId:r[0].id,unitId:a[0].id,description:"无线蓝牙鼠标",specification:"2.4G无线",purchasePrice:50,salePrice:89,minStock:20,maxStock:200,status:E.ACTIVE}];for(const e of i)yield rt.create(e);const o=yield rt.findAll(),l=s.find(e=>e.isDefault);if(l)for(const e of o){const n={productId:e.id,warehouseId:l.id,currentStock:Math.floor(100*Math.random())+10,availableStock:0,reservedStock:Math.floor(5*Math.random()),minStock:10,maxStock:200,avgCost:e.purchasePrice,unitPrice:e.salePrice,lastMovementDate:new Date};n.availableStock=n.currentStock-n.reservedStock,yield ut.createOrUpdateStock(n)}const c=[{name:"苹果授权经销商",code:"SUP001",contactPerson:"王经理",phone:"400-666-8888",email:"wang@apple-dealer.com",address:"北京市海淀区中关村大街XX号",rating:D.A,creditLimit:1e6,status:P.ACTIVE},{name:"办公用品批发商",code:"SUP002",contactPerson:"刘总",phone:"010-88888888",email:"liu@office-supply.com",address:"上海市静安区南京西路XX号",rating:D.B,creditLimit:5e5,status:P.ACTIVE}];for(const e of c)yield ht.create(e);const d=[{name:"ABC科技有限公司",code:"CUS001",contactPerson:"陈总",phone:"021-99999999",email:"chen@abc-tech.com",address:"深圳市南山区科技园XX号",level:F.VIP,customerType:R.COMPANY,creditLimit:1e5,discountRate:.1,status:M.ACTIVE},{name:"XYZ贸易公司",code:"CUS002",contactPerson:"赵经理",phone:"0755-77777777",email:"zhao@xyz-trade.com",address:"广州市天河区珠江新城XX号",level:F.BRONZE,customerType:R.COMPANY,creditLimit:5e4,discountRate:.05,status:M.ACTIVE}];for(const e of d)yield ft.create(e);console.log("测试数据初始化完成！"),console.log(`创建了 ${r.length} 个分类`),console.log(`创建了 ${a.length} 个单位`),console.log(`创建了 ${s.length} 个仓库`),console.log(`创建了 ${o.length} 个商品`),console.log(`创建了 ${c.length} 个供应商`),console.log(`创建了 ${d.length} 个客户`)}catch(e){console.error("初始化测试数据失败:",e)}},new((t=void 0)||(t=Promise))(function(a,s){function i(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var n;e.done?a(e.value):(n=e.value,n instanceof t?n:new t(function(e){e(n)})).then(i,o)}l((r=r.apply(e,n||[])).next())});var e,n,t,r}};var br=t(180),xr={};xr.styleTagTransform=w(),xr.setAttributes=v(),xr.insert=f().bind(null,"head"),xr.domAPI=h(),xr.insertStyleElement=x(),u()(br.A,xr),br.A&&br.A.locals&&br.A.locals;s.createRoot(document.getElementById("root")).render((0,r.jsx)(a.StrictMode,{children:(0,r.jsx)(()=>{const[e,n]=(0,a.useState)("dashboard"),[t,s]=(0,a.useState)(!0),[i,o]=(0,a.useState)(null);return(0,a.useEffect)(()=>{const e=localStorage.getItem("inventory-system-theme")||"glass-future";document.documentElement.setAttribute("data-theme",e),document.body.className=`theme-${e}`;const t=()=>{const e=window.location.hash.replace("#","");e&&n(e)};t(),window.addEventListener("hashchange",t);const r=setTimeout(()=>{return e=void 0,n=void 0,r=function*(){try{yield vr.initializeTestData(),s(!1)}catch(e){console.error("系统初始化失败:",e),o("系统初始化失败，请刷新页面重试"),s(!1)}},new((t=void 0)||(t=Promise))(function(a,s){function i(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var n;e.done?a(e.value):(n=e.value,n instanceof t?n:new t(function(e){e(n)})).then(i,o)}l((r=r.apply(e,n||[])).next())});var e,n,t,r},1e3);return()=>{window.removeEventListener("hashchange",t),clearTimeout(r)}},[]),t?(0,r.jsx)("div",{className:"app-loading",children:(0,r.jsxs)("div",{className:"loading-container",children:[(0,r.jsxs)("div",{className:"loading-animation",children:[(0,r.jsx)("div",{className:"loading-spinner"}),(0,r.jsxs)("div",{className:"loading-dots",children:[(0,r.jsx)("span",{}),(0,r.jsx)("span",{}),(0,r.jsx)("span",{})]})]}),(0,r.jsx)("h2",{className:"loading-title",children:"进销存管理系统"}),(0,r.jsx)("p",{className:"loading-text",children:"系统正在初始化..."}),(0,r.jsx)("div",{className:"loading-progress",children:(0,r.jsx)("div",{className:"progress-bar"})}),(0,r.jsxs)("div",{className:"loading-tips",children:[(0,r.jsx)("p",{children:"✨ 全新UI界面设计"}),(0,r.jsx)("p",{children:"🚀 左侧导航栏可收缩"}),(0,r.jsx)("p",{children:"📊 丰富的Dashboard功能"})]})]})}):i?(0,r.jsx)("div",{className:"app-error",children:(0,r.jsxs)("div",{className:"error-container",children:[(0,r.jsx)("div",{className:"error-icon",children:"❌"}),(0,r.jsx)("h2",{className:"error-title",children:"系统初始化失败"}),(0,r.jsx)("p",{className:"error-message",children:i}),(0,r.jsx)("button",{className:"error-retry",onClick:()=>window.location.reload(),children:"重新加载"})]})}):(0,r.jsx)("div",{className:"app",children:(0,r.jsx)(A,{children:(0,r.jsx)(gr,{currentPage:e})})})},{})}))})();